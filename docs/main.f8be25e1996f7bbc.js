(self.webpackChunkPokemonTCGPCollector=self.webpackChunkPokemonTCGPCollector||[]).push([[179],{538:(Dt,ae,K)=>{"use strict";function X(t){return"function"==typeof t}function ge(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Pe=ge(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ue(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class M{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(X(r))try{r()}catch(i){e=i instanceof Pe?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{G(i)}catch(s){e=e??[],s instanceof Pe?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Pe(e)}}add(e){var n;if(e&&e!==this)if(this.closed)G(e);else{if(e instanceof M){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ue(n,e)}remove(e){const{_finalizers:n}=this;n&&Ue(n,e),e instanceof M&&e._removeParent(this)}}M.EMPTY=(()=>{const t=new M;return t.closed=!0,t})();const I=M.EMPTY;function U(t){return t instanceof M||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function G(t){X(t)?t():t.unsubscribe()}const Q={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},we={setTimeout(t,e,...n){const{delegate:r}=we;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=we;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Oe(t){we.setTimeout(()=>{const{onUnhandledError:e}=Q;if(!e)throw t;e(t)})}function _e(){}const Re=Et("C",void 0,void 0);function Et(t,e,n){return{kind:t,value:e,error:n}}let qe=null;function tt(t){if(Q.useDeprecatedSynchronousErrorHandling){const e=!qe;if(e&&(qe={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=qe;if(qe=null,n)throw r}}else t()}class Kn extends M{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,U(e)&&e.add(this)):this.destination=wa}static create(e,n,r){return new Wt(e,n,r)}next(e){this.isStopped?lo(function Lt(t){return Et("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?lo(function et(t){return Et("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lo(Re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qt=Function.prototype.bind;function mn(t,e){return qt.call(t,e)}class Zi{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){yn(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){yn(r)}else yn(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){yn(n)}}}class Wt extends Kn{constructor(e,n,r){let o;if(super(),X(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Q.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&mn(e.next,i),error:e.error&&mn(e.error,i),complete:e.complete&&mn(e.complete,i)}):o=e}this.destination=new Zi(o)}}function yn(t){Q.useDeprecatedSynchronousErrorHandling?function bt(t){Q.useDeprecatedSynchronousErrorHandling&&qe&&(qe.errorThrown=!0,qe.error=t)}(t):Oe(t)}function lo(t,e){const{onStoppedNotification:n}=Q;n&&we.setTimeout(()=>n(t,e))}const wa={closed:!0,next:_e,error:function jr(t){throw t},complete:_e},No="function"==typeof Symbol&&Symbol.observable||"@@observable";function Yn(t){return t}function Xi(t){return 0===t.length?Yn:1===t.length?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}let $e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function Ma(t){return t&&t instanceof Kn||function Sa(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}(t)&&U(t)}(n)?n:new Wt(n,r,o);return tt(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ea(r))((o,i)=>{const s=new Wt({next:a=>{try{n(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[No](){return this}pipe(...n){return Xi(n)(this)}toPromise(n){return new(n=Ea(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Ea(t){var e;return null!==(e=t??Q.Promise)&&void 0!==e?e:Promise}const Qc=ge(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let v=(()=>{class t extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new D(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Qc}next(n){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){tt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:i}=this;return r||o?I:(this.currentObservers=null,i.push(n),new M(()=>{this.currentObservers=null,Ue(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){const n=new $e;return n.source=this,n}}return t.create=(e,n)=>new D(e,n),t})();class D extends v{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:I}}function S(t){return X(t?.lift)}function w(t){return e=>{if(S(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function R(t,e,n,r,o){return new j(t,e,n,r,o)}class j extends Kn{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function O(t,e){return w((n,r)=>{let o=0;n.subscribe(R(r,i=>{r.next(t.call(e,i,o++))}))})}var F=K(582);const wt=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function se(t){return X(t?.then)}function ze(t){return X(t[No])}function mt(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function Vr(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Tt=function Fe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Jt(t){return X(t?.[Tt])}function vn(t){return(0,F.__asyncGenerator)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:o}=yield(0,F.__await)(n.read());if(o)return yield(0,F.__await)(void 0);yield yield(0,F.__await)(r)}}finally{n.releaseLock()}})}function Qn(t){return X(t?.getReader)}function Pn(t){if(t instanceof $e)return t;if(null!=t){if(ze(t))return function HD(t){return new $e(e=>{const n=t[No]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(wt(t))return function zD(t){return new $e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(se(t))return function GD(t){return new $e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Oe)})}(t);if(mt(t))return Up(t);if(Jt(t))return function qD(t){return new $e(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Qn(t))return function WD(t){return Up(vn(t))}(t)}throw Vr(t)}function Up(t){return new $e(e=>{(function JD(t,e){var n,r,o,i;return(0,F.__awaiter)(this,void 0,void 0,function*(){try{for(n=(0,F.__asyncValues)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function mr(t,e,n,r=0,o=!1){const i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function St(t,e,n=1/0){return X(e)?St((r,o)=>O((i,s)=>e(r,i,o,s))(Pn(t(r,o))),n):("number"==typeof e&&(n=e),w((r,o)=>function KD(t,e,n,r,o,i,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{i&&e.next(g),c++;let y=!1;Pn(n(g,u++)).subscribe(R(e,C=>{o?.(C),i?f(C):e.next(C)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<r;){const C=l.shift();s?mr(e,s,()=>p(C)):p(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(R(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,o,t,n)))}function Fo(t=1/0){return St(Yn,t)}const Zn=new $e(t=>t.complete());function Zc(t){return t[t.length-1]}function $p(t){return X(Zc(t))?t.pop():void 0}function es(t){return function QD(t){return t&&X(t.schedule)}(Zc(t))?t.pop():void 0}function Bp(t,e=0){return w((n,r)=>{n.subscribe(R(r,o=>mr(r,t,()=>r.next(o),e),()=>mr(r,t,()=>r.complete(),e),o=>mr(r,t,()=>r.error(o),e)))})}function Hp(t,e=0){return w((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function zp(t,e){if(!t)throw new Error("Iterable cannot be null");return new $e(n=>{mr(n,e,()=>{const r=t[Symbol.asyncIterator]();mr(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function lt(t,e){return e?function oE(t,e){if(null!=t){if(ze(t))return function XD(t,e){return Pn(t).pipe(Hp(e),Bp(e))}(t,e);if(wt(t))return function tE(t,e){return new $e(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(se(t))return function eE(t,e){return Pn(t).pipe(Hp(e),Bp(e))}(t,e);if(mt(t))return zp(t,e);if(Jt(t))return function nE(t,e){return new $e(n=>{let r;return mr(n,e,()=>{r=t[Tt](),mr(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void n.error(s)}i?n.complete():n.next(o)},0,!0)}),()=>X(r?.return)&&r.return()})}(t,e);if(Qn(t))return function rE(t,e){return zp(vn(t),e)}(t,e)}throw Vr(t)}(t,e):Pn(t)}function Xc(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Wt({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function ke(t){for(let e in t)if(t[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function eu(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Le(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Le).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function tu(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const aE=ke({__forward_ref__:ke});function je(t){return t.__forward_ref__=je,t.toString=function(){return Le(this())},t}function te(t){return nu(t)?t():t}function nu(t){return"function"==typeof t&&t.hasOwnProperty(aE)&&t.__forward_ref__===je}function ru(t){return t&&!!t.\u0275providers}const Gp="https://g.co/ng/security#xss";class L extends Error{constructor(e,n){super(Ia(e,n)),this.code=e}}function Ia(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function le(t){return"string"==typeof t?t:null==t?"":String(t)}function xa(t,e){throw new L(-201,!1)}function _n(t,e){null==t&&function Ie(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Cn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Aa(t){return qp(t,Ta)||qp(t,Jp)}function qp(t,e){return t.hasOwnProperty(e)?t[e]:null}function Wp(t){return t&&(t.hasOwnProperty(ou)||t.hasOwnProperty(gE))?t[ou]:null}const Ta=ke({\u0275prov:ke}),ou=ke({\u0275inj:ke}),Jp=ke({ngInjectableDef:ke}),gE=ke({ngInjectorDef:ke});var ne=(()=>((ne=ne||{})[ne.Default=0]="Default",ne[ne.Host=1]="Host",ne[ne.Self=2]="Self",ne[ne.SkipSelf=4]="SkipSelf",ne[ne.Optional=8]="Optional",ne))();let iu;function bn(t){const e=iu;return iu=t,e}function Kp(t,e,n){const r=Aa(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ne.Optional?null:void 0!==e?e:void xa(Le(t))}const Be=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ts={},su="__NG_DI_FLAG__",Oa="ngTempTokenPath",yE="ngTokenPath",vE=/\n/gm,_E="\u0275",Yp="__source";let ns;function Lo(t){const e=ns;return ns=t,e}function CE(t,e=ne.Default){if(void 0===ns)throw new L(-203,!1);return null===ns?Kp(t,void 0,e):ns.get(t,e&ne.Optional?null:void 0,e)}function B(t,e=ne.Default){return(function mE(){return iu}()||CE)(te(t),e)}function me(t,e=ne.Default){return B(t,Pa(e))}function Pa(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function au(t){const e=[];for(let n=0;n<t.length;n++){const r=te(t[n]);if(Array.isArray(r)){if(0===r.length)throw new L(900,!1);let o,i=ne.Default;for(let s=0;s<r.length;s++){const a=r[s],l=bE(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}e.push(B(o,i))}else e.push(B(r))}return e}function rs(t,e){return t[su]=e,t.prototype[su]=e,t}function bE(t){return t[su]}function yr(t){return{toString:t}.toString()}var Xn=(()=>((Xn=Xn||{})[Xn.OnPush=0]="OnPush",Xn[Xn.Default=1]="Default",Xn))(),er=(()=>{return(t=er||(er={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",er;var t})();const vr={},Se=[],Ra=ke({\u0275cmp:ke}),lu=ke({\u0275dir:ke}),cu=ke({\u0275pipe:ke}),Zp=ke({\u0275mod:ke}),_r=ke({\u0275fac:ke}),os=ke({__NG_ELEMENT_ID__:ke});let EE=0;function $r(t){return yr(()=>{const e=eg(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Xn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||er.Emulated,id:"c"+EE++,styles:t.styles||Se,_:null,schemas:t.schemas||null,tView:null};tg(n);const r=t.dependencies;return n.directiveDefs=ka(r,!1),n.pipeDefs=ka(r,!0),n})}function ME(t){return xe(t)||Ot(t)}function IE(t){return null!==t}function Rn(t){return yr(()=>({type:t.type,bootstrap:t.bootstrap||Se,declarations:t.declarations||Se,imports:t.imports||Se,exports:t.exports||Se,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Xp(t,e){if(null==t)return vr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,e&&(e[o]=i)}return n}function oe(t){return yr(()=>{const e=eg(t);return tg(e),e})}function xe(t){return t[Ra]||null}function Ot(t){return t[lu]||null}function Yt(t){return t[cu]||null}function on(t,e){const n=t[Zp]||null;if(!n&&!0===e)throw new Error(`Type ${Le(t)} does not have '\u0275mod' property.`);return n}function eg(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||Se,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xp(t.inputs,e),outputs:Xp(t.outputs)}}function tg(t){t.features?.forEach(e=>e(t))}function ka(t,e){if(!t)return null;const n=e?Yt:ME;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(IE)}const Cr=0,H=1,fe=2,Ye=3,kn=4,co=5,Pt=6,Vo=7,nt=8,Na=9,Fa=10,ye=11,uu=12,is=13,ng=14,Uo=15,Rt=16,ss=17,$o=18,tr=19,as=20,rg=21,He=22,du=1,og=2,La=7,ja=8,Bo=9,jt=10;function sn(t){return Array.isArray(t)&&"object"==typeof t[du]}function Nn(t){return Array.isArray(t)&&!0===t[du]}function hu(t){return 0!=(4&t.flags)}function ls(t){return t.componentOffset>-1}function Va(t){return 1==(1&t.flags)}function Fn(t){return!!t.template}function AE(t){return 0!=(256&t[fe])}function uo(t,e){return t.hasOwnProperty(_r)?t[_r]:null}class PE{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function wn(){return ag}function ag(t){return t.type.prototype.ngOnChanges&&(t.setInput=kE),RE}function RE(){const t=cg(this),e=t?.current;if(e){const n=t.previous;if(n===vr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function kE(t,e,n,r){const o=this.declaredInputs[n],i=cg(t)||function NE(t,e){return t[lg]=e}(t,{previous:vr,current:null}),s=i.current||(i.current={}),a=i.previous,l=a[o];s[o]=new PE(l&&l.currentValue,e,a===vr),t[r]=e}wn.ngInherit=!0;const lg="__ngSimpleChanges__";function cg(t){return t[lg]||null}const Dn=function(t,e,n){};function Mt(t){for(;Array.isArray(t);)t=t[Cr];return t}function Ua(t,e){return Mt(e[t])}function an(t,e){return Mt(e[t.index])}function hg(t,e){return t.data[e]}function Qt(t,e){const n=e[t];return sn(n)?n:n[Cr]}function $a(t){return 64==(64&t[fe])}function Br(t,e){return null==e?null:t[e]}function fg(t){t[$o]=0}function pu(t,e){t[co]+=e;let n=t,r=t[Ye];for(;null!==r&&(1===e&&1===n[co]||-1===e&&0===n[co]);)r[co]+=e,n=r,r=r[Ye]}const ce={lFrame:Dg(null),bindingsEnabled:!0};function gg(){return ce.bindingsEnabled}function k(){return ce.lFrame.lView}function De(){return ce.lFrame.tView}function Zt(t){return ce.lFrame.contextLView=t,t[nt]}function Xt(t){return ce.lFrame.contextLView=null,t}function It(){let t=mg();for(;null!==t&&64===t.type;)t=t.parent;return t}function mg(){return ce.lFrame.currentTNode}function nr(t,e){const n=ce.lFrame;n.currentTNode=t,n.isParent=e}function gu(){return ce.lFrame.isParent}function mu(){ce.lFrame.isParent=!1}function zo(){return ce.lFrame.bindingIndex++}function wr(t){const e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function JE(t,e){const n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,yu(e)}function yu(t){ce.lFrame.currentDirectiveIndex=t}function Cg(){return ce.lFrame.currentQueryIndex}function _u(t){ce.lFrame.currentQueryIndex=t}function YE(t){const e=t[H];return 2===e.type?e.declTNode:1===e.type?t[Pt]:null}function bg(t,e,n){if(n&ne.SkipSelf){let o=e,i=t;for(;!(o=o.parent,null!==o||n&ne.Host||(o=YE(i),null===o||(i=i[Uo],10&o.type))););if(null===o)return!1;e=o,t=i}const r=ce.lFrame=wg();return r.currentTNode=e,r.lView=t,!0}function Cu(t){const e=wg(),n=t[H];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function wg(){const t=ce.lFrame,e=null===t?null:t.child;return null===e?Dg(t):e}function Dg(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Eg(){const t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Sg=Eg;function bu(){const t=Eg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ut(){return ce.lFrame.selectedIndex}function ho(t){ce.lFrame.selectedIndex=t}function We(){const t=ce.lFrame;return hg(t.tView,t.selectedIndex)}function Ba(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=i;s&&(t.contentHooks??(t.contentHooks=[])).push(-n,s),a&&((t.contentHooks??(t.contentHooks=[])).push(n,a),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks??(t.viewHooks=[])).push(-n,l),c&&((t.viewHooks??(t.viewHooks=[])).push(n,c),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(n,c)),null!=u&&(t.destroyHooks??(t.destroyHooks=[])).push(n,u)}}function Ha(t,e,n){Mg(t,e,3,n)}function za(t,e,n,r){(3&t[fe])===n&&Mg(t,e,n,r)}function wu(t,e){let n=t[fe];(3&n)===e&&(n&=2047,n+=1,t[fe]=n)}function Mg(t,e,n,r){const i=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[$o]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[$o]+=65536),(a<i||-1==i)&&(iS(t,n,e,l),t[$o]=(4294901760&t[$o])+l+2),l++}function iS(t,e,n,r){const o=n[r]<0,i=n[r+1],a=t[o?-n[r]:n[r]];if(o){if(t[fe]>>11<t[$o]>>16&&(3&t[fe])===e){t[fe]+=2048,Dn(4,a,i);try{i.call(a)}finally{Dn(5,a,i)}}}else{Dn(4,a,i);try{i.call(a)}finally{Dn(5,a,i)}}}const Go=-1;class us{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Eu(t,e,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{const i=o,s=n[++r];xg(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function Ig(t){return 3===t||4===t||6===t}function xg(t){return 64===t.charCodeAt(0)}function ds(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?n=o:0===n||Ag(t,n,o,null,-1===n||2===n?e[++r]:null)}}return t}function Ag(t,e,n,r,o){let i=0,s=t.length;if(-1===e)s=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}function Tg(t){return t!==Go}function Ga(t){return 32767&t}function qa(t,e){let n=function cS(t){return t>>16}(t),r=e;for(;n>0;)r=r[Uo],n--;return r}let Su=!0;function Wa(t){const e=Su;return Su=t,e}const Og=255,Pg=5;let uS=0;const rr={};function Ja(t,e){const n=Rg(t,e);if(-1!==n)return n;const r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,Mu(r.data,t),Mu(e,null),Mu(r.blueprint,null));const o=Iu(t,e),i=t.injectorIndex;if(Tg(o)){const s=Ga(o),a=qa(o,e),l=a[H].data;for(let c=0;c<8;c++)e[i+c]=a[s+c]|l[s+c]}return e[i+8]=o,i}function Mu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Rg(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Iu(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;null!==o;){if(r=Ug(o),null===r)return Go;if(n++,o=o[Uo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Go}function xu(t,e,n){!function dS(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(os)&&(r=n[os]),null==r&&(r=n[os]=uS++);const o=r&Og;e.data[t+(o>>Pg)]|=1<<o}(t,e,n)}function kg(t,e,n){if(n&ne.Optional||void 0!==t)return t;xa()}function Ng(t,e,n,r){if(n&ne.Optional&&void 0===r&&(r=null),!(n&(ne.Self|ne.Host))){const o=t[Na],i=bn(void 0);try{return o?o.get(e,r,n&ne.Optional):Kp(e,r,n&ne.Optional)}finally{bn(i)}}return kg(r,0,n)}function Fg(t,e,n,r=ne.Default,o){if(null!==t){if(1024&e[fe]){const s=function mS(t,e,n,r,o){let i=t,s=e;for(;null!==i&&null!==s&&1024&s[fe]&&!(256&s[fe]);){const a=Lg(i,s,n,r|ne.Self,rr);if(a!==rr)return a;let l=i.parent;if(!l){const c=s[rg];if(c){const u=c.get(n,rr,r);if(u!==rr)return u}l=Ug(s),s=s[Uo]}i=l}return o}(t,e,n,r,rr);if(s!==rr)return s}const i=Lg(t,e,n,r,rr);if(i!==rr)return i}return Ng(e,n,r,o)}function Lg(t,e,n,r,o){const i=function pS(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(os)?t[os]:void 0;return"number"==typeof e?e>=0?e&Og:gS:e}(n);if("function"==typeof i){if(!bg(e,t,r))return r&ne.Host?kg(o,0,r):Ng(e,n,r,o);try{const s=i(r);if(null!=s||r&ne.Optional)return s;xa()}finally{Sg()}}else if("number"==typeof i){let s=null,a=Rg(t,e),l=Go,c=r&ne.Host?e[Rt][Pt]:null;for((-1===a||r&ne.SkipSelf)&&(l=-1===a?Iu(t,e):e[a+8],l!==Go&&Vg(r,!1)?(s=e[H],a=Ga(l),e=qa(l,e)):a=-1);-1!==a;){const u=e[H];if(jg(i,a,u.data)){const d=fS(a,e,n,s,r,c);if(d!==rr)return d}l=e[a+8],l!==Go&&Vg(r,e[H].data[a+8]===c)&&jg(i,a,e)?(s=u,a=Ga(l),e=qa(l,e)):a=-1}}return o}function fS(t,e,n,r,o,i){const s=e[H],a=s.data[t+8],u=Ka(a,s,n,null==r?ls(a)&&Su:r!=s&&0!=(3&a.type),o&ne.Host&&i===a);return null!==u?fo(e,s,u,a):rr}function Ka(t,e,n,r,o){const i=t.providerIndexes,s=e.data,a=1048575&i,l=t.directiveStart,u=i>>20,h=o?a+u:t.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(o){const f=s[l];if(f&&Fn(f)&&f.type===n)return l}return null}function fo(t,e,n,r){let o=t[n];const i=e.data;if(function sS(t){return t instanceof us}(o)){const s=o;s.resolving&&function lE(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new L(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Me(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():le(t)}(i[n]));const a=Wa(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?bn(s.injectImpl):null;bg(t,r,ne.Default);try{o=t[n]=s.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&function oS(t,e,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=ag(e);(n.preOrderHooks??(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-t,o),i&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,i))}(n,i[n],e)}finally{null!==l&&bn(l),Wa(a),s.resolving=!1,Sg()}}return o}function jg(t,e,n){return!!(n[e+(t>>Pg)]&1<<t)}function Vg(t,e){return!(t&ne.Self||t&ne.Host&&e)}class qo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Fg(this._tNode,this._lView,e,Pa(r),n)}}function gS(){return new qo(It(),k())}function xt(t){return yr(()=>{const e=t.prototype.constructor,n=e[_r]||Au(e),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const i=o[_r]||Au(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Au(t){return nu(t)?()=>{const e=Au(te(t));return e&&e()}:uo(t)}function Ug(t){const e=t[H],n=e.type;return 2===n?e.declTNode:1===n?t[Pt]:null}const Jo="__parameters__";function Yo(t,e,n){return yr(()=>{const r=function Tu(t){return function(...n){if(t){const r=t(...n);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Jo)?l[Jo]:Object.defineProperty(l,Jo,{value:[]})[Jo];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class W{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function po(t,e){t.forEach(n=>Array.isArray(n)?po(n,e):e(n))}function Bg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ln(t,e,n){let r=Qo(t,e);return r>=0?t[1|r]=n:(r=~r,function CS(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(1===o)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;)t[o]=t[o-2],o--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Pu(t,e){const n=Qo(t,e);if(n>=0)return t[1|n]}function Qo(t,e){return function Hg(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}(t,e,1)}const gs=rs(Yo("Optional"),8),ms=rs(Yo("SkipSelf"),4);var en=(()=>((en=en||{})[en.Important=1]="Important",en[en.DashCase=2]="DashCase",en))();const ju=new Map;let BS=0;const Uu="__ngContext__";function kt(t,e){sn(e)?(t[Uu]=e[as],function zS(t){ju.set(t[as],t)}(e)):t[Uu]=e}let $u;function Bu(t,e){return $u(t,e)}function Cs(t){const e=t[Ye];return Nn(e)?e[Ye]:e}function Hu(t){return cm(t[is])}function zu(t){return cm(t[kn])}function cm(t){for(;null!==t&&!Nn(t);)t=t[kn];return t}function Xo(t,e,n,r,o){if(null!=r){let i,s=!1;Nn(r)?i=r:sn(r)&&(s=!0,r=r[Cr]);const a=Mt(r);0===t&&null!==n?null==o?gm(e,n,a):go(e,n,a,o||null,!0):1===t&&null!==n?go(e,n,a,o||null,!0):2===t?function Qu(t,e,n){const r=tl(t,e);r&&function uM(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=i&&function fM(t,e,n,r,o){const i=n[La];i!==Mt(n)&&Xo(e,t,r,i,o);for(let a=jt;a<n.length;a++){const l=n[a];bs(l[H],l,t,e,r,i)}}(e,t,i,n,o)}}function qu(t,e,n){return t.createElement(e,n)}function dm(t,e){const n=t[Bo],r=n.indexOf(e),o=e[Ye];512&e[fe]&&(e[fe]&=-513,pu(o,-1)),n.splice(r,1)}function Wu(t,e){if(t.length<=jt)return;const n=jt+e,r=t[n];if(r){const o=r[ss];null!==o&&o!==t&&dm(o,r),e>0&&(t[n-1][kn]=r[kn]);const i=Qa(t,jt+e);!function nM(t,e){bs(t,e,e[ye],2,null,null),e[Cr]=null,e[Pt]=null}(r[H],r);const s=i[tr];null!==s&&s.detachView(i[H]),r[Ye]=null,r[kn]=null,r[fe]&=-65}return r}function hm(t,e){if(!(128&e[fe])){const n=e[ye];n.destroyNode&&bs(t,e,n,3,null,null),function iM(t){let e=t[is];if(!e)return Ju(t[H],t);for(;e;){let n=null;if(sn(e))n=e[is];else{const r=e[jt];r&&(n=r)}if(!n){for(;e&&!e[kn]&&e!==t;)sn(e)&&Ju(e[H],e),e=e[Ye];null===e&&(e=t),sn(e)&&Ju(e[H],e),n=e&&e[kn]}e=n}}(e)}}function Ju(t,e){if(!(128&e[fe])){e[fe]&=-65,e[fe]|=128,function cM(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const o=e[n[r]];if(!(o instanceof us)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];Dn(4,a,l);try{l.call(a)}finally{Dn(5,a,l)}}else{Dn(4,o,i);try{i.call(o)}finally{Dn(5,o,i)}}}}}(t,e),function lM(t,e){const n=t.cleanup,r=e[Vo];let o=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const s=n[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=n[i+1]];n[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();e[Vo]=null}}(t,e),1===e[H].type&&e[ye].destroy();const n=e[ss];if(null!==n&&Nn(e[Ye])){n!==e[Ye]&&dm(n,e);const r=e[tr];null!==r&&r.detachView(t)}!function GS(t){ju.delete(t[as])}(e)}}function fm(t,e,n){return function pm(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Cr];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=t.data[r.directiveStart+o];if(i===er.None||i===er.Emulated)return null}return an(r,n)}}(t,e.parent,n)}function go(t,e,n,r,o){t.insertBefore(e,n,r,o)}function gm(t,e,n){t.appendChild(e,n)}function mm(t,e,n,r,o){null!==r?go(t,e,n,r,o):gm(t,e,n)}function tl(t,e){return t.parentNode(e)}let Ku,ed,il,_m=function vm(t,e,n){return 40&t.type?an(t,n):null};function nl(t,e,n,r){const o=fm(t,r,e),i=e[ye],a=function ym(t,e,n){return _m(t,e,n)}(r.parent||e[Pt],r,e);if(null!=o)if(Array.isArray(n))for(let l=0;l<n.length;l++)mm(i,o,n[l],a,!1);else mm(i,o,n,a,!1);void 0!==Ku&&Ku(i,r,e,n,o)}function rl(t,e){if(null!==e){const n=e.type;if(3&n)return an(e,t);if(4&n)return Yu(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return rl(t,r);{const o=t[e.index];return Nn(o)?Yu(-1,o):Mt(o)}}if(32&n)return Bu(e,t)()||Mt(t[e.index]);{const r=bm(t,e);return null!==r?Array.isArray(r)?r[0]:rl(Cs(t[Rt]),r):rl(t,e.next)}}return null}function bm(t,e){return null!==e?t[Rt][Pt].projection[e.projection]:null}function Yu(t,e){const n=jt+t+1;if(n<e.length){const r=e[n],o=r[H].firstChild;if(null!==o)return rl(r,o)}return e[La]}function Zu(t,e,n,r,o,i,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&kt(Mt(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Zu(t,e,n.child,r,o,i,!1),Xo(e,t,o,a,i);else if(32&l){const c=Bu(n,r);let u;for(;u=c();)Xo(e,t,o,u,i);Xo(e,t,o,a,i)}else 16&l?wm(t,e,r,n,o,i):Xo(e,t,o,a,i);n=s?n.projectionNext:n.next}}function bs(t,e,n,r,o,i){Zu(n,r,t.firstChild,e,o,i,!1)}function wm(t,e,n,r,o,i){const s=n[Rt],l=s[Pt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Xo(e,t,o,l[c],i);else Zu(t,e,l,s[Ye],o,i,!0)}function Dm(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Em(t,e,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&Eu(t,e,r),null!==o&&Dm(t,e,o),null!==i&&function gM(t,e,n){t.setAttribute(e,"style",n)}(t,e,i)}function xm(t){return function td(){if(void 0===il&&(il=null,Be.trustedTypes))try{il=Be.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return il}()?.createScriptURL(t)||t}class Am{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gp})`}}function Hr(t){return t instanceof Am?t.changingThisBreaksApplicationSecurity:t}function ws(t,e){const n=function SM(t){return t instanceof Am&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Gp})`)}return n===e}const AM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ct=(()=>((ct=ct||{})[ct.NONE=0]="NONE",ct[ct.HTML=1]="HTML",ct[ct.STYLE=2]="STYLE",ct[ct.SCRIPT=3]="SCRIPT",ct[ct.URL=4]="URL",ct[ct.RESOURCE_URL=5]="RESOURCE_URL",ct))();function sd(t){const e=Es();return e?e.sanitize(ct.URL,t)||"":ws(t,"URL")?Hr(t):function nd(t){return(t=String(t)).match(AM)?t:"unsafe:"+t}(le(t))}function Fm(t){const e=Es();if(e)return xm(e.sanitize(ct.RESOURCE_URL,t)||"");if(ws(t,"ResourceURL"))return xm(Hr(t));throw new L(904,!1)}function Es(){const t=k();return t&&t[uu]}const al=new W("ENVIRONMENT_INITIALIZER"),jm=new W("INJECTOR",-1),Vm=new W("INJECTOR_DEF_TYPES");class Um{get(e,n=ts){if(n===ts){const r=new Error(`NullInjectorError: No provider for ${Le(e)}!`);throw r.name="NullInjectorError",r}return n}}function HM(...t){return{\u0275providers:$m(0,t),\u0275fromNgModule:!0}}function $m(t,...e){const n=[],r=new Set;let o;return po(e,i=>{const s=i;ad(s,n,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&Bm(o,n),n}function Bm(t,e){for(let n=0;n<t.length;n++){const{providers:o}=t[n];ld(o,i=>{e.push(i)})}}function ad(t,e,n,r){if(!(t=te(t)))return!1;let o=null,i=Wp(t);const s=!i&&xe(t);if(i||s){if(s&&!s.standalone)return!1;o=t}else{const l=t.ngModule;if(i=Wp(l),!i)return!1;o=l}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)ad(c,e,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;r.add(o);try{po(i.imports,u=>{ad(u,e,n,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&Bm(c,e)}if(!a){const c=uo(o)||(()=>new o);e.push({provide:o,useFactory:c,deps:Se},{provide:Vm,useValue:o,multi:!0},{provide:al,useValue:()=>B(o),multi:!0})}const l=i.providers;null==l||a||ld(l,u=>{e.push(u)})}}return o!==t&&void 0!==t.providers}function ld(t,e){for(let n of t)ru(n)&&(n=n.\u0275providers),Array.isArray(n)?ld(n,e):e(n)}const zM=ke({provide:String,useValue:ke});function cd(t){return null!==t&&"object"==typeof t&&zM in t}function mo(t){return"function"==typeof t}const ud=new W("Set Injector scope."),ll={},qM={};let dd;function cl(){return void 0===dd&&(dd=new Um),dd}class or{}class Gm extends or{get destroyed(){return this._destroyed}constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fd(e,s=>this.processProvider(s)),this.records.set(jm,ti(void 0,this)),o.has("environment")&&this.records.set(or,ti(void 0,this));const i=this.records.get(ud);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Vm.multi,Se,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=Lo(this),r=bn(void 0);try{return e()}finally{Lo(n),bn(r)}}get(e,n=ts,r=ne.Default){this.assertNotDestroyed(),r=Pa(r);const o=Lo(this),i=bn(void 0);try{if(!(r&ne.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function QM(t){return"function"==typeof t||"object"==typeof t&&t instanceof W}(e)&&Aa(e);a=l&&this.injectableDefInScope(l)?ti(hd(e),ll):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ne.Self?cl():this.parent).get(e,n=r&ne.Optional&&n===ts?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Oa]=s[Oa]||[]).unshift(Le(e)),o)throw s;return function wE(t,e,n,r){const o=t[Oa];throw e[Yp]&&o.unshift(e[Yp]),t.message=function DE(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==_E?t.slice(2):t;let o=Le(e);if(Array.isArray(e))o=e.map(Le).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Le(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(vE,"\n  ")}`}("\n"+t.message,o,n,r),t[yE]=o,t[Oa]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{bn(i),Lo(o)}}resolveInjectorInitializers(){const e=Lo(this),n=bn(void 0);try{const r=this.get(al.multi,Se,ne.Self);for(const o of r)o()}finally{Lo(e),bn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Le(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(e){let n=mo(e=te(e))?e:te(e&&e.provide);const r=function JM(t){return cd(t)?ti(void 0,t.useValue):ti(qm(t),ll)}(e);if(mo(e)||!0!==e.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=ti(void 0,ll,!0),o.factory=()=>au(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ll&&(n.value=qM,n.value=n.factory()),"object"==typeof n.value&&n.value&&function YM(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=te(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function hd(t){const e=Aa(t),n=null!==e?e.factory:uo(t);if(null!==n)return n;if(t instanceof W)throw new L(204,!1);if(t instanceof Function)return function WM(t){const e=t.length;if(e>0)throw function ps(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new L(204,!1);const n=function pE(t){return t&&(t[Ta]||t[Jp])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new L(204,!1)}function qm(t,e,n){let r;if(mo(t)){const o=te(t);return uo(o)||hd(o)}if(cd(t))r=()=>te(t.useValue);else if(function zm(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...au(t.deps||[]));else if(function Hm(t){return!(!t||!t.useExisting)}(t))r=()=>B(te(t.useExisting));else{const o=te(t&&(t.useClass||t.provide));if(!function KM(t){return!!t.deps}(t))return uo(o)||hd(o);r=()=>new o(...au(t.deps))}return r}function ti(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fd(t,e){for(const n of t)Array.isArray(n)?fd(n,e):n&&ru(n)?fd(n.\u0275providers,e):e(n)}class ZM{}class Wm{}class eI{resolveComponentFactory(e){throw function XM(t){const e=Error(`No component factory found for ${Le(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Ss=(()=>{class t{}return t.NULL=new eI,t})();function tI(){return ni(It(),k())}function ni(t,e){return new cn(an(t,e))}let cn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=tI,t})();function nI(t){return t instanceof cn?t.nativeElement:t}class Km{}let Er=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function rI(){const t=k(),n=Qt(It().index,t);return(sn(n)?n:t)[ye]}(),t})(),oI=(()=>{class t{}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>null}),t})();class Ms{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const iI=new Ms("15.2.10"),pd={},gd="ngOriginalError";function md(t){return t[gd]}class ri{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&md(e);for(;n&&md(n);)n=md(n);return n||null}}function Sr(t){return t instanceof Function?t():t}function Qm(t,e,n){let r=t.length;for(;;){const o=t.indexOf(e,n);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}const Zm="ng-template";function mI(t,e,n){let r=0,o=!0;for(;r<t.length;){let i=t[r++];if("string"==typeof i&&o){const s=t[r++];if(n&&"class"===i&&-1!==Qm(s.toLowerCase(),e,0))return!0}else{if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function Xm(t){return 4===t.type&&t.value!==Zm}function yI(t,e,n){return e===(4!==t.type||n?t.value:Zm)}function vI(t,e,n){let r=4;const o=t.attrs||[],i=function bI(t){for(let e=0;e<t.length;e++)if(Ig(t[e]))return e;return t.length}(o);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!yI(t,l,n)||""===l&&1===e.length){if(Ln(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!mI(t.attrs,c,n)){if(Ln(r))return!1;s=!0}continue}const d=_I(8&r?"class":l,o,Xm(t),n);if(-1===d){if(Ln(r))return!1;s=!0;continue}if(""!==c){let h;h=d>i?"":o[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Qm(f,c,0)||2&r&&c!==h){if(Ln(r))return!1;s=!0}}}}else{if(!s&&!Ln(r)&&!Ln(l))return!1;if(s&&Ln(l))continue;s=!1,r=l|1&r}}return Ln(r)||s}function Ln(t){return 0==(1&t)}function _I(t,e,n,r){if(null===e)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){const s=e[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function wI(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ey(t,e,n=!1){for(let r=0;r<e.length;r++)if(vI(t,e[r],n))return!0;return!1}function ty(t,e){return t?":not("+e.trim()+")":e}function EI(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Ln(s)&&(e+=ty(i,o),o=""),r=s,i=i||!Ln(r);n++}return""!==o&&(e+=ty(i,o)),e}const ue={};function V(t){ny(De(),k(),Ut()+t,!1)}function ny(t,e,n,r){if(!r)if(3==(3&e[fe])){const i=t.preOrderCheckHooks;null!==i&&Ha(e,i,n)}else{const i=t.preOrderHooks;null!==i&&za(e,i,0,n)}ho(n)}function sy(t,e=null,n=null,r){const o=ay(t,e,n,r);return o.resolveInjectorInitializers(),o}function ay(t,e=null,n=null,r,o=new Set){const i=[n||Se,HM(t)];return r=r||("object"==typeof t?void 0:Le(t)),new Gm(i,e||cl(),r||null,o)}let ir=(()=>{class t{static create(n,r){if(Array.isArray(n))return sy({name:""},r,n,"");{const o=n.name??"";return sy({name:o},n.parent,n.providers,o)}}}return t.THROW_IF_NOT_FOUND=ts,t.NULL=new Um,t.\u0275prov=q({token:t,providedIn:"any",factory:()=>B(jm)}),t.__NG_ELEMENT_ID__=-1,t})();function T(t,e=ne.Default){const n=k();return null===n?B(t,e):Fg(It(),n,te(t),e)}function gy(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r+1];if(-1!==i){const s=t.data[i];_u(n[r]),s.contentQueries(2,e[i],i)}}}function dl(t,e,n,r,o,i,s,a,l,c,u){const d=e.blueprint.slice();return d[Cr]=o,d[fe]=76|r,(null!==u||t&&1024&t[fe])&&(d[fe]|=1024),fg(d),d[Ye]=d[Uo]=t,d[nt]=n,d[Fa]=s||t&&t[Fa],d[ye]=a||t&&t[ye],d[uu]=l||t&&t[uu]||null,d[Na]=c||t&&t[Na]||null,d[Pt]=i,d[as]=function HS(){return BS++}(),d[rg]=u,d[Rt]=2==e.type?t[Rt]:d,d}function si(t,e,n,r,o){let i=t.data[e];if(null===i)i=function bd(t,e,n,r,o){const i=mg(),s=gu(),l=t.data[e]=function YI(t,e,n,r,o,i){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,e,r,o);return null===t.firstChild&&(t.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(t,e,n,r,o),function WE(){return ce.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=function cs(){const t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return nr(i,!0),i}function Is(t,e,n,r){if(0===n)return-1;const o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function wd(t,e,n){Cu(e);try{const r=t.viewQuery;null!==r&&Od(1,r,n);const o=t.template;null!==o&&my(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gy(t,e),t.staticViewQueries&&Od(2,t.viewQuery,n);const i=t.components;null!==i&&function WI(t,e){for(let n=0;n<e.length;n++)mx(t,e[n])}(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[fe]&=-5,bu()}}function hl(t,e,n,r){const o=e[fe];if(128!=(128&o)){Cu(e);try{fg(e),function vg(t){return ce.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&my(t,e,n,2,r);const s=3==(3&o);if(s){const c=t.preOrderCheckHooks;null!==c&&Ha(e,c,null)}else{const c=t.preOrderHooks;null!==c&&za(e,c,0,null),wu(e,0)}if(function px(t){for(let e=Hu(t);null!==e;e=zu(e)){if(!e[og])continue;const n=e[Bo];for(let r=0;r<n.length;r++){const o=n[r];512&o[fe]||pu(o[Ye],1),o[fe]|=512}}}(e),function fx(t){for(let e=Hu(t);null!==e;e=zu(e))for(let n=jt;n<e.length;n++){const r=e[n],o=r[H];$a(r)&&hl(o,r,o.template,r[nt])}}(e),null!==t.contentQueries&&gy(t,e),s){const c=t.contentCheckHooks;null!==c&&Ha(e,c)}else{const c=t.contentHooks;null!==c&&za(e,c,1),wu(e,1)}!function GI(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)ho(~o);else{const i=o,s=n[++r],a=n[++r];JE(s,i),a(2,e[i])}}}finally{ho(-1)}}(t,e);const a=t.components;null!==a&&function qI(t,e){for(let n=0;n<e.length;n++)gx(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Od(2,l,r),s){const c=t.viewCheckHooks;null!==c&&Ha(e,c)}else{const c=t.viewHooks;null!==c&&za(e,c,2),wu(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[fe]&=-41,512&e[fe]&&(e[fe]&=-513,pu(e[Ye],-1))}finally{bu()}}}function my(t,e,n,r,o){const i=Ut(),s=2&r;try{ho(-1),s&&e.length>He&&ny(t,e,He,!1),Dn(s?2:0,o),n(r,o)}finally{ho(i),Dn(s?3:1,o)}}function Dd(t,e,n){if(hu(e)){const o=e.directiveEnd;for(let i=e.directiveStart;i<o;i++){const s=t.data[i];s.contentQueries&&s.contentQueries(1,n[i],i)}}}function Ed(t,e,n){gg()&&(function rx(t,e,n,r){const o=n.directiveStart,i=n.directiveEnd;ls(n)&&function ux(t,e,n){const r=an(e,t),o=yy(n),i=t[Fa],s=fl(t,dl(t,o,null,n.onPush?32:16,r,e,i,i.createRenderer(r,n),null,null,null));t[e.index]=s}(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||Ja(n,e),kt(r,e);const s=n.initialInputs;for(let a=o;a<i;a++){const l=t.data[a],c=fo(e,t,a,n);kt(c,e),null!==s&&dx(0,a-o,c,l,0,s),Fn(l)&&(Qt(n.index,e)[nt]=fo(e,t,a,n))}}(t,e,n,an(n,e)),64==(64&n.flags)&&wy(t,e,n))}function Sd(t,e,n=an){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(e,t):t[s];t[o++]=a}}}function yy(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Md(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Md(t,e,n,r,o,i,s,a,l,c){const u=He+r,d=u+o,h=function JI(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ue);return n}(u,d),f="function"==typeof c?c():c;return h[H]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function vy(t,e,n,r){const o=Ey(e);null===n?o.push(r):(o.push(n),t.firstCreatePass&&Sy(t).push(r,o.length-1))}function _y(t,e,n,r){for(let o in t)if(t.hasOwnProperty(o)){n=null===n?{}:n;const i=t[o];null===r?Cy(n,e,o,i):r.hasOwnProperty(o)&&Cy(n,e,r[o],i)}return n}function Cy(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Id(t,e,n,r){if(gg()){const o=null===r?null:{"":-1},i=function ix(t,e){const n=t.directiveRegistry;let r=null,o=null;if(n)for(let i=0;i<n.length;i++){const s=n[i];if(ey(e,s.selectors,!1))if(r||(r=[]),Fn(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),xd(t,e,a.length)}else r.unshift(s),xd(t,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(t,n);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&by(t,e,n,s,o,a),o&&function sx(t,e,n){if(e){const r=t.localNames=[];for(let o=0;o<e.length;o+=2){const i=n[e[o+1]];if(null==i)throw new L(-301,!1);r.push(e[o],i)}}}(n,r,o)}n.mergedAttrs=ds(n.mergedAttrs,n.attrs)}function by(t,e,n,r,o,i){for(let c=0;c<r.length;c++)xu(Ja(n,e),t,r[c].type);!function lx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Is(t,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=ds(n.mergedAttrs,u.hostAttrs),cx(t,n,e,l,u),ax(l,u,o),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function QI(t,e,n){const o=e.directiveEnd,i=t.data,s=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<o;u++){const d=i[u],h=n?n.get(d):null,p=h?h.outputs:null;l=_y(d.inputs,u,l,h?h.inputs:null),c=_y(d.outputs,u,c,p);const g=null===l||null===s||Xm(e)?null:hx(l,u,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(t,n,i)}function wy(t,e,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,s=function KE(){return ce.lFrame.currentDirectiveIndex}();try{ho(i);for(let a=r;a<o;a++){const l=t.data[a],c=e[a];yu(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&ox(l,c)}}finally{ho(-1),yu(s)}}function ox(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function xd(t,e,n){e.componentOffset=n,(t.components??(t.components=[])).push(e.index)}function ax(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Fn(e)&&(n[""]=t)}}function cx(t,e,n,r,o){t.data[r]=o;const i=o.factory||(o.factory=uo(o.type)),s=new us(i,Fn(o),T);t.blueprint[r]=s,n[r]=s,function tx(t,e,n,r,o){const i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function nx(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,i)}}(t,e,r,Is(t,n,o.hostVars,ue),o)}function sr(t,e,n,r,o,i){const s=an(t,e);!function Ad(t,e,n,r,o,i,s){if(null==i)t.removeAttribute(e,o,n);else{const a=null==s?le(i):s(i,r||"",o);t.setAttribute(e,o,a,n)}}(e[ye],s,i,t.value,n,r,o)}function dx(t,e,n,r,o,i){const s=i[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?r.setInput(n,d,c,u):n[u]=d}}}function hx(t,e,n){let r=null,o=0;for(;o<n.length;){const i=n[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(t.hasOwnProperty(i)){null===r&&(r=[]);const s=t[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Dy(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function gx(t,e){const n=Qt(e,t);if($a(n)){const r=n[H];48&n[fe]?hl(r,n,r.template,n[nt]):n[co]>0&&Td(n)}}function Td(t){for(let r=Hu(t);null!==r;r=zu(r))for(let o=jt;o<r.length;o++){const i=r[o];if($a(i))if(512&i[fe]){const s=i[H];hl(s,i,s.template,i[nt])}else i[co]>0&&Td(i)}const n=t[H].components;if(null!==n)for(let r=0;r<n.length;r++){const o=Qt(n[r],t);$a(o)&&o[co]>0&&Td(o)}}function mx(t,e){const n=Qt(e,t),r=n[H];(function yx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),wd(r,n,n[nt])}function fl(t,e){return t[is]?t[ng][kn]=e:t[is]=e,t[ng]=e,e}function pl(t){for(;t;){t[fe]|=32;const e=Cs(t);if(AE(t)&&!e)return t;t=e}return null}function gl(t,e,n,r=!0){const o=e[Fa];o.begin&&o.begin();try{hl(t,e,t.template,n)}catch(s){throw r&&Iy(e,s),s}finally{o.end&&o.end()}}function Od(t,e,n){_u(0),e(t,n)}function Ey(t){return t[Vo]||(t[Vo]=[])}function Sy(t){return t.cleanup||(t.cleanup=[])}function Iy(t,e){const n=t[Na],r=n?n.get(ri,null):null;r&&r.handleError(e)}function Pd(t,e,n,r,o){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],l=e[s],c=t.data[s];null!==c.setInput?c.setInput(l,o,r,a):l[a]=o}}function Mr(t,e,n){const r=Ua(e,t);!function um(t,e,n){t.setValue(e,n)}(t[ye],r,n)}function ml(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=tu(o,a):2==i&&(r=tu(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}function yl(t,e,n,r,o=!1){for(;null!==n;){const i=e[n.index];if(null!==i&&r.push(Mt(i)),Nn(i))for(let a=jt;a<i.length;a++){const l=i[a],c=l[H].firstChild;null!==c&&yl(l[H],l,c,r)}const s=n.type;if(8&s)yl(t,e,n.child,r);else if(32&s){const a=Bu(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=bm(e,n);if(Array.isArray(a))r.push(...a);else{const l=Cs(e[Rt]);yl(l[H],l,a,r,!0)}}n=o?n.projectionNext:n.next}return r}class xs{get rootNodes(){const e=this._lView,n=e[H];return yl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nt]}set context(e){this._lView[nt]=e}get destroyed(){return 128==(128&this._lView[fe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ye];if(Nn(e)){const n=e[ja],r=n?n.indexOf(this):-1;r>-1&&(Wu(e,r),Qa(n,r))}this._attachedToViewContainer=!1}hm(this._lView[H],this._lView)}onDestroy(e){vy(this._lView[H],this._lView,null,e)}markForCheck(){pl(this._cdRefInjectingView||this._lView)}detach(){this._lView[fe]&=-65}reattach(){this._lView[fe]|=64}detectChanges(){gl(this._lView[H],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oM(t,e){bs(t,e,e[ye],2,null,null)}(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e}}class vx extends xs{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;gl(e[H],e,e[nt],!1)}checkNoChanges(){}get context(){return null}}class xy extends Ss{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=xe(e);return new As(n,this.ngModule)}}function Ay(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Cx{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Pa(r);const o=this.injector.get(e,pd,r);return o!==pd||n===pd?o:this.parentInjector.get(e,n,r)}}class As extends Wm{get inputs(){return Ay(this.componentDef.inputs)}get outputs(){return Ay(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function SI(t){return t.map(EI).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,o){let i=(o=o||this.ngModule)instanceof or?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new Cx(e,i):e,a=s.get(Km,null);if(null===a)throw new L(407,!1);const l=s.get(oI,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function KI(t,e,n){return t.selectRootElement(e,n===er.ShadowDom)}(c,r,this.componentDef.encapsulation):qu(c,u,function _x(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=Md(0,null,null,1,0,null,null,null,null,null),p=dl(null,f,null,h,null,null,a,c,l,s,null);let g,y;Cu(p);try{const C=this.componentDef;let A,_=null;C.findHostDirectiveDefs?(A=[],_=new Map,C.findHostDirectiveDefs(C,A,_),A.push(C)):A=[C];const P=function wx(t,e){const n=t[H],r=He;return t[r]=e,si(n,r,2,"#host",null)}(p,d),N=function Dx(t,e,n,r,o,i,s,a){const l=o[H];!function Ex(t,e,n,r){for(const o of t)e.mergedAttrs=ds(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(ml(e,e.mergedAttrs,!0),null!==n&&Em(r,n,e))}(r,t,e,s);const c=i.createRenderer(e,n),u=dl(o,yy(n),null,n.onPush?32:16,o[t.index],t,i,c,a||null,null,null);return l.firstCreatePass&&xd(l,t,r.length-1),fl(o,u),o[t.index]=u}(P,d,C,A,p,a,c);y=hg(f,He),d&&function Mx(t,e,n,r){if(r)Eu(t,n,["ng-version",iI.full]);else{const{attrs:o,classes:i}=function MI(t){const e=[],n=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&e.push(i,t[++r]):8===o&&n.push(i);else{if(!Ln(o))break;o=i}r++}return{attrs:e,classes:n}}(e.selectors[0]);o&&Eu(t,n,o),i&&i.length>0&&Dm(t,n,i.join(" "))}}(c,C,d,r),void 0!==n&&function Ix(t,e,n){const r=t.projection=[];for(let o=0;o<e.length;o++){const i=n[o];r.push(null!=i?Array.from(i):null)}}(y,this.ngContentSelectors,n),g=function Sx(t,e,n,r,o,i){const s=It(),a=o[H],l=an(s,o);by(a,o,s,n,null,r);for(let u=0;u<n.length;u++)kt(fo(o,a,s.directiveStart+u,s),o);wy(a,o,s),l&&kt(l,o);const c=fo(o,a,s.directiveStart+s.componentOffset,s);if(t[nt]=o[nt]=c,null!==i)for(const u of i)u(c,e);return Dd(a,s,t),c}(N,C,A,_,p,[xx]),wd(f,p,null)}finally{bu()}return new bx(this.componentType,g,ni(y,p),p,y)}}class bx extends ZM{constructor(e,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=n,this.hostView=this.changeDetectorRef=new vx(o),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){const i=this._rootLView;Pd(i[H],i,o,e,n),pl(Qt(this._tNode.index,i))}}get injector(){return new qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function xx(){const t=It();Ba(k()[H],t)}function Te(t){let e=function Ty(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let o;if(Fn(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);const s=t;s.inputs=Rd(t.inputs),s.declaredInputs=Rd(t.declaredInputs),s.outputs=Rd(t.outputs);const a=o.hostBindings;a&&Px(t,a);const l=o.viewQuery,c=o.contentQueries;if(l&&Tx(t,l),c&&Ox(t,c),eu(t.inputs,o.inputs),eu(t.declaredInputs,o.declaredInputs),eu(t.outputs,o.outputs),Fn(o)&&o.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(t),a===Te&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Ax(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=ds(o.hostAttrs,n=ds(n,o.hostAttrs))}}(r)}function Rd(t){return t===vr?{}:t===Se?[]:t}function Tx(t,e){const n=t.viewQuery;t.viewQuery=n?(r,o)=>{e(r,o),n(r,o)}:e}function Ox(t,e){const n=t.contentQueries;t.contentQueries=n?(r,o,i)=>{e(r,o,i),n(r,o,i)}:e}function Px(t,e){const n=t.hostBindings;t.hostBindings=n?(r,o)=>{e(r,o),n(r,o)}:e}function vl(t){return!!kd(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function kd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Nt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Mn(t,e,n,r){const o=k();return Nt(o,zo(),e)&&(De(),sr(We(),o,t,e,n,r)),Mn}function ci(t,e,n,r,o,i){const a=function yo(t,e,n,r){const o=Nt(t,e,n);return Nt(t,e+1,r)||o}(t,function br(){return ce.lFrame.bindingIndex}(),n,o);return wr(2),a?e+le(n)+r+le(o)+i:ue}function Ee(t,e,n,r,o,i,s,a){const l=k(),c=De(),u=t+He,d=c.firstCreatePass?function Bx(t,e,n,r,o,i,s,a,l){const c=e.consts,u=si(e,t,4,s||null,Br(c,a));Id(e,n,u,Br(c,l)),Ba(e,u);const d=u.tView=Md(2,u,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,o,i,s):c.data[u];nr(d,!1);const h=l[ye].createComment("");nl(c,l,h,d),kt(h,l),fl(l,l[u]=Dy(h,l,h,d)),Va(d)&&Ed(c,l,d),null!=s&&Sd(l,d,a)}function Nd(t){return function Ho(t,e){return t[e]}(function qE(){return ce.lFrame.contextLView}(),He+t)}function Y(t,e,n){const r=k();return Nt(r,zo(),e)&&function un(t,e,n,r,o,i,s,a){const l=an(e,n);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(Pd(t,n,u,r,o),ls(e)&&function XI(t,e){const n=Qt(e,t);16&n[fe]||(n[fe]|=32)}(n,e.index)):3&e.type&&(r=function ZI(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(l,r,o))}(De(),We(),r,t,e,r[ye],n,!1),Y}function Fd(t,e,n,r,o){const s=o?"class":"style";Pd(t,n,e.inputs[s],s,r)}function E(t,e,n,r){const o=k(),i=De(),s=He+t,a=o[ye],l=i.firstCreatePass?function zx(t,e,n,r,o,i){const s=e.consts,l=si(e,t,2,r,Br(s,o));return Id(e,n,l,Br(s,i)),null!==l.attrs&&ml(l,l.attrs,!1),null!==l.mergedAttrs&&ml(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,i,o,e,n,r):i.data[s],c=o[s]=qu(a,e,function rS(){return ce.lFrame.currentNamespace}()),u=Va(l);return nr(l,!0),Em(a,c,l),32!=(32&l.flags)&&nl(i,o,c,l),0===function $E(){return ce.lFrame.elementDepthCount}()&&kt(c,o),function BE(){ce.lFrame.elementDepthCount++}(),u&&(Ed(i,o,l),Dd(i,l,o)),null!==r&&Sd(o,l),E}function b(){let t=It();gu()?mu():(t=t.parent,nr(t,!1));const e=t;!function HE(){ce.lFrame.elementDepthCount--}();const n=De();return n.firstCreatePass&&(Ba(n,t),hu(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function aS(t){return 0!=(8&t.flags)}(e)&&Fd(n,e,k(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function lS(t){return 0!=(16&t.flags)}(e)&&Fd(n,e,k(),e.stylesWithoutHost,!1),b}function jn(t,e,n,r){return E(t,e,n,r),b(),jn}function Cl(t,e,n){const r=k(),o=De(),i=t+He,s=o.firstCreatePass?function Gx(t,e,n,r,o){const i=e.consts,s=Br(i,r),a=si(e,t,8,"ng-container",s);return null!==s&&ml(a,s,!0),Id(e,n,a,Br(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,o,r,e,n):o.data[i];nr(s,!0);const a=r[i]=r[ye].createComment("");return nl(o,r,a,s),kt(a,r),Va(s)&&(Ed(o,r,s),Dd(o,s,r)),null!=n&&Sd(r,s),Cl}function bl(){let t=It();const e=De();return gu()?mu():(t=t.parent,nr(t,!1)),e.firstCreatePass&&(Ba(e,t),hu(t)&&e.queries.elementEnd(t)),bl}function zr(){return k()}function Os(t){return!!t&&"function"==typeof t.then}const Ld=function zy(t){return!!t&&"function"==typeof t.subscribe};function ie(t,e,n,r){const o=k(),i=De(),s=It();return function qy(t,e,n,r,o,i,s){const a=Va(r),c=t.firstCreatePass&&Sy(t),u=e[nt],d=Ey(e);let h=!0;if(3&r.type||s){const g=an(r,e),y=s?s(g):g,C=d.length,A=s?P=>s(Mt(P[r.index])):r.index;let _=null;if(!s&&a&&(_=function qx(t,e,n,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===n&&o[i+1]===r){const a=e[Vo],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(t,e,o,r.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=i,_.__ngLastListenerFn__=i,h=!1;else{i=Jy(r,e,u,i,!1);const P=n.listen(y,o,i);d.push(i,P),c&&c.push(o,A,C,C+1)}}else i=Jy(r,e,u,i,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[o])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const N=e[p[y]][p[y+1]].subscribe(i),z=d.length;d.push(i,N),c&&c.push(o,r.index,z,-(z+1))}}}(i,o,o[ye],s,t,e,r),ie}function Wy(t,e,n,r){try{return Dn(6,e,n),!1!==n(r)}catch(o){return Iy(t,o),!1}finally{Dn(7,e,n)}}function Jy(t,e,n,r,o){return function i(s){if(s===Function)return r;pl(t.componentOffset>-1?Qt(t.index,e):e);let l=Wy(e,n,r,s),c=i.__ngNextListenerFn__;for(;c;)l=Wy(e,n,c,s)&&l,c=c.__ngNextListenerFn__;return o&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function Ce(t=1){return function QE(t){return(ce.lFrame.contextLView=function ZE(t,e){for(;t>0;)e=e[Uo],t--;return e}(t,ce.lFrame.contextLView))[nt]}(t)}function wl(t,e){return t<<17|e<<2}function Gr(t){return t>>17&32767}function Vd(t){return 2|t}function vo(t){return(131068&t)>>2}function Ud(t,e){return-131069&t|e<<2}function $d(t){return 1|t}function ov(t,e,n,r,o){const i=t[n+1],s=null===e;let a=r?Gr(i):vo(i),l=!1;for(;0!==a&&(!1===l||s);){const u=t[a+1];tA(t[a],e)&&(l=!0,t[a+1]=r?$d(u):Vd(u)),a=r?Gr(u):vo(u)}l&&(t[n+1]=r?Vd(i):$d(i))}function tA(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Qo(t,e)>=0}function Ps(t,e,n){return Vn(t,e,n,!1),Ps}function Ir(t,e){return Vn(t,e,null,!0),Ir}function Vn(t,e,n,r){const o=k(),i=De(),s=wr(2);i.firstUpdatePass&&function hv(t,e,n,r){const o=t.data;if(null===o[n+1]){const i=o[Ut()],s=function dv(t,e){return e>=t.expandoStartIndex}(t,n);(function mv(t,e){return 0!=(t.flags&(e?8:16))})(i,r)&&null===e&&!s&&(e=!1),e=function uA(t,e,n,r){const o=function vu(t){const e=ce.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(n=Rs(n=Bd(null,t,e,n,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==o)if(n=Bd(o,t,e,n,r),null===i){let l=function dA(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==vo(r))return t[Gr(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=Bd(null,t,e,l[1],r),l=Rs(l,e.attrs,r),function hA(t,e,n,r){t[Gr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else i=function fA(t,e,n){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=Rs(r,t[i].hostAttrs,n);return Rs(r,e.attrs,n)}(t,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),n}(o,i,e,r),function Xx(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=Gr(s),l=vo(s);t[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||Qo(n,u)>0)&&(c=!0)):u=n,o)if(0!==l){const h=Gr(t[a+1]);t[r+1]=wl(h,a),0!==h&&(t[h+1]=Ud(t[h+1],r)),t[a+1]=function Qx(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=wl(a,0),0!==a&&(t[a+1]=Ud(t[a+1],r)),a=r;else t[r+1]=wl(l,0),0===a?a=r:t[l+1]=Ud(t[l+1],r),l=r;c&&(t[r+1]=Vd(t[r+1])),ov(t,u,r,!0),ov(t,u,r,!1),function eA(t,e,n,r,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof e&&Qo(i,e)>=0&&(n[r+1]=$d(n[r+1]))}(e,u,t,r,i),s=wl(a,l),i?e.classBindings=s:e.styleBindings=s}(o,i,e,n,s,r)}}(i,t,s,r),e!==ue&&Nt(o,s,e)&&function pv(t,e,n,r,o,i,s,a){if(!(3&e.type))return;const l=t.data,c=l[a+1],u=function Zx(t){return 1==(1&t)}(c)?gv(l,e,n,o,vo(c),s):void 0;Dl(u)||(Dl(i)||function Yx(t){return 2==(2&t)}(c)&&(i=gv(l,null,n,o,a,s)),function pM(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:en.DashCase;null==o?t.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=en.Important),t.setStyle(n,r,o,i))}}(r,s,Ua(Ut(),n),o,i))}(i,i.data[Ut()],o,o[ye],t,o[s+1]=function yA(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Le(Hr(t)))),t}(e,n),r,s)}function Bd(t,e,n,r,o){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=e[a],r=Rs(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Rs(t,e,n){const r=n?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ln(t,s,!!n||e[++i]))}return void 0===t?null:t}function gv(t,e,n,r,o,i){const s=null===e;let a;for(;o>0;){const l=t[o],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=n[o+1];h===ue&&(h=d?Se:void 0);let f=d?Pu(h,r):u===r?h:void 0;if(c&&!Dl(f)&&(f=Pu(l,r)),Dl(f)&&(a=f,s))return a;const p=t[o+1];o=s?Gr(p):vo(p)}if(null!==e){let l=i?e.residualClasses:e.residualStyles;null!=l&&(a=Pu(l,r))}return a}function Dl(t){return void 0!==t}function x(t,e=""){const n=k(),r=De(),o=t+He,i=r.firstCreatePass?si(r,o,1,e,null):r.data[o],s=n[o]=function Gu(t,e){return t.createText(e)}(n[ye],e);nl(r,n,s,i),nr(i,!1)}function ur(t){return Qe("",t,""),ur}function Qe(t,e,n){const r=k(),o=function li(t,e,n,r){return Nt(t,zo(),n)?e+le(n)+r:ue}(r,t,e,n);return o!==ue&&Mr(r,Ut(),o),Qe}function xr(t,e,n,r,o){const i=k(),s=ci(i,t,e,n,r,o);return s!==ue&&Mr(i,Ut(),s),xr}const vi="en-US";let Lv=vi;function Gd(t,e,n,r,o){if(t=te(t),Array.isArray(t))for(let i=0;i<t.length;i++)Gd(t[i],e,n,r,o);else{const i=De(),s=k();let a=mo(t)?t:te(t.provide),l=qm(t);const c=It(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(mo(t)||!t.multi){const f=new us(l,o,T),p=Wd(a,e,o?u:u+h,d);-1===p?(xu(Ja(c,s),i,a),qd(i,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=Wd(a,e,u+h,d),p=Wd(a,e,u,u+h),y=p>=0&&n[p];if(o&&!y||!o&&!(f>=0&&n[f])){xu(Ja(c,s),i,a);const C=function NT(t,e,n,r,o){const i=new us(t,n,T);return i.multi=[],i.index=e,i.componentProviders=0,l_(i,o,r&&!n),i}(o?kT:RT,n.length,o,r,l);!o&&y&&(n[p].providerFactory=C),qd(i,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(C),s.push(C)}else qd(i,t,f>-1?f:p,l_(n[o?p:f],l,!o&&r));!o&&r&&y&&n[p].componentProviders++}}}function qd(t,e,n,r){const o=mo(e),i=function GM(t){return!!t.useClass}(e);if(o||i){const l=(i?te(e.useClass):e).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function l_(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Wd(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function RT(t,e,n,r){return Jd(this.multi,[])}function kT(t,e,n,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=fo(n,n[H],this.providerFactory.index,r);i=a.slice(0,s),Jd(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],Jd(o,i);return i}function Jd(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ge(t,e=[]){return n=>{n.providersResolver=(r,o)=>function PT(t,e,n){const r=De();if(r.firstCreatePass){const o=Fn(t);Gd(n,r.data,r.blueprint,o,!0),Gd(e,r.data,r.blueprint,o,!1)}}(r,o?o(t):t,e)}}class _i{}class c_{}class u_ extends _i{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xy(this);const r=on(e);this._bootstrapComponents=Sr(r.bootstrap),this._r3Injector=ay(e,n,[{provide:_i,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver}],Le(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Kd extends c_{constructor(e){super(),this.moduleType=e}create(e){return new u_(this.moduleType,e)}}class LT extends _i{constructor(e,n,r){super(),this.componentFactoryResolver=new xy(this),this.instance=null;const o=new Gm([...e,{provide:_i,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver}],n||cl(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function xl(t,e,n=null){return new LT(t,e,n).injector}let jT=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=$m(0,n.type),o=r.length>0?xl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,o)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(B(or))}),t})();function d_(t){t.getStandaloneInjector=e=>e.get(jT).getOrCreateStandaloneInjector(t)}function Qd(t){return e=>{setTimeout(t,void 0,e)}}const Xe=class uO extends v{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=Qd(i),o&&(o=Qd(o)),s&&(s=Qd(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof M&&e.add(a),a}};function dO(){return this._results[Symbol.iterator]()}class Zd{get changes(){return this._changes||(this._changes=new Xe)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Zd.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=dO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const o=function En(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function vS(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ar=(()=>{class t{}return t.__NG_ELEMENT_ID__=pO,t})();const hO=Ar,fO=class extends hO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tView,o=dl(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);o[ss]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[tr];return null!==s&&(o[tr]=s.createEmbeddedView(r)),wd(r,o,e),new xs(o)}};function pO(){return Al(It(),k())}function Al(t,e){return 4&t.type?new fO(e,t,ni(t,e)):null}let $n=(()=>{class t{}return t.__NG_ELEMENT_ID__=gO,t})();function gO(){return S_(It(),k())}const mO=$n,D_=class extends mO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ni(this._hostTNode,this._hostLView)}get injector(){return new qo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Iu(this._hostTNode,this._hostLView);if(Tg(e)){const n=qa(e,this._hostLView),r=Ga(e);return new qo(n[H].data[r+8],n)}return new qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=E_(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-jt}createEmbeddedView(e,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=e.createEmbeddedView(n||{},i);return this.insert(s,o),s}createComponent(e,n,r,o,i){const s=e&&!function fs(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const d=n||{};a=d.index,r=d.injector,o=d.projectableNodes,i=d.environmentInjector||d.ngModuleRef}const l=s?e:new As(xe(e)),c=r||this.parentInjector;if(!i&&null==l.ngModule){const h=(s?c:this.parentInjector).get(or,null);h&&(i=h)}const u=l.create(c,o,void 0,i);return this.insert(u.hostView,a),u}insert(e,n){const r=e._lView,o=r[H];if(function UE(t){return Nn(t[Ye])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[Ye],h=new D_(d,d[Pt],d[Ye]);h.detach(h.indexOf(e))}}const i=this._adjustIndex(n),s=this._lContainer;!function sM(t,e,n,r){const o=jt+r,i=n.length;r>0&&(n[o-1][kn]=e),r<i-jt?(e[kn]=n[o],Bg(n,jt+r,e)):(n.push(e),e[kn]=null),e[Ye]=n;const s=e[ss];null!==s&&n!==s&&function aM(t,e){const n=t[Bo];e[Rt]!==e[Ye][Ye][Rt]&&(t[og]=!0),null===n?t[Bo]=[e]:n.push(e)}(s,e);const a=e[tr];null!==a&&a.insertView(t),e[fe]|=64}(o,r,s,i);const a=Yu(i,s),l=r[ye],c=tl(l,s[La]);return null!==c&&function rM(t,e,n,r,o,i){r[Cr]=o,r[Pt]=e,bs(t,r,n,1,o,i)}(o,s[Pt],l,r,c,a),e.attachToViewContainerRef(),Bg(Xd(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=E_(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Wu(this._lContainer,n);r&&(Qa(Xd(this._lContainer),n),hm(r[H],r))}detach(e){const n=this._adjustIndex(e,-1),r=Wu(this._lContainer,n);return r&&null!=Qa(Xd(this._lContainer),n)?new xs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function E_(t){return t[ja]}function Xd(t){return t[ja]||(t[ja]=[])}function S_(t,e){let n;const r=e[t.index];if(Nn(r))n=r;else{let o;if(8&t.type)o=Mt(r);else{const i=e[ye];o=i.createComment("");const s=an(t,e);go(i,tl(i,s),o,function dM(t,e){return t.nextSibling(e)}(i,s),!1)}e[t.index]=n=Dy(r,e,o,t),fl(e,n)}return new D_(n,t,e)}class eh{constructor(e){this.queryList=e,this.matches=null}clone(){return new eh(this.queryList)}setDirty(){this.queryList.setDirty()}}class th{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const s=n.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new th(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==R_(e,n).matches&&this.queries[n].setDirty()}}class M_{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class nh{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new nh(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class rh{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new rh(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,n,yO(n,i)),this.matchTNodeWithReadOption(e,n,Ka(n,e,i,!1,!1))}else r===Ar?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ka(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===cn||o===$n||o===Ar&&4&n.type)this.addMatch(n.index,-2);else{const i=Ka(n,e,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function yO(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function _O(t,e,n,r){return-1===n?function vO(t,e){return 11&t.type?ni(t,e):4&t.type?Al(t,e):null}(e,t):-2===n?function CO(t,e,n){return n===cn?ni(e,t):n===Ar?Al(e,t):n===$n?S_(e,t):void 0}(t,e,r):fo(t,t[H],n,e)}function I_(t,e,n,r){const o=e[tr].queries[r];if(null===o.matches){const i=t.data,s=n.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:_O(e,i[c],s[l+1],n.metadata.read))}o.matches=a}return o.matches}function oh(t,e,n,r){const o=t.queries.getByIndex(n),i=o.matches;if(null!==i){const s=I_(t,e,o,n);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)r.push(s[a/2]);else{const c=i[a+1],u=e[-l];for(let d=jt;d<u.length;d++){const h=u[d];h[ss]===h[Ye]&&oh(h[H],h,c,r)}if(null!==u[Bo]){const d=u[Bo];for(let h=0;h<d.length;h++){const f=d[h];oh(f[H],f,c,r)}}}}}return r}function x_(t){const e=k(),n=De(),r=Cg();_u(r+1);const o=R_(n,r);if(t.dirty&&function VE(t){return 4==(4&t[fe])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const i=o.crossesNgTemplate?oh(n,e,r,[]):I_(n,e,o,r);t.reset(i,nI),t.notifyOnChanges()}return!0}return!1}function A_(t,e,n,r){const o=De();if(o.firstCreatePass){const i=It();(function P_(t,e,n){null===t.queries&&(t.queries=new nh),t.queries.track(new rh(e,n))})(o,new M_(e,n,r),i.index),function DO(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(o,t),2==(2&n)&&(o.staticContentQueries=!0)}!function O_(t,e,n){const r=new Zd(4==(4&n));vy(t,e,r,r.destroy),null===e[tr]&&(e[tr]=new th),e[tr].queries.push(new eh(r))}(o,k(),n)}function R_(t,e){return t.queries.getByIndex(e)}function k_(t,e){return Al(t,e)}function Ol(...t){}const Pl=new W("Application Initializer");let Rl=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Ol,this.reject=Ol,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Os(i))n.push(i);else if(Ld(i)){const s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(B(Pl,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Bs=new W("AppId",{providedIn:"root",factory:function Z_(){return`${uh()}${uh()}${uh()}`}});function uh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const X_=new W("Platform Initializer"),dh=new W("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let HO=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Tr=new W("LocaleId",{providedIn:"root",factory:()=>me(Tr,ne.Optional|ne.SkipSelf)||function zO(){return typeof $localize<"u"&&$localize.locale||vi}()});class qO{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let eC=(()=>{class t{compileModuleSync(n){return new Kd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=Sr(on(n).declarations).reduce((s,a)=>{const l=xe(a);return l&&s.push(new As(l)),s},[]);return new qO(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const KO=(()=>Promise.resolve(0))();function hh(t){typeof Zone>"u"?KO.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class rt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function YO(){let t=Be.requestAnimationFrame,e=Be.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function XO(t){const e=()=>{!function ZO(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Be,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ph(t),t.isCheckStableRunning=!0,fh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ph(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{try{return rC(t),n.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&e(),oC(t)}},onInvoke:(n,r,o,i,s,a,l)=>{try{return rC(t),n.invoke(o,i,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),oC(t)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,ph(t),fh(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rt.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(rt.isInAngularZone())throw new L(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,QO,Ol,Ol);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const QO={};function fh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ph(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function rC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function oC(t){t._nesting--,fh(t)}class e1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}}const iC=new W(""),kl=new W("");let yh,gh=(()=>{class t{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yh||(function t1(t){yh=t}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rt.assertNotInAngularZone(),hh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hh(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}}return t.\u0275fac=function(n){return new(n||t)(B(rt),B(mh),B(kl))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),mh=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return yh?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Or=!1;let qr=null;const sC=new W("AllowMultipleToken"),vh=new W("PlatformDestroyListeners"),aC=new W("appBootstrapListener");class lC{constructor(e,n){this.name=e,this.token=n}}function uC(t,e,n=[]){const r=`Platform: ${e}`,o=new W(r);return(i=[])=>{let s=_h();if(!s||s.injector.get(sC,!1)){const a=[...n,...i,{provide:o,useValue:!0}];t?t(a):function o1(t){if(qr&&!qr.get(sC,!1))throw new L(400,!1);qr=t;const e=t.get(hC);(function cC(t){const e=t.get(X_,null);e&&e.forEach(n=>n())})(t)}(function dC(t=[],e){return ir.create({name:e,providers:[{provide:ud,useValue:"platform"},{provide:vh,useValue:new Set([()=>qr=null])},...t]})}(a,r))}return function s1(t){const e=_h();if(!e)throw new L(401,!1);return e}()}}function _h(){return qr?.get(hC)??null}let hC=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const o=function pC(t,e){let n;return n="noop"===t?new e1:("zone.js"===t?void 0:t)||new rt(e),n}(r?.ngZone,function fC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:rt,useValue:o}];return o.run(()=>{const s=ir.create({providers:i,parent:this.injector,name:n.moduleType.name}),a=n.create(s),l=a.injector.get(ri,null);if(!l)throw new L(402,!1);return o.runOutsideAngular(()=>{const c=o.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Fl(this._modules,a),c.unsubscribe()})}),function gC(t,e,n){try{const r=n();return Os(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(l,o,()=>{const c=a.injector.get(Rl);return c.runInitializers(),c.donePromise.then(()=>(function jv(t){_n(t,"Expected localeId to be defined"),"string"==typeof t&&(Lv=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Tr,vi)||vi),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const o=mC({},r);return function n1(t,e,n){const r=new Kd(n);return Promise.resolve(r)}(0,0,n).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(n){const r=n.injector.get(Nl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new L(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new L(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(vh,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(B(ir))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function mC(t,e){return Array.isArray(e)?e.reduce(mC,t):{...t,...e}}let Nl=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,o){this._zone=n,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new $e(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new $e(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{rt.assertNotInAngularZone(),hh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{rt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function iE(...t){const e=es(t),n=function ZD(t,e){return"number"==typeof Zc(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Pn(r[0]):Fo(n)(lt(r,e)):Zn}(i,s.pipe(function sE(t={}){const{connector:e=(()=>new v),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=t;return i=>{let s,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return w((g,y)=>{c++,!d&&!u&&h();const C=l=l??e();y.add(()=>{c--,0===c&&!d&&!u&&(a=Xc(p,o))}),C.subscribe(y),!s&&c>0&&(s=new Wt({next:A=>C.next(A),error:A=>{d=!0,h(),a=Xc(f,n,A),C.error(A)},complete:()=>{u=!0,h(),a=Xc(f,r),C.complete()}}),Pn(g).subscribe(s))})(i)}}()))}bootstrap(n,r){const o=n instanceof Wm;if(!this._injector.get(Rl).done){!o&&function jo(t){const e=xe(t)||Ot(t)||Yt(t);return null!==e&&e.standalone}(n);throw new L(405,Or)}let s;s=o?n:this._injector.get(Ss).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function r1(t){return t.isBoundToModule}(s)?void 0:this._injector.get(_i),c=s.create(ir.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(iC,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Fl(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new L(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Fl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(aC,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Fl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new L(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(B(rt),B(or),B(ri))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Fl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let wi=(()=>{class t{}return t.__NG_ELEMENT_ID__=l1,t})();function l1(t){return function c1(t,e,n){if(ls(t)&&!n){const r=Qt(t.index,e);return new xs(r,r)}return 47&t.type?new xs(e[Rt],e):null}(It(),k(),16==(16&t))}class bC{constructor(){}supports(e){return vl(e)}create(e){return new g1(e)}}const p1=(t,e)=>e;class g1{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||p1}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const s=!r||n&&n.currentIndex<DC(r,o,i)?n:r,a=DC(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,u=l-o;if(c!=u){for(let h=0;h<c;h++){const f=h<i.length?i[h]:i[h]=0,p=f+h;u<=p&&p<c&&(i[h]=f+1)}i[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!vl(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,s,a),r=!0),n=n._next}else o=0,function Vx(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new m1(n,r),i,o),e}_verifyReinsertion(e,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const o=null===n?this._itHead:n._next;return e._next=o,e._prev=n,null===o?this._itTail=e:o._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new wC),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wC),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class m1{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class y1{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class wC{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new y1,this.map.set(n,r)),r.add(e)}get(e,n){const o=this.map.get(e);return o?o.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DC(t,e,n){const r=t.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}class EC{constructor(){}supports(e){return e instanceof Map||kd(e)}create(){return new v1}}class v1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||kd(e)))throw new L(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const i=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const o=this._records.get(e);this._maybeAddToChanges(o,n);const i=o._prev,s=o._next;return i&&(i._next=s),s&&(s._prev=i),o._next=null,o._prev=null,o}const r=new _1(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class _1{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SC(){return new Vl([new bC])}let Vl=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||SC()),deps:[[t,new ms,new gs]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new L(901,!1)}}return t.\u0275prov=q({token:t,providedIn:"root",factory:SC}),t})();function MC(){return new Hs([new EC])}let Hs=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||MC()),deps:[[t,new ms,new gs]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new L(901,!1)}}return t.\u0275prov=q({token:t,providedIn:"root",factory:MC}),t})();const w1=uC(null,"core",[]);let D1=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(B(Nl))},t.\u0275mod=Rn({type:t}),t.\u0275inj=Cn({}),t})();function Di(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Eh=null;function Pr(){return Eh}class M1{}const Ht=new W("DocumentToken");let Sh=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return function I1(){return B(IC)}()},providedIn:"platform"}),t})();const x1=new W("Location Initialized");let IC=(()=>{class t extends Sh{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pr().getBaseHref(this._doc)}onPopState(n){const r=Pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){xC()?this._history.pushState(n,r,o):this._location.hash=o}replaceState(n,r,o){xC()?this._history.replaceState(n,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(B(Ht))},t.\u0275prov=q({token:t,factory:function(){return function A1(){return new IC(B(Ht))}()},providedIn:"platform"}),t})();function xC(){return!!window.history.pushState}function Mh(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function AC(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Rr(t){return t&&"?"!==t[0]?"?"+t:t}let bo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return me(OC)},providedIn:"root"}),t})();const TC=new W("appBaseHref");let OC=(()=>{class t extends bo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??me(Ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Mh(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Rr(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+Rr(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+Rr(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(B(Sh),B(TC,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),T1=(()=>{class t extends bo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Mh(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+Rr(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+Rr(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(B(Sh),B(TC,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Ih=(()=>{class t{constructor(n){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function R1(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(AC(PC(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Rr(r))}normalize(n){return t.stripTrailingSlash(function P1(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,PC(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Rr(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Rr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}}return t.normalizeQueryParams=Rr,t.joinWithSlash=Mh,t.stripTrailingSlash=AC,t.\u0275fac=function(n){return new(n||t)(B(bo))},t.\u0275prov=q({token:t,factory:function(){return function O1(){return new Ih(B(bo))}()},providedIn:"root"}),t})();function PC(t){return t.replace(/\/index.html$/,"")}function $C(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[o,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}const Lh=/\s+/,BC=[];let HC=(()=>{class t{constructor(n,r,o,i){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=o,this._renderer=i,this.initialClasses=BC,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Lh):BC}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Lh):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,Boolean(n[r]));this._applyStateDiff()}_updateState(n,r){const o=this.stateMap.get(n);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Lh).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return t.\u0275fac=function(n){return new(n||t)(T(Vl),T(Hs),T(cn),T(Er))},t.\u0275dir=oe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class yP{constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jh=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new yP(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),qC(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{qC(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(T($n),T(Ar),T(Vl))},t.\u0275dir=oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function qC(t,e){t.context.$implicit=e.item}let Ei=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new _P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){WC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){WC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(T($n),T(Ar))},t.\u0275dir=oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class _P{constructor(){this.$implicit=null,this.ngIf=null}}function WC(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Le(e)}'.`)}let zP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rn({type:t}),t.\u0275inj=Cn({}),t})();let JP=(()=>{class t{}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>new KP(B(Ht),window)}),t})();class KP{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function YP(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=QC(this.window.history)||QC(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function QC(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class ZC{}class DR extends M1{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Gh extends DR{static makeCurrent(){!function S1(t){Eh||(Eh=t)}(new Gh)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function ER(){return Ws=Ws||document.querySelector("base"),Ws?Ws.getAttribute("href"):null}();return null==n?null:function SR(t){Ql=Ql||document.createElement("a"),Ql.setAttribute("href",t);const e=Ql.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return $C(document.cookie,e)}}let Ql,Ws=null;const rb=new W("TRANSITION_ID"),IR=[{provide:Pl,useFactory:function MR(t,e,n){return()=>{n.get(Rl).donePromise.then(()=>{const r=Pr(),o=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[rb,Ht,ir],multi:!0}];let AR=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const Zl=new W("EventManagerPlugins");let Xl=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}addGlobalEventListener(n,r,o){return this._findPluginFor(r).addGlobalEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(B(Zl),B(rt))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class ob{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const o=Pr().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${n}`);return this.addEventListener(o,n,r)}}let ib=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const o=this.usageCount;let i=o.get(n)??0;return i+=r,i>0?o.set(n,i):o.delete(n),i}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Js=(()=>{class t extends ib{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(i=>i.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const o=this.doc.createElement("style");o.textContent=r,n.appendChild(o);const i=this.styleRef.get(r);i?i.push(o):this.styleRef.set(r,[o])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(B(Ht))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const qh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wh=/%COMP%/g,lb=new W("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function cb(t,e){return e.flat(100).map(n=>n.replace(Wh,t))}function ub(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Jh=(()=>{class t{constructor(n,r,o,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=i,this.rendererByCompId=new Map,this.defaultRenderer=new Kh(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(n,r);return o instanceof fb?o.applyToHost(n):o instanceof Yh&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case er.Emulated:i=new fb(s,a,r,this.appId,l);break;case er.ShadowDom:return new FR(s,a,n,r);default:i=new Yh(s,a,r,l)}i.onDestroy=()=>o.delete(r.id),o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(B(Xl),B(Js),B(Bs),B(lb))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class Kh{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(qh[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(hb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(hb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;const i=qh[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const o=qh[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(en.DashCase|en.Important)?e.style.setProperty(n,r,o&en.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&en.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,ub(r)):this.eventManager.addEventListener(e,n,ub(r))}}function hb(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class FR extends Kh{constructor(e,n,r,o){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=cb(o.id,o.styles);for(const s of i){const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Yh extends Kh{constructor(e,n,r,o,i=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=cb(i,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class fb extends Yh{constructor(e,n,r,o,i){const s=o+"-"+r.id;super(e,n,r,i,s),this.contentAttr=function RR(t){return"_ngcontent-%COMP%".replace(Wh,t)}(s),this.hostAttr=function kR(t){return"_nghost-%COMP%".replace(Wh,t)}(s)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let LR=(()=>{class t extends ob{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}}return t.\u0275fac=function(n){return new(n||t)(B(Ht))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const pb=["alt","control","meta","shift"],jR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VR={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let UR=(()=>{class t extends ob{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,o){const i=t.parseEventName(r),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pr().onAndCancel(n,i.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),pb.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=i,0!=r.length||0===i.length)return null;const l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let o=jR[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),pb.forEach(s=>{s!==o&&(0,VR[s])(n)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{t.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(B(Ht))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const zR=uC(w1,"browser",[{provide:dh,useValue:"browser"},{provide:X_,useValue:function $R(){Gh.makeCurrent()},multi:!0},{provide:Ht,useFactory:function HR(){return function _M(t){ed=t}(document),document},deps:[]}]),yb=new W(""),vb=[{provide:kl,useClass:class xR{addToWindow(e){Be.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},Be.getAllAngularTestabilities=()=>e.getAllTestabilities(),Be.getAllAngularRootElements=()=>e.getAllRootElements(),Be.frameworkStabilizers||(Be.frameworkStabilizers=[]),Be.frameworkStabilizers.push(r=>{const o=Be.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(l){s=s||l,i--,0==i&&r(s)};o.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Pr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:iC,useClass:gh,deps:[rt,mh,kl]},{provide:gh,useClass:gh,deps:[rt,mh,kl]}],_b=[{provide:ud,useValue:"root"},{provide:ri,useFactory:function BR(){return new ri},deps:[]},{provide:Zl,useClass:LR,multi:!0,deps:[Ht,rt,dh]},{provide:Zl,useClass:UR,multi:!0,deps:[Ht]},{provide:Jh,useClass:Jh,deps:[Xl,Js,Bs,lb]},{provide:Km,useExisting:Jh},{provide:ib,useExisting:Js},{provide:Js,useClass:Js,deps:[Ht]},{provide:Xl,useClass:Xl,deps:[Zl,rt]},{provide:ZC,useClass:AR,deps:[]},[]];let GR=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Bs,useValue:n.appId},{provide:rb,useExisting:Bs},IR]}}}return t.\u0275fac=function(n){return new(n||t)(B(yb,12))},t.\u0275mod=Rn({type:t}),t.\u0275inj=Cn({providers:[..._b,...vb],imports:[zP,D1]}),t})(),Cb=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(B(Ht))},t.\u0275prov=q({token:t,factory:function(n){let r=null;return r=n?new n:function WR(){return new Cb(B(Ht))}(),r},providedIn:"root"}),t})();function J(...t){return lt(t,es(t))}function Jr(t,e){return X(e)?St(t,e,1):St(t,1)}function Nr(t,e){return w((n,r)=>{let o=0;n.subscribe(R(r,i=>t.call(e,i,o++)&&r.next(i)))})}typeof window<"u"&&window;class ec{}class Xh{}class Fr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),i=o.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{let o;if(o="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(i=>i.toString()),o.length>0){const i=n.toLowerCase();this.headers.set(i,o),this.maybeSetNormalizedName(n,i)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Fr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Fr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Fr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const o=("a"===e.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class XR{encodeKey(e){return Db(e)}encodeValue(e){return Db(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const tk=/%(\d[a-f0-9])/gi,nk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Db(t){return encodeURIComponent(t).replace(tk,(e,n)=>nk[n]??e)}function tc(t){return`${t}`}class Kr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new XR,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ek(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],o=Array.isArray(r)?r.map(tc):[tc(r)];this.map.set(n,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Kr({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(tc(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(tc(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class rk{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Eb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Sb(t){return typeof Blob<"u"&&t instanceof Blob}function Mb(t){return typeof FormData<"u"&&t instanceof FormData}class Ks{constructor(e,n,r,o){let i;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function ok(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Fr),this.context||(this.context=new rk),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Kr,this.urlWithParams=n}serializeBody(){return null===this.body?null:Eb(this.body)||Sb(this.body)||Mb(this.body)||function ik(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Kr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Mb(this.body)?null:Sb(this.body)?this.body.type||null:Eb(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Kr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Ks(n,r,i,{params:c,headers:l,context:u,reportProgress:a,responseType:o,withCredentials:s})}}var ht=(()=>((ht=ht||{})[ht.Sent=0]="Sent",ht[ht.UploadProgress=1]="UploadProgress",ht[ht.ResponseHeader=2]="ResponseHeader",ht[ht.DownloadProgress=3]="DownloadProgress",ht[ht.Response=4]="Response",ht[ht.User=5]="User",ht))();class ef{constructor(e,n=200,r="OK"){this.headers=e.headers||new Fr,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class tf extends ef{constructor(e={}){super(e),this.type=ht.ResponseHeader}clone(e={}){return new tf({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nc extends ef{constructor(e={}){super(e),this.type=ht.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new nc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ib extends ef{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function nf(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let wo=(()=>{class t{constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof Ks)i=n;else{let l,c;l=o.headers instanceof Fr?o.headers:new Fr(o.headers),o.params&&(c=o.params instanceof Kr?o.params:new Kr({fromObject:o.params})),i=new Ks(n,r,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=J(i).pipe(Jr(l=>this.handler.handle(l)));if(n instanceof Ks||"events"===o.observe)return s;const a=s.pipe(Nr(l=>l instanceof nc));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(O(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(O(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(O(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(O(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Kr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,nf(o,r))}post(n,r,o={}){return this.request("POST",n,nf(o,r))}put(n,r,o={}){return this.request("PUT",n,nf(o,r))}}return t.\u0275fac=function(n){return new(n||t)(B(ec))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();function xb(t,e){return e(t)}function sk(t,e){return(n,r)=>e.intercept(n,{handle:o=>t(o,r)})}const lk=new W("HTTP_INTERCEPTORS"),Ys=new W("HTTP_INTERCEPTOR_FNS");function ck(){let t=null;return(e,n)=>(null===t&&(t=(me(lk,{optional:!0})??[]).reduceRight(sk,xb)),t(e,n))}let Ab=(()=>{class t extends ec{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Ys)));this.chain=r.reduceRight((o,i)=>function ak(t,e,n){return(r,o)=>n.runInContext(()=>e(r,i=>t(i,o)))}(o,i,this.injector),xb)}return this.chain(n,r=>this.backend.handle(r))}}return t.\u0275fac=function(n){return new(n||t)(B(Xh),B(or))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const fk=/^\)\]\}',?\n/;let Ob=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $e(r=>{const o=this.xhrFactory.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((f,p)=>o.setRequestHeader(f,p.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&o.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();o.responseType="json"!==f?f:"text"}const i=n.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=o.statusText||"OK",p=new Fr(o.getAllResponseHeaders()),g=function pk(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return s=new tf({headers:p,status:o.status,statusText:f,url:g}),s},l=()=>{let{headers:f,status:p,statusText:g,url:y}=a(),C=null;204!==p&&(C=typeof o.response>"u"?o.responseText:o.response),0===p&&(p=C?200:0);let A=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof C){const _=C;C=C.replace(fk,"");try{C=""!==C?JSON.parse(C):null}catch(P){C=_,A&&(A=!1,C={error:P,text:C})}}A?(r.next(new nc({body:C,headers:f,status:p,statusText:g,url:y||void 0})),r.complete()):r.error(new Ib({error:C,headers:f,status:p,statusText:g,url:y||void 0}))},c=f=>{const{url:p}=a(),g=new Ib({error:f,status:o.status||0,statusText:o.statusText||"Unknown Error",url:p||void 0});r.error(g)};let u=!1;const d=f=>{u||(r.next(a()),u=!0);let p={type:ht.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===n.responseType&&o.responseText&&(p.partialText=o.responseText),r.next(p)},h=f=>{let p={type:ht.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return o.addEventListener("load",l),o.addEventListener("error",c),o.addEventListener("timeout",c),o.addEventListener("abort",c),n.reportProgress&&(o.addEventListener("progress",d),null!==i&&o.upload&&o.upload.addEventListener("progress",h)),o.send(i),r.next({type:ht.Sent}),()=>{o.removeEventListener("error",c),o.removeEventListener("abort",c),o.removeEventListener("load",l),o.removeEventListener("timeout",c),n.reportProgress&&(o.removeEventListener("progress",d),null!==i&&o.upload&&o.upload.removeEventListener("progress",h)),o.readyState!==o.DONE&&o.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(B(ZC))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const rf=new W("XSRF_ENABLED"),Pb=new W("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Rb=new W("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class kb{}let yk=(()=>{class t{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=$C(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(B(Ht),B(dh),B(Pb))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();function vk(t,e){const n=t.url.toLowerCase();if(!me(rf)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=me(kb).getToken(),o=me(Rb);return null!=r&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,r)})),e(t)}var st=(()=>((st=st||{})[st.Interceptors=0]="Interceptors",st[st.LegacyInterceptors=1]="LegacyInterceptors",st[st.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",st[st.NoXsrfProtection=3]="NoXsrfProtection",st[st.JsonpSupport=4]="JsonpSupport",st[st.RequestsMadeViaParent=5]="RequestsMadeViaParent",st))();function Si(t,e){return{\u0275kind:t,\u0275providers:e}}function _k(...t){const e=[wo,Ob,Ab,{provide:ec,useExisting:Ab},{provide:Xh,useExisting:Ob},{provide:Ys,useValue:vk,multi:!0},{provide:rf,useValue:!0},{provide:kb,useClass:yk}];for(const n of t)e.push(...n.\u0275providers);return function BM(t){return{\u0275providers:t}}(e)}const Nb=new W("LEGACY_INTERCEPTOR_FN");let bk=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rn({type:t}),t.\u0275inj=Cn({providers:[_k(Si(st.LegacyInterceptors,[{provide:Nb,useFactory:ck},{provide:Ys,useExisting:Nb,multi:!0}]))]}),t})();const{isArray:wk}=Array,{getPrototypeOf:Dk,prototype:Ek,keys:Sk}=Object;function Fb(t){if(1===t.length){const e=t[0];if(wk(e))return{args:e,keys:null};if(function Mk(t){return t&&"object"==typeof t&&Dk(t)===Ek}(e)){const n=Sk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Ik}=Array;function Lb(t){return O(e=>function xk(t,e){return Ik(e)?t(...e):t(e)}(t,e))}function jb(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function Do(...t){const e=$p(t),{args:n,keys:r}=Fb(t),o=new $e(i=>{const{length:s}=n;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;Pn(n[u]).subscribe(R(i,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||i.next(r?jb(r,a):a),i.complete())}))}});return e?o.pipe(Lb(e)):o}let Vb=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(T(Er),T(cn))},t.\u0275dir=oe({type:t}),t})(),Eo=(()=>{class t extends Vb{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=xt(t)))(r||t)}}(),t.\u0275dir=oe({type:t,features:[Te]}),t})();const dr=new W("NgValueAccessor"),Ak={provide:dr,useExisting:je(()=>sf),multi:!0};let sf=(()=>{class t extends Eo{writeValue(n){this.setProperty("checked",n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=xt(t)))(r||t)}}(),t.\u0275dir=oe({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){1&n&&ie("change",function(i){return r.onChange(i.target.checked)})("blur",function(){return r.onTouched()})},features:[Ge([Ak]),Te]}),t})();const Tk={provide:dr,useExisting:je(()=>Mi),multi:!0},Pk=new W("CompositionEventMode");let Mi=(()=>{class t extends Vb{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ok(){const t=Pr()?Pr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Er),T(cn),T(Pk,8))},t.\u0275dir=oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&ie("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[Ge([Tk]),Te]}),t})();const Rk=!1;function Yr(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const Ft=new W("NgValidators"),Qr=new W("NgAsyncValidators");function Hb(t){return Yr(t.value)?{required:!0}:null}function rc(t){return null}function Kb(t){return null!=t}function Yb(t){const e=Os(t)?lt(t):t;if(Rk&&!Ld(e)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new L(-1101,n)}return e}function Qb(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Zb(t,e){return e.map(n=>n(t))}function Xb(t){return t.map(e=>function Nk(t){return!t.validate}(e)?e:n=>e.validate(n))}function af(t){return null!=t?function ew(t){if(!t)return null;const e=t.filter(Kb);return 0==e.length?null:function(n){return Qb(Zb(n,e))}}(Xb(t)):null}function lf(t){return null!=t?function tw(t){if(!t)return null;const e=t.filter(Kb);return 0==e.length?null:function(n){return Do(Zb(n,e).map(Yb)).pipe(O(Qb))}}(Xb(t)):null}function nw(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function cf(t){return t?Array.isArray(t)?t:[t]:[]}function oc(t,e){return Array.isArray(t)?t.includes(e):t===e}function iw(t,e){const n=cf(e);return cf(t).forEach(o=>{oc(n,o)||n.push(o)}),n}function sw(t,e){return cf(e).filter(n=>!oc(t,n))}class aw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=af(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class zt extends aw{get formDirective(){return null}get path(){return null}}class Zr extends aw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lw{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qs=(()=>{class t extends lw{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Zr,2))},t.\u0275dir=oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Ir("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Te]}),t})(),cw=(()=>{class t extends lw{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(zt,10))},t.\u0275dir=oe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Ir("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Te]}),t})();function uw(t,e){return t?`with name: '${e}'`:`at index: ${e}`}const hf=!1,Zs="VALID",sc="INVALID",Ii="PENDING",Xs="DISABLED";function ff(t){return(ac(t)?t.validators:t)||null}function pf(t,e){return(ac(e)?e.asyncValidators:t)||null}function ac(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class fw{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Zs}get invalid(){return this.status===sc}get pending(){return this.status==Ii}get disabled(){return this.status===Xs}get enabled(){return this.status!==Xs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(iw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(iw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sw(e,this._rawAsyncValidators))}hasValidator(e){return oc(this._rawValidators,e)}hasAsyncValidator(e){return oc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ii,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Xs,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Zs,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zs||this.status===Ii)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xs:Zs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ii,this._hasOwnPendingAsyncValidator=!0;const n=Yb(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?Xs:this.errors?sc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ii)?Ii:this._anyControlsHaveStatus(sc)?sc:Zs}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ac(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Bk(t){return Array.isArray(t)?af(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Hk(t){return Array.isArray(t)?lf(t):t||null}(this._rawAsyncValidators)}}class gf extends fw{constructor(e,n,r){super(ff(n),pf(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function hw(t,e,n){t._forEachChild((r,o)=>{if(void 0===n[o])throw new L(1002,hf?function $k(t,e){return`Must supply a value for form control ${uw(t,e)}`}(e,o):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function dw(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,hf?function Vk(t){return`\n    There are no form controls registered with this ${t?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[n])throw new L(1001,hf?function Uk(t,e){return`Cannot find form control ${uw(t,e)}`}(e,n):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const xi=new W("CallSetDisabledState",{providedIn:"root",factory:()=>lc}),lc="always";function ea(t,e,n=lc){mf(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function qk(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&pw(t,e)})}(t,e),function Jk(t,e){const n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Wk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&pw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Gk(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function dc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function mf(t,e){const n=function rw(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(nw(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function ow(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(nw(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();dc(e._rawValidators,o),dc(e._rawAsyncValidators,o)}function pw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Xk={provide:zt,useExisting:je(()=>fc)},ta=(()=>Promise.resolve())();let fc=(()=>{class t extends zt{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Xe,this.form=new gf({},af(n),lf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ta.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),ea(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ta.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ta.then(()=>{const r=this._findContainer(n.path),o=new gf({});(function gw(t,e){mf(t,e)})(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ta.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ta.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function mw(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(T(Ft,10),T(Qr,10),T(xi,8))},t.\u0275dir=oe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&ie("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([Xk]),Te]}),t})();function yw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function vw(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const _w=class extends fw{constructor(e=null,n,r){super(ff(n),pf(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ac(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=vw(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){vw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},nN={provide:Zr,useExisting:je(()=>Ai)},ww=(()=>Promise.resolve())();let Ai=(()=>{class t extends Zr{constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new _w,this._registered=!1,this.update=new Xe,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function _f(t,e){if(!e)return null;let n,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===Mi?n=i:function Qk(t){return Object.getPrototypeOf(t.constructor)===Eo}(i)?r=i:o=i}),o||r||n||null}(0,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function vf(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ea(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){ww.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,o=0!==r&&Di(r);ww.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function cc(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(T(zt,9),T(Ft,10),T(Qr,10),T(dr,10),T(wi,8),T(xi,8))},t.\u0275dir=oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ge([nN]),Te,wn]}),t})(),Dw=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=oe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const rN={provide:dr,useExisting:je(()=>Cf),multi:!0};let Cf=(()=>{class t extends Eo{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=xt(t)))(r||t)}}(),t.\u0275dir=oe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&ie("input",function(i){return r.onChange(i.target.value)})("blur",function(){return r.onTouched()})},features:[Ge([rN]),Te]}),t})(),Ew=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rn({type:t}),t.\u0275inj=Cn({}),t})();const hN={provide:dr,useExisting:je(()=>pc),multi:!0};function Ow(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let pc=(()=>{class t extends Eo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const o=Ow(this._getOptionId(n),n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function fN(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=xt(t)))(r||t)}}(),t.\u0275dir=oe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&ie("change",function(i){return r.onChange(i.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ge([hN]),Te]}),t})(),Pw=(()=>{class t{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(Ow(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(T(cn),T(Er),T(pc,9))},t.\u0275dir=oe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const pN={provide:dr,useExisting:je(()=>Ef),multi:!0};function Rw(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Ef=(()=>{class t extends Eo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const o=n.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const o=[],i=r.selectedOptions;if(void 0!==i){const s=i;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);o.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);o.push(c)}}}this.value=o,n(o)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function gN(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=xt(t)))(r||t)}}(),t.\u0275dir=oe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&ie("change",function(i){return r.onChange(i.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ge([pN]),Te]}),t})(),kw=(()=>{class t{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(Rw(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Rw(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(T(cn),T(Er),T(Ef,9))},t.\u0275dir=oe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();let So=(()=>{class t{constructor(){this._validator=rc}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):rc,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=oe({type:t,features:[wn]}),t})();const yN={provide:Ft,useExisting:je(()=>Sf),multi:!0};let Sf=(()=>{class t extends So{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>function Fw(t){return"number"==typeof t?t:parseFloat(t)}(n),this.createValidator=n=>function $b(t){return e=>{if(Yr(e.value)||Yr(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=xt(t)))(r||t)}}(),t.\u0275dir=oe({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Mn("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Ge([yN]),Te]}),t})();const vN={provide:Ft,useExisting:je(()=>gc),multi:!0};let gc=(()=>{class t extends So{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Di,this.createValidator=n=>Hb}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=xt(t)))(r||t)}}(),t.\u0275dir=oe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&Mn("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ge([vN]),Te]}),t})(),EN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rn({type:t}),t.\u0275inj=Cn({imports:[Ew]}),t})(),MN=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:xi,useValue:n.callSetDisabledState??lc}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rn({type:t}),t.\u0275inj=Cn({imports:[EN]}),t})();class An extends v{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const mc=ge(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Hw(...t){const e=es(t),n=$p(t),{args:r,keys:o}=Fb(t);if(0===r.length)return lt([],e);const i=new $e(function IN(t,e,n=Yn){return r=>{zw(e,()=>{const{length:o}=t,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)zw(e,()=>{const c=lt(t[l],e);let u=!1;c.subscribe(R(r,d=>{i[l]=d,u||(u=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>jb(o,s):Yn));return n?i.pipe(Lb(n)):i}function zw(t,e,n){t?mr(n,t,e):e()}function Mf(...t){return function xN(){return Fo(1)}()(lt(t,es(t)))}function Gw(t){return new $e(e=>{Pn(t()).subscribe(e)})}function Ti(t,e){const n=X(t)?t:()=>t,r=o=>o.error(n());return new $e(e?o=>e.schedule(r,0,o):r)}function If(){return w((t,e)=>{let n=null;t._refCount++;const r=R(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class qw extends $e{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,S(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new M;const n=this.getSubject();e.add(this.source.subscribe(R(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=M.EMPTY)}return e}refCount(){return If()(this)}}function hr(t,e){return w((n,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();n.subscribe(R(r,l=>{o?.unsubscribe();let c=0;const u=i++;Pn(t(l,u)).subscribe(o=R(r,d=>r.next(e?e(l,d,u,c++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Oi(t){return t<=0?()=>Zn:w((e,n)=>{let r=0;e.subscribe(R(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function yc(t){return w((e,n)=>{let r=!1;e.subscribe(R(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function Ww(t=TN){return w((e,n)=>{let r=!1;e.subscribe(R(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function TN(){return new mc}function Xr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Nr((o,i)=>t(o,i,r)):Yn,Oi(1),n?yc(e):Ww(()=>new mc))}function ft(t,e,n){const r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?w((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(R(i,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),i.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),i.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),i.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Yn}function Gn(t){return w((e,n)=>{let i,r=null,o=!1;r=e.subscribe(R(n,void 0,void 0,s=>{i=Pn(t(s,Gn(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Jw(t,e){return w(function ON(t,e,n,r,o){return(i,s)=>{let a=n,l=e,c=0;i.subscribe(R(s,u=>{const d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}function xf(t){return t<=0?()=>Zn:w((e,n)=>{let r=[];e.subscribe(R(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Kw(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Nr((o,i)=>t(o,i,r)):Yn,xf(1),n?yc(e):Ww(()=>new mc))}function Af(t){return w((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const he="primary",na=Symbol("RouteTitle");class kN{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Pi(t){return new kN(t)}function NN(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function fr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!Yw(t[o],e[o]))return!1;return!0}function Yw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((o,i)=>r[i]===o)}return t===e}function Qw(t){return Array.prototype.concat.apply([],t)}function Zw(t){return t.length>0?t[t.length-1]:null}function At(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function eo(t){return Ld(t)?t:Os(t)?lt(Promise.resolve(t)):J(t)}const vc=!1,LN={exact:function t0(t,e,n){if(!Mo(t.segments,e.segments)||!_c(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!t0(t.children[r],e.children[r],n))return!1;return!0},subset:n0},Xw={exact:function jN(t,e){return fr(t,e)},subset:function VN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Yw(t[n],e[n]))},ignored:()=>!0};function e0(t,e,n){return LN[n.paths](t.root,e.root,n.matrixParams)&&Xw[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function n0(t,e,n){return r0(t,e,e.segments,n)}function r0(t,e,n,r){if(t.segments.length>n.length){const o=t.segments.slice(0,n.length);return!(!Mo(o,n)||e.hasChildren()||!_c(o,n,r))}if(t.segments.length===n.length){if(!Mo(t.segments,n)||!_c(t.segments,n,r))return!1;for(const o in e.children)if(!t.children[o]||!n0(t.children[o],e.children[o],r))return!1;return!0}{const o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!(Mo(t.segments,o)&&_c(t.segments,o,r)&&t.children[he])&&r0(t.children[he],e,i,r)}}function _c(t,e,n){return e.every((r,o)=>Xw[n](t[o].parameters,r.parameters))}class to{constructor(e=new ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pi(this.queryParams)),this._queryParamMap}toString(){return BN.serialize(this)}}class ve{constructor(e,n){this.segments=e,this.children=n,this.parent=null,At(n,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cc(this)}}class ra{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Pi(this.parameters)),this._parameterMap}toString(){return a0(this)}}function Mo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let oa=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return new Tf},providedIn:"root"}),t})();class Tf{parse(e){const n=new QN(e);return new to(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${ia(e.root,!0)}`,r=function GN(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(o=>`${bc(n)}=${bc(o)}`).join("&"):`${bc(n)}=${bc(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function HN(t){return encodeURI(t)}(e.fragment)}`:""}`}}const BN=new Tf;function Cc(t){return t.segments.map(e=>a0(e)).join("/")}function ia(t,e){if(!t.hasChildren())return Cc(t);if(e){const n=t.children[he]?ia(t.children[he],!1):"",r=[];return At(t.children,(o,i)=>{i!==he&&r.push(`${i}:${ia(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function $N(t,e){let n=[];return At(t.children,(r,o)=>{o===he&&(n=n.concat(e(r,o)))}),At(t.children,(r,o)=>{o!==he&&(n=n.concat(e(r,o)))}),n}(t,(r,o)=>o===he?[ia(t.children[he],!1)]:[`${o}:${ia(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[he]?`${Cc(t)}/${n[0]}`:`${Cc(t)}/(${n.join("//")})`}}function o0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bc(t){return o0(t).replace(/%3B/gi,";")}function Of(t){return o0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wc(t){return decodeURIComponent(t)}function s0(t){return wc(t.replace(/\+/g,"%20"))}function a0(t){return`${Of(t.path)}${function zN(t){return Object.keys(t).map(e=>`;${Of(e)}=${Of(t[e])}`).join("")}(t.parameters)}`}const qN=/^[^\/()?;=#]+/;function Dc(t){const e=t.match(qN);return e?e[0]:""}const WN=/^[^=?&#]+/,KN=/^[^&#]+/;class QN{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[he]=new ve(e,n)),r}parseSegment(){const e=Dc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new L(4009,vc);return this.capture(e),new ra(wc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Dc(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=Dc(this.remaining);o&&(r=o,this.capture(r))}e[wc(n)]=wc(r)}parseQueryParam(e){const n=function JN(t){const e=t.match(WN);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function YN(t){const e=t.match(KN);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=s0(n),i=s0(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Dc(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new L(4010,vc);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=he);const s=this.parseChildren();n[i]=1===Object.keys(s).length?s[he]:new ve([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new L(4011,vc)}}function Pf(t){return t.segments.length>0?new ve([],{[he]:t}):t}function Ec(t){const e={};for(const r of Object.keys(t.children)){const i=Ec(t.children[r]);(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function ZN(t){if(1===t.numberOfChildren&&t.children[he]){const e=t.children[he];return new ve(t.segments.concat(e.segments),e.children)}return t}(new ve(t.segments,e))}function Io(t){return t instanceof to}const Rf=!1;function XN(t,e,n,r,o){if(0===n.length)return Ri(e.root,e.root,e.root,r,o);const i=function h0(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new d0(!0,0,t);let e=0,n=!1;const r=t.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return At(i.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new d0(n,e,r)}(n);return i.toRoot()?Ri(e.root,e.root,new ve([],{}),r,o):function s(l){const c=function tF(t,e,n,r){if(t.isAbsolute)return new ki(e.root,!0,0);if(-1===r)return new ki(n,n===e.root,0);return function f0(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new L(4005,Rf&&"Invalid number of '../'");o=r.segments.length}return new ki(r,!1,o-i)}(n,r+(sa(t.commands[0])?0:1),t.numberOfDoubleDots)}(i,e,t.snapshot?._urlSegment,l),u=c.processChildren?Ni(c.segmentGroup,c.index,i.commands):kf(c.segmentGroup,c.index,i.commands);return Ri(e.root,c.segmentGroup,u,r,o)}(t.snapshot?._lastPathIndex)}function sa(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function aa(t){return"object"==typeof t&&null!=t&&t.outlets}function Ri(t,e,n,r,o){let s,i={};r&&At(r,(l,c)=>{i[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=t===e?n:u0(t,e,n);const a=Pf(Ec(s));return new to(a,i,o)}function u0(t,e,n){const r={};return At(t.children,(o,i)=>{r[i]=o===e?n:u0(o,e,n)}),new ve(t.segments,r)}class d0{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&sa(r[0]))throw new L(4003,Rf&&"Root segment cannot have matrix parameters");const o=r.find(aa);if(o&&o!==Zw(r))throw new L(4004,Rf&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ki{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function kf(t,e,n){if(t||(t=new ve([],{})),0===t.segments.length&&t.hasChildren())return Ni(t,e,n);const r=function rF(t,e,n){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;const s=t.segments[o],a=n[r];if(aa(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!g0(l,c,s))return i;r+=2}else{if(!g0(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new ve(t.segments.slice(0,r.pathIndex),{});return i.children[he]=new ve(t.segments.slice(r.pathIndex),t.children),Ni(i,0,o)}return r.match&&0===o.length?new ve(t.segments,{}):r.match&&!t.hasChildren()?Nf(t,e,n):r.match?Ni(t,0,o):Nf(t,e,n)}function Ni(t,e,n){if(0===n.length)return new ve(t.segments,{});{const r=function nF(t){return aa(t[0])?t[0].outlets:{[he]:t}}(n),o={};if(!r[he]&&t.children[he]&&1===t.numberOfChildren&&0===t.children[he].segments.length){const i=Ni(t.children[he],e,n);return new ve(t.segments,i.children)}return At(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=kf(t.children[s],e,i))}),At(t.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new ve(t.segments,o)}}function Nf(t,e,n){const r=t.segments.slice(0,e);let o=0;for(;o<n.length;){const i=n[o];if(aa(i)){const l=oF(i.outlets);return new ve(r,l)}if(0===o&&sa(n[0])){r.push(new ra(t.segments[e].path,p0(n[0]))),o++;continue}const s=aa(i)?i.outlets[he]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&sa(a)?(r.push(new ra(s,p0(a))),o+=2):(r.push(new ra(s,{})),o++)}return new ve(r,{})}function oF(t){const e={};return At(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Nf(new ve([],{}),0,n))}),e}function p0(t){const e={};return At(t,(n,r)=>e[r]=`${n}`),e}function g0(t,e,n){return t==n.path&&fr(e,n.parameters)}const la="imperative";class pr{constructor(e,n){this.id=e,this.url=n}}class Ff extends pr{constructor(e,n,r="imperative",o=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xo extends pr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sc extends pr{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mc extends pr{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=16}}class Lf extends pr{constructor(e,n,r,o){super(e,n),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class iF extends pr{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sF extends pr{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aF extends pr{constructor(e,n,r,o,i){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lF extends pr{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cF extends pr{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uF{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dF{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hF{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fF{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pF{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gF{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m0{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let vF=(()=>{class t{createUrlTree(n,r,o,i,s,a){return XN(n||r.root,o,i,s,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),CF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(e){return vF.\u0275fac(e)},providedIn:"root"}),t})();class y0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=jf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=jf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Vf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Vf(e,this._root).map(n=>n.value)}}function jf(t,e){if(t===e.value)return e;for(const n of e.children){const r=jf(t,n);if(r)return r}return null}function Vf(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Vf(t,n);if(r.length)return r.unshift(e),r}return[]}class Lr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Fi(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class v0 extends y0{constructor(e,n){super(e),this.snapshot=n,Uf(this,e)}toString(){return this.snapshot.toString()}}function _0(t,e){const n=function bF(t,e){const s=new Ic([],{},{},"",{},he,e,null,t.root,-1,{});return new b0("",new Lr(s,[]))}(t,e),r=new An([new ra("",{})]),o=new An({}),i=new An({}),s=new An({}),a=new An(""),l=new Ao(r,o,s,a,i,he,e,n.root);return l.snapshot=n.root,new v0(new Lr(l,[]),n)}class Ao{constructor(e,n,r,o,i,s,a,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(O(c=>c[na]))??J(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(O(e=>Pi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(O(e=>Pi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function C0(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const o=n[r],i=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function wF(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ic{get title(){return this.data?.[na]}constructor(e,n,r,o,i,s,a,l,c,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class b0 extends y0{constructor(e,n){super(n),this.url=e,Uf(this,n)}toString(){return w0(this._root)}}function Uf(t,e){e.value._routerState=t,e.children.forEach(n=>Uf(t,n))}function w0(t){const e=t.children.length>0?` { ${t.children.map(w0).join(", ")} } `:"";return`${t.value}${e}`}function $f(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),fr(e.params,n.params)||t.params.next(n.params),function FN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),fr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Bf(t,e){const n=fr(t.params,e.params)&&function UN(t,e){return Mo(t,e)&&t.every((n,r)=>fr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Bf(t.parent,e.parent))}function ca(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const o=function EF(t,e,n){return e.children.map(r=>{for(const o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return ca(t,r,o);return ca(t,r)})}(t,e,n);return new Lr(r,o)}{if(t.shouldAttach(e.value)){const i=t.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ca(t,a)),s}}const r=function SF(t){return new Ao(new An(t.url),new An(t.params),new An(t.queryParams),new An(t.fragment),new An(t.data),t.outlet,t.component,t)}(e.value),o=e.children.map(i=>ca(t,i));return new Lr(r,o)}}const Hf="ngNavigationCancelingError";function D0(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Io(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=E0(!1,0,e);return o.url=n,o.navigationBehaviorOptions=r,o}function E0(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Hf]=!0,r.cancellationCode=e,n&&(r.url=n),r}function S0(t){return M0(t)&&Io(t.url)}function M0(t){return t&&t[Hf]}class MF{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ua,this.attachRef=null}}let ua=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new MF,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xc=!1;let Ac=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=me(ua),this.location=me($n),this.changeDetector=me(wi),this.environmentInjector=me(or)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,xc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,xc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,xc);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new L(4013,xc);this._activatedRoute=n;const o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new IF(n,a,o.injector);if(r&&function xF(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=o.createComponent(c,o.length,l)}else this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wn]}),t})();class IF{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ao?this.route:e===ua?this.childContexts:this.parent.get(e,n)}}let zf=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=$r({type:t,selectors:[["ng-component"]],standalone:!0,features:[d_],decls:1,vars:0,template:function(n,r){1&n&&jn(0,"router-outlet")},dependencies:[Ac],encapsulation:2}),t})();function I0(t,e){return t.providers&&!t._injector&&(t._injector=xl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qf(t){const e=t.children&&t.children.map(qf),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==he&&(n.component=zf),n}function Tn(t){return t.outlet||he}function x0(t,e){const n=t.filter(r=>Tn(r)===e);return n.push(...t.filter(r=>Tn(r)!==e)),n}function da(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class RF{constructor(e,n,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),$f(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const o=Fi(n);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),At(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){const o=e.value,i=n?n.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=Fi(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=Fi(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const o=Fi(n);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new gF(i.value.snapshot))}),e.children.length&&this.forwardEvent(new fF(e.value.snapshot))}activateRoutes(e,n,r){const o=e.value,i=n?n.value:null;if($f(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),$f(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=da(o.snapshot),l=a?.get(Ss)??null;s.attachRef=null,s.route=o,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class A0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Tc{constructor(e,n){this.component=e,this.route=n}}function kF(t,e,n){const r=t._root;return ha(r,e?e._root:null,n,[r.value])}function Li(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function fE(t){return null!==Aa(t)}(t)?e.get(t):t:r}function ha(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Fi(e);return t.children.forEach(s=>{(function FF(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function LF(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Mo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Mo(t.url,e.url)||!fr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bf(t,e)||!fr(t.queryParams,e.queryParams);default:return!Bf(t,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new A0(r)):(i.data=s.data,i._resolvedData=s._resolvedData),ha(t,e,i.component?a?a.children:null:n,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Tc(a.outlet.component,s))}else s&&fa(e,a,o),o.canActivateChecks.push(new A0(r)),ha(t,null,i.component?a?a.children:null:n,r,o)})(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),At(i,(s,a)=>fa(s,n.getContext(a),o)),o}function fa(t,e,n){const r=Fi(t),o=t.value;At(r,(i,s)=>{fa(i,o.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Tc(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function pa(t){return"function"==typeof t}function Wf(t){return t instanceof mc||"EmptyError"===t?.name}const Oc=Symbol("INITIAL_VALUE");function ji(){return hr(t=>Hw(t.map(e=>e.pipe(Oi(1),function AN(...t){const e=es(t);return w((n,r)=>{(e?Mf(t,n,e):Mf(t,n)).subscribe(r)})}(Oc)))).pipe(O(e=>{for(const n of e)if(!0!==n){if(n===Oc)return Oc;if(!1===n||n instanceof to)return n}return!0}),Nr(e=>e!==Oc),Oi(1)))}function T0(t){return function Da(...t){return Xi(t)}(ft(e=>{if(Io(e))throw D0(0,e)}),O(e=>!0===e))}const Jf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function O0(t,e,n,r,o){const i=Kf(t,e,n);return i.matched?function eL(t,e,n,r){const o=e.canMatch;return o&&0!==o.length?J(o.map(s=>{const a=Li(s,t);return eo(function HF(t){return t&&pa(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ji(),T0()):J(!0)}(r=I0(e,r),e,n).pipe(O(s=>!0===s?i:{...Jf})):J(i)}function Kf(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Jf}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(e.matcher||NN)(n,t,e);if(!o)return{...Jf};const i={};At(o.posParams,(a,l)=>{i[l]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Pc(t,e,n,r){if(n.length>0&&function rL(t,e,n){return n.some(r=>Rc(t,e,r)&&Tn(r)!==he)}(t,n,r)){const i=new ve(e,function nL(t,e,n,r){const o={};o[he]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const i of n)if(""===i.path&&Tn(i)!==he){const s=new ve([],{});s._sourceSegment=t,s._segmentIndexShift=e.length,o[Tn(i)]=s}return o}(t,e,r,new ve(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function oL(t,e,n){return n.some(r=>Rc(t,e,r))}(t,n,r)){const i=new ve(t.segments,function tL(t,e,n,r,o){const i={};for(const s of r)if(Rc(t,n,s)&&!o[Tn(s)]){const a=new ve([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,i[Tn(s)]=a}return{...o,...i}}(t,e,n,r,t.children));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}const o=new ve(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Rc(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function P0(t,e,n,r){return!!(Tn(t)===r||r!==he&&Rc(e,n,t))&&("**"===t.path||Kf(e,t,n).matched)}function R0(t,e,n){return 0===e.length&&!t.children[n]}const kc=!1;class Nc{constructor(e){this.segmentGroup=e||null}}class k0{constructor(e){this.urlTree=e}}function ga(t){return Ti(new Nc(t))}function N0(t){return Ti(new k0(t))}class lL{constructor(e,n,r,o,i){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const e=Pc(this.urlTree.root,[],[],this.config).segmentGroup,n=new ve(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,he).pipe(O(i=>this.createUrlTree(Ec(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gn(i=>{if(i instanceof k0)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof Nc?this.noMatchError(i):i}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,he).pipe(O(o=>this.createUrlTree(Ec(o),e.queryParams,e.fragment))).pipe(Gn(o=>{throw o instanceof Nc?this.noMatchError(o):o}))}noMatchError(e){return new L(4002,kc)}createUrlTree(e,n,r){const o=Pf(e);return new to(o,n,r)}expandSegmentGroup(e,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(O(i=>new ve([],i))):this.expandSegment(e,r,n,r.segments,o,!0)}expandChildren(e,n,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return lt(o).pipe(Jr(i=>{const s=r.children[i],a=x0(n,i);return this.expandSegmentGroup(e,a,s,i).pipe(O(l=>({segment:l,outlet:i})))}),Jw((i,s)=>(i[s.outlet]=s.segment,i),{}),Kw())}expandSegment(e,n,r,o,i,s){return lt(r).pipe(Jr(a=>this.expandSegmentAgainstRoute(e,n,r,a,o,i,s).pipe(Gn(c=>{if(c instanceof Nc)return J(null);throw c}))),Xr(a=>!!a),Gn((a,l)=>{if(Wf(a))return R0(n,o,i)?J(new ve([],{})):ga(n);throw a}))}expandSegmentAgainstRoute(e,n,r,o,i,s,a){return P0(o,n,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,n,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s):ga(n):ga(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?N0(i):this.lineralizeSegments(r,i).pipe(St(s=>{const a=new ve(s,{});return this.expandSegment(e,a,n,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Kf(n,o,i);if(!a)return ga(n);const d=this.applyRedirectCommands(l,o.redirectTo,u);return o.redirectTo.startsWith("/")?N0(d):this.lineralizeSegments(o,d).pipe(St(h=>this.expandSegment(e,n,r,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,o,i){return"**"===r.path?(e=I0(r,e),r.loadChildren?(r._loadedRoutes?J({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(O(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ve(o,{})))):J(new ve(o,{}))):O0(n,r,o,e).pipe(hr(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(e=r._injector??e,r,o).pipe(St(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=Pc(n,a,l,h),g=new ve(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(O(_=>new ve(a,_)));if(0===h.length&&0===p.length)return J(new ve(a,{}));const y=Tn(r)===i;return this.expandSegment(d,g,h,p,y?he:i,!0).pipe(O(A=>new ve(a.concat(A.segments),A.children)))})):ga(n)))}getChildConfig(e,n,r){return n.children?J({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?J({routes:n._loadedRoutes,injector:n._loadedInjector}):function XF(t,e,n,r){const o=e.canLoad;return void 0===o||0===o.length?J(!0):J(o.map(s=>{const a=Li(s,t);return eo(function VF(t){return t&&pa(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ji(),T0())}(e,n,r).pipe(St(o=>o?this.configLoader.loadChildren(e,n).pipe(ft(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):function sL(t){return Ti(E0(kc,3))}())):J({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return J(r);if(o.numberOfChildren>1||!o.children[he])return e.redirectTo,Ti(new L(4e3,kc));o=o.children[he]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,o){const i=this.createSegmentGroup(e,n.root,r,o);return new to(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return At(e,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,o){const i=this.createSegments(e,n.segments,r,o);let s={};return At(n.children,(a,l)=>{s[l]=this.createSegmentGroup(e,a,r,o)}),new ve(i,s)}createSegments(e,n,r,o){return n.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,n,r){const o=r[n.path.substring(1)];if(!o)throw new L(4001,kc);return o}findOrReturn(e,n){let r=0;for(const o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}}class uL{}class fL{constructor(e,n,r,o,i,s,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=Pc(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,he).pipe(O(n=>{if(null===n)return null;const r=new Ic([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},he,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Lr(r,n),i=new b0(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(e){const n=e.value,r=C0(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,n,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,o)}processChildren(e,n,r){return lt(Object.keys(r.children)).pipe(Jr(o=>{const i=r.children[o],s=x0(n,o);return this.processSegmentGroup(e,s,i,o)}),Jw((o,i)=>o&&i?(o.push(...i),o):null),function PN(t,e=!1){return w((n,r)=>{let o=0;n.subscribe(R(r,i=>{const s=t(i,o++);(s||e)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),yc(null),Kw(),O(o=>{if(null===o)return null;const i=L0(o);return function pL(t){t.sort((e,n)=>e.value.outlet===he?-1:n.value.outlet===he?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}))}processSegment(e,n,r,o,i){return lt(n).pipe(Jr(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,o,i)),Xr(s=>!!s),Gn(s=>{if(Wf(s))return R0(r,o,i)?J([]):J(null);throw s}))}processSegmentAgainstRoute(e,n,r,o,i){if(n.redirectTo||!P0(n,r,o,i))return J(null);let s;if("**"===n.path){const a=o.length>0?Zw(o).parameters:{},l=V0(r)+o.length;s=J({snapshot:new Ic(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,U0(n),Tn(n),n.component??n._loadedComponent??null,n,j0(r),l,$0(n)),consumedSegments:[],remainingSegments:[]})}else s=O0(r,n,o,e).pipe(O(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=V0(r)+l.length;return{snapshot:new Ic(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,U0(n),Tn(n),n.component??n._loadedComponent??null,n,j0(r),d,$0(n)),consumedSegments:l,remainingSegments:c}}));return s.pipe(hr(a=>{if(null===a)return J(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function gL(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=Pc(r,c,u,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(O(y=>null===y?null:[new Lr(l,y)]));if(0===h.length&&0===p.length)return J([new Lr(l,[])]);const g=Tn(n)===i;return this.processSegment(d,h,f,p,g?he:i).pipe(O(y=>null===y?null:[new Lr(l,y)]))}))}}function mL(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function L0(t){const e=[],n=new Set;for(const r of t){if(!mL(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):e.push(r)}for(const r of n){const o=L0(r.children);e.push(new Lr(r.value,o))}return e.filter(r=>!n.has(r))}function j0(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function V0(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function U0(t){return t.data||{}}function $0(t){return t.resolve||{}}function B0(t){return"string"==typeof t.title||null===t.title}function Yf(t){return hr(e=>{const n=t(e);return n?lt(n).pipe(O(()=>e)):J(e)})}const Vi=new W("ROUTES");let Qf=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=me(eC)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return J(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=eo(n.loadComponent()).pipe(O(z0),ft(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),Af(()=>{this.componentLoaders.delete(n)})),o=new qw(r,()=>new v).pipe(If());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(O(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(n).injector,c=Qw(l.get(Vi,[],ne.Self|ne.Optional)));return{routes:c.map(qf),injector:l}}),Af(()=>{this.childrenLoaders.delete(r)})),s=new qw(i,()=>new v).pipe(If());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return eo(n()).pipe(O(z0),St(r=>r instanceof c_||Array.isArray(r)?J(r):lt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function z0(t){return function EL(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Lc=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new v,this.configLoader=me(Qf),this.environmentInjector=me(or),this.urlSerializer=me(oa),this.rootContexts=me(ua),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new dF(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new uF(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new An({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:la,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Nr(r=>0!==r.id),O(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),hr(r=>{let o=!1,i=!1;return J(r).pipe(ft(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),hr(s=>{const a=n.browserUrlTree.toString(),l=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const u="";return this.events.next(new Mc(s.id,n.serializeUrl(r.rawUrl),u,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),Zn}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return G0(s.source)&&(n.browserUrlTree=s.extractedUrl),J(s).pipe(hr(u=>{const d=this.transitions?.getValue();return this.events.next(new Ff(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?Zn:Promise.resolve(u)}),function cL(t,e,n,r){return hr(o=>function aL(t,e,n,r,o){return new lL(t,e,n,r,o).apply()}(t,e,n,o.extractedUrl,r).pipe(O(i=>({...o,urlAfterRedirects:i}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),ft(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function vL(t,e,n,r,o){return St(i=>function hL(t,e,n,r,o,i,s="emptyOnly"){return new fL(t,e,n,r,o,s,i).recognize().pipe(hr(a=>null===a?function dL(t){return new $e(e=>e.error(t))}(new uL):J(a)))}(t,e,n,i.urlAfterRedirects,r.serialize(i.urlAfterRedirects),r,o).pipe(O(s=>({...i,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),ft(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);n.setBrowserUrl(h,u)}n.browserUrlTree=u.urlAfterRedirects}const d=new iF(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=s,g=new Ff(u,this.urlSerializer.serialize(d),h,f);this.events.next(g);const y=_0(d,this.rootComponentType).snapshot;return J(r={...s,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new Mc(s.id,n.serializeUrl(r.extractedUrl),u,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),Zn}}),ft(s=>{const a=new sF(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),O(s=>r={...s,guards:kF(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function GF(t,e){return St(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?J({...n,guardsResult:!0}):function qF(t,e,n,r){return lt(t).pipe(St(o=>function ZF(t,e,n,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?J(i.map(a=>{const l=da(e)??o,c=Li(a,l);return eo(function BF(t){return t&&pa(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):l.runInContext(()=>c(t,e,n,r))).pipe(Xr())})).pipe(ji()):J(!0)}(o.component,o.route,n,e,r)),Xr(o=>!0!==o,!0))}(s,r,o,t).pipe(St(a=>a&&function jF(t){return"boolean"==typeof t}(a)?function WF(t,e,n,r){return lt(e).pipe(Jr(o=>Mf(function KF(t,e){return null!==t&&e&&e(new hF(t)),J(!0)}(o.route.parent,r),function JF(t,e){return null!==t&&e&&e(new pF(t)),J(!0)}(o.route,r),function QF(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function NF(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Gw(()=>J(s.guards.map(l=>{const c=da(s.node)??n,u=Li(l,c);return eo(function $F(t){return t&&pa(t.canActivateChild)}(u)?u.canActivateChild(r,t):c.runInContext(()=>u(r,t))).pipe(Xr())})).pipe(ji())));return J(i).pipe(ji())}(t,o.path,n),function YF(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return J(!0);const o=r.map(i=>Gw(()=>{const s=da(e)??n,a=Li(i,s);return eo(function UF(t){return t&&pa(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Xr())}));return J(o).pipe(ji())}(t,o.route,n))),Xr(o=>!0!==o,!0))}(r,i,t,e):J(a)),O(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),ft(s=>{if(r.guardsResult=s.guardsResult,Io(s.guardsResult))throw D0(0,s.guardsResult);const a=new aF(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Nr(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Yf(s=>{if(s.guards.canActivateChecks.length)return J(s).pipe(ft(a=>{const l=new lF(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),hr(a=>{let l=!1;return J(a).pipe(function _L(t,e){return St(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return J(n);let i=0;return lt(o).pipe(Jr(s=>function CL(t,e,n,r){const o=t.routeConfig,i=t._resolve;return void 0!==o?.title&&!B0(o)&&(i[na]=o.title),function bL(t,e,n,r){const o=function wL(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return J({});const i={};return lt(o).pipe(St(s=>function DL(t,e,n,r){const o=da(e)??r,i=Li(t,o);return eo(i.resolve?i.resolve(e,n):o.runInContext(()=>i(e,n)))}(t[s],e,n,r).pipe(Xr(),ft(a=>{i[s]=a}))),xf(1),function RN(t){return O(()=>t)}(i),Gn(s=>Wf(s)?Zn:Ti(s)))}(i,t,e,r).pipe(O(s=>(t._resolvedData=s,t.data=C0(t,n).resolve,o&&B0(o)&&(t.data[na]=o.title),null)))}(s.route,r,t,e)),ft(()=>i++),xf(1),St(s=>i===o.length?J(n):Zn))})}(n.paramsInheritanceStrategy,this.environmentInjector),ft({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),ft(a=>{const l=new cF(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Yf(s=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(ft(u=>{l.component=u}),O(()=>{})));for(const u of l.children)c.push(...a(u));return c};return Hw(a(s.targetSnapshot.root)).pipe(yc(),Oi(1))}),Yf(()=>this.afterPreactivation()),O(s=>{const a=function DF(t,e,n){const r=ca(t,e._root,n?n._root:void 0);return new v0(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),ft(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((t,e,n)=>O(r=>(new RF(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s)),Oi(1),ft({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new xo(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Af(()=>{o||i||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Gn(s=>{if(i=!0,M0(s)){S0(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Sc(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),S0(s)){const l=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||G0(r.source)};n.scheduleNavigation(l,la,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new Lf(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(l){r.reject(l)}}return Zn}))}))}cancelNavigationTransition(n,r,o){const i=new Sc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function G0(t){return t!==la}let q0=(()=>{class t{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===he);return r}getResolvedTitleForRoute(n){return n.data[na]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return me(SL)},providedIn:"root"}),t})(),SL=(()=>{class t extends q0{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(B(Cb))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ML=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return me(xL)},providedIn:"root"}),t})();class IL{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let xL=(()=>{class t extends IL{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=xt(t)))(r||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const jc=new W("",{providedIn:"root",factory:()=>({})});let TL=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return me(OL)},providedIn:"root"}),t})(),OL=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function PL(t){throw t}function RL(t,e,n){return e.parse("/")}const kL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ct=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=me(HO),this.isNgZoneEnabled=!1,this.options=me(jc,{optional:!0})||{},this.errorHandler=this.options.errorHandler||PL,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||RL,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=me(TL),this.routeReuseStrategy=me(ML),this.urlCreationStrategy=me(CF),this.titleStrategy=me(q0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Qw(me(Vi,{optional:!0})??[]),this.navigationTransitions=me(Lc),this.urlSerializer=me(oa),this.location=me(Ih),this.isNgZoneEnabled=me(rt)instanceof rt&&rt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new to,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_0(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),la,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(i.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(qf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...i};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=Io(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,la,null,r)}navigate(n,r={skipLocationChange:!1}){return function FL(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new L(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return r}isActive(n,r){let o;if(o=!0===r?{...kL}:!1===r?{...NL}:r,Io(n))return e0(this.currentUrlTree,n,o);const i=this.parseUrl(n);return e0(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.keys(n).reduce((r,o)=>{const i=n[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h}),u="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",s)}else{const i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(o,"",i)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-(this.browserPageId??this.currentPageId);0!==i?this.location.historyGo(i):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Vc=(()=>{class t{constructor(n,r,o,i,s,a){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new v;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof xo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=Di(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=Di(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=Di(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,o,i,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||o||i||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Lm(t,e,n){return function $M(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Fm:sd}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const o=this.renderer,i=this.el.nativeElement;null!==r?o.setAttribute(i,n,r):o.removeAttribute(i,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(T(Ct),T(Ao),function Ya(t){return function hS(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(Ig(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===e)return n[o+1];o+=2}}}return null}(It(),t)}("tabindex"),T(Er),T(cn),T(bo))},t.\u0275dir=oe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&ie("click",function(i){return r.onClick(i.button,i.ctrlKey,i.shiftKey,i.altKey,i.metaKey)}),2&n&&Mn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[wn]}),t})(),W0=(()=>{class t{get isActive(){return this._isActive}constructor(n,r,o,i,s){this.router=n,this.element=r,this.renderer=o,this.cdr=i,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Xe,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof xo&&this.update()})}ngAfterContentInit(){J(this.links.changes,J(null)).pipe(Fo()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=lt(n).pipe(Fo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function LL(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&n.isActive(o.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}}return t.\u0275fac=function(n){return new(n||t)(T(Ct),T(cn),T(Er),T(wi),T(Vc,8))},t.\u0275dir=oe({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,o){if(1&n&&A_(o,Vc,5),2&n){let i;x_(i=function T_(){return function wO(t,e){return t[tr].queries[e].queryList}(k(),Cg())}())&&(r.links=i)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[wn]}),t})();class J0{}let jL=(()=>{class t{constructor(n,r,o,i,s){this.router=n,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Nr(n=>n instanceof xo),Jr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=xl(i.providers,n,`Route: ${i.path}`));const s=i._injector??n,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return lt(o).pipe(Fo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):J(null);const i=o.pipe(St(s=>null===s?J(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?lt([i,this.loader.loadComponent(r)]).pipe(Fo()):i})}}return t.\u0275fac=function(n){return new(n||t)(B(Ct),B(eC),B(or),B(J0),B(Qf))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Xf=new W("");let K0=(()=>{class t{constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ff?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof xo&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof m0&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new m0(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function py(){throw new Error("invalid")}()},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();var dn=(()=>((dn=dn||{})[dn.COMPLETE=0]="COMPLETE",dn[dn.FAILED=1]="FAILED",dn[dn.REDIRECTING=2]="REDIRECTING",dn))();const Ui=!1;function no(t,e){return{\u0275kind:t,\u0275providers:e}}const ep=new W("",{providedIn:"root",factory:()=>!1});function Q0(){const t=me(ir);return e=>{const n=t.get(Nl);if(e!==n.components[0])return;const r=t.get(Ct),o=t.get(Z0);1===t.get(tp)&&r.initialNavigation(),t.get(X0,null,ne.Optional)?.setUpPreloading(),t.get(Xf,null,ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const Z0=new W(Ui?"bootstrap done indicator":"",{factory:()=>new v}),tp=new W(Ui?"initial navigation":"",{providedIn:"root",factory:()=>1});function HL(){let t=[];return t=Ui?[{provide:al,multi:!0,useFactory:()=>{const e=me(Ct);return()=>e.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function mF(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],no(1,t)}const X0=new W(Ui?"router preloader":"");function zL(t){return no(0,[{provide:X0,useExisting:jL},{provide:J0,useExisting:t}])}const ma=!1,eD=new W(ma?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),GL=[Ih,{provide:oa,useClass:Tf},Ct,ua,{provide:Ao,useFactory:function Y0(t){return t.routerState.root},deps:[Ct]},Qf,ma?{provide:ep,useValue:!0}:[]];function qL(){return new lC("Router",Ct)}let np=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[GL,ma&&r?.enableTracing?HL().\u0275providers:[],{provide:Vi,multi:!0,useValue:n},{provide:eD,useFactory:YL,deps:[[Ct,new gs,new ms]]},{provide:jc,useValue:r||{}},r?.useHash?{provide:bo,useClass:T1}:{provide:bo,useClass:OC},{provide:Xf,useFactory:()=>{const t=me(JP),e=me(rt),n=me(jc),r=me(Lc),o=me(oa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new K0(o,r,t,e,n)}},r?.preloadingStrategy?zL(r.preloadingStrategy).\u0275providers:[],{provide:lC,multi:!0,useFactory:qL},r?.initialNavigation?QL(r):[],[{provide:tD,useFactory:Q0},{provide:aC,multi:!0,useExisting:tD}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Vi,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(B(eD,8))},t.\u0275mod=Rn({type:t}),t.\u0275inj=Cn({imports:[zf]}),t})();function YL(t){if(ma&&t)throw new L(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function QL(t){return["disabled"===t.initialNavigation?no(3,[{provide:Pl,multi:!0,useFactory:()=>{const e=me(Ct);return()=>{e.setUpLocationChangeListener()}}},{provide:tp,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?no(2,[{provide:tp,useValue:0},{provide:Pl,multi:!0,deps:[ir],useFactory:e=>{const n=e.get(x1,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const o=e.get(Ct),i=e.get(Z0);(function VL(t,e){t.events.pipe(Nr(n=>n instanceof xo||n instanceof Sc||n instanceof Lf||n instanceof Mc),O(n=>n instanceof xo||n instanceof Mc?dn.COMPLETE:n instanceof Sc&&(0===n.code||1===n.code)?dn.REDIRECTING:dn.FAILED),Nr(n=>n!==dn.REDIRECTING),Oi(1)).subscribe(()=>{e()})})(o,()=>{r(!0)}),e.get(Lc).afterPreactivation=()=>(r(!0),i.closed?J(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const tD=new W(ma?"Router Initializer":"");let XL=(()=>{const e=class{constructor(){this.title="Pokemon TCG Pocket Collector"}};let t=e;return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=$r({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(o,i){1&o&&jn(0,"router-outlet")},dependencies:[Ac],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto;background-color:#000;min-height:100vh}h1[_ngcontent-%COMP%]{color:#333;text-align:center;margin-bottom:30px}.actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;margin-bottom:30px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#545b62}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.data-overview[_ngcontent-%COMP%]{margin-top:30px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin:20px 0}.stat-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:20px;border-radius:10px;text-align:center;box-shadow:0 4px 6px #0000001a}.stat-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:16px;opacity:.9}.stat-number[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin:0}.section[_ngcontent-%COMP%]{margin:40px 0;padding:20px 0;border-top:2px solid #e9ecef}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#495057;margin-bottom:20px}.sets-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.set-card[_ngcontent-%COMP%]{background-color:#000;border:1px solid #444;border-radius:8px;padding:15px;box-shadow:0 2px 4px #0000001a}.set-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;margin:0 0 10px;font-size:18px}.rarity-stats[_ngcontent-%COMP%], .pack-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:15px}.rarity-item[_ngcontent-%COMP%], .pack-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 15px;background-color:#000;border-radius:5px;border-left:4px solid #007bff}.rarity-name[_ngcontent-%COMP%], .pack-name[_ngcontent-%COMP%]{font-weight:600;color:#fff}.rarity-count[_ngcontent-%COMP%], .pack-count[_ngcontent-%COMP%]{color:#ccc}.rarity-percentage[_ngcontent-%COMP%], .pack-percentage[_ngcontent-%COMP%]{color:#007bff;font-weight:500}.features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:20px 0}.feature[_ngcontent-%COMP%]{background-color:#000;padding:20px;border-radius:8px;border-left:4px solid #17a2b8}.feature[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;margin:0 0 10px}.feature[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ccc;margin:0;font-size:14px}.api-info[_ngcontent-%COMP%]{background-color:#000;border:1px solid #444;border-radius:8px;padding:20px;margin-top:20px}.api-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;margin-top:0}.api-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{color:#fff;margin:0}.api-info[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background-color:#333;padding:2px 4px;border-radius:3px;font-family:Courier New,monospace;color:#ff6b6b}.error[_ngcontent-%COMP%]{background-color:#000;color:#ff6b6b;padding:15px;border-radius:5px;margin-bottom:20px;text-align:center;border:1px solid #ff6b6b}.card-info[_ngcontent-%COMP%]{margin-top:30px}.card-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px}.card-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin:20px 0}.card-item[_ngcontent-%COMP%]{background-color:#000;border:1px solid #444;border-radius:8px;padding:15px;box-shadow:0 2px 4px #0000001a}.card-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#495057;margin:0 0 10px;font-size:16px}.card-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:14px;color:#ccc}.note[_ngcontent-%COMP%]{text-align:center;font-style:italic;color:#ccc;margin-top:20px}.instructions[_ngcontent-%COMP%]{background-color:#000;border:1px solid #444;border-radius:8px;padding:20px;margin-top:30px}.instructions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-top:0}.instructions[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{color:#fff}.instructions[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background-color:#333;padding:2px 4px;border-radius:3px;font-family:Courier New,monospace}.data-info[_ngcontent-%COMP%]{background-color:#000;border-left:4px solid #007bff;padding:15px;margin-top:20px}.data-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;margin-top:0;margin-bottom:10px}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:10px}.actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.btn[_ngcontent-%COMP%]{width:200px}.card-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),t})();function nD(t,e,n,r,o,i,s){try{var a=t[i](s),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,o)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function s(l){nD(i,r,o,s,a,"next",l)}function a(l){nD(i,r,o,s,a,"throw",l)}s(void 0)})}}let ej=(()=>{const e=class{constructor(r){this.http=r,this.CARDS_API_URL="https://raw.githubusercontent.com/flibustier/pokemon-tcg-pocket-database/main/dist/cards.json",this.LOCAL_CARDS_PATH="assets/cards/cards.json"}fetchCardsFromAPI(){return this.http.get(this.CARDS_API_URL)}downloadAndStoreCards(){return this.fetchCardsFromAPI().pipe(ft(r=>{localStorage.setItem("pokemonCards",JSON.stringify(r))}))}getStoredCards(){const r=localStorage.getItem("pokemonCards");return r?JSON.parse(r):null}loadCards(){return this.http.get(this.LOCAL_CARDS_PATH).pipe(O(r=>r||[]))}getCardsBySet(r){return this.loadCards().pipe(O(o=>o.filter(i=>i.set===r)))}getCardsByType(r){return this.loadCards().pipe(O(o=>o.filter(i=>i.type===r)))}getCardsByRarity(r){return this.loadCards().pipe(O(o=>o.filter(i=>i.rarity===r)))}searchCardsByName(r){return this.loadCards().pipe(O(o=>o.filter(i=>i.label.eng.toLowerCase().includes(r.toLowerCase()))))}getUniqueSets(){return this.loadCards().pipe(O(r=>[...new Set(r.map(o=>o.set))]))}getUniqueTypes(){return this.loadCards().pipe(O(r=>[...new Set(r.map(o=>o.type).filter(o=>!!o))]))}getUniqueRarities(){return this.loadCards().pipe(O(r=>[...new Set(r.map(o=>o.rarity))]))}getUniquePacks(){return this.loadCards().pipe(O(r=>[...new Set(r.flatMap(o=>o.packs))]))}};let t=e;return e.\u0275fac=function(o){return new(o||e)(B(wo))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),tj=(()=>{const e=class{constructor(r){this.http=r,this.CARDS_API_URL="https://raw.githubusercontent.com/flibustier/pokemon-tcg-pocket-database/main/dist/cards.json"}downloadCardsData(){return this.http.get(this.CARDS_API_URL).pipe(Gn(r=>(console.error("Error downloading cards data:",r),Ti(()=>new Error("Failed to download cards data")))))}downloadCardsAsBlob(){return this.downloadCardsData().pipe(O(r=>{const o=JSON.stringify(r,null,2);return new Blob([o],{type:"application/json"})}))}triggerDownload(){this.downloadCardsAsBlob().subscribe({next:r=>{const o=window.URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download="cards.json",document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(o)},error:r=>{console.error("Failed to download cards data:",r)}})}getStorageInstructions(){return"\nTo store the cards data locally:\n\n1. Create a 'cards' folder in src/assets/\n2. Use the downloadCardsAsBlob() method to get the data\n3. Save the file as 'cards.json' in src/assets/cards/\n\nAlternative: Use triggerDownload() to download the file and manually move it to the assets folder.\n\nNote: In a production environment, you would typically have a backend service \nto handle file storage and serving.\n    "}};let t=e;return e.\u0275fac=function(o){return new(o||e)(B(wo))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),nj=(()=>{const e=class{constructor(r){this.http=r,this.CARDS_API_URL="https://raw.githubusercontent.com/flibustier/pokemon-tcg-pocket-database/main/dist/cards.json"}downloadCardsJson(){this.http.get(this.CARDS_API_URL).subscribe({next:r=>{const o=JSON.stringify(r,null,2),i=new Blob([o],{type:"application/json"}),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download="cards.json",a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s),alert(`Downloaded ${r.length} cards to cards.json\n\nPlease move the file to: src/assets/cards/cards.json`)},error:r=>{console.error("Failed to download cards data:",r),alert("Failed to download cards data. Please check your internet connection.")}})}showSetupInstructions(){return`\n=== Pokemon TCG Pocket Collector Setup Instructions ===\n\n1. AUTOMATIC DOWNLOAD (Recommended):\n   - Click "Download cards.json" button\n   - Move the downloaded file to: src/assets/cards/cards.json\n   - Restart the development server\n\n2. MANUAL DOWNLOAD:\n   - Go to: ${this.CARDS_API_URL}\n   - Right-click and "Save As" to src/assets/cards/cards.json\n   - Restart the development server\n\n3. VERIFY SETUP:\n   - Click "Load Cards Data" to test the service\n   - Check browser console for detailed information\n   - Data will be cached in localStorage for offline use\n\n=== Service Features ===\n- \u2705 Fetch cards from Pokemon TCG Pocket database\n- \u2705 Store data locally for offline access\n- \u2705 Filter by set, type, rarity\n- \u2705 Search cards by name\n- \u2705 Get unique values for filters\n- \u2705 Automatic fallback to localStorage\n\nFor more information, check the browser console when using the services.\n    `}};let t=e;return e.\u0275fac=function(o){return new(o||e)(B(wo))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),rD=(()=>{const e=class{constructor(r){this.http=r,this.BASE_PATH="assets/cards/",this.API_BASE="https://raw.githubusercontent.com/flibustier/pokemon-tcg-pocket-database/main/dist/"}loadSets(){return this.http.get(`${this.BASE_PATH}sets.json`)}loadRarities(){return this.http.get(`${this.BASE_PATH}rarity.json`)}loadCards(){return this.http.get(`${this.BASE_PATH}cards.json`)}loadAllData(){return Do({cards:this.loadCards(),sets:this.loadSets(),rarities:this.loadRarities()}).pipe(ft(r=>{}))}getSetByCode(r){return this.loadSets().pipe(O(o=>o.find(i=>i.code===r)))}getRarityName(r){return this.loadRarities().pipe(O(o=>o[r]))}getCardsBySetWithInfo(r){return Do({cards:this.loadCards(),sets:this.loadSets(),rarities:this.loadRarities()}).pipe(O(({cards:o,sets:i,rarities:s})=>{const a=i.find(l=>l.code===r);return o.filter(l=>l.set===r).map(l=>({...l,setInfo:a,fullRarityName:s[l.rarityCode]||l.rarity}))}))}getSetsWithCardCounts(){return Do({cards:this.loadCards(),sets:this.loadSets()}).pipe(O(({cards:r,sets:o})=>o.map(i=>{const s=r.filter(a=>a.set===i.code).length;return{...i,actualCardCount:s}})))}getRarityDistribution(){return Do({cards:this.loadCards(),rarities:this.loadRarities()}).pipe(O(({cards:r,rarities:o})=>{const i={};r.forEach(a=>{const l=a.rarityCode;i[l]=(i[l]||0)+1});const s=r.length;return Object.entries(i).map(([a,l])=>({code:a,name:o[a]||a,count:l,percentage:Math.round(l/s*100*100)/100})).sort((a,l)=>l.count-a.count)}))}getPackDistribution(){return this.loadCards().pipe(O(r=>{const o={};r.forEach(s=>{(Array.isArray(s.packs)?s.packs:[]).forEach(l=>{l&&l.trim()&&(o[l]=(o[l]||0)+1)})});const i=Object.values(o).reduce((s,a)=>s+a,0);return Object.entries(o).map(([s,a])=>({pack:s,count:a,percentage:i>0?Math.round(a/i*100*100)/100:0})).sort((s,a)=>a.count-s.count)}))}searchCardsEnhanced(r){return Do({cards:this.loadCards(),sets:this.loadSets(),rarities:this.loadRarities()}).pipe(O(({cards:o,sets:i,rarities:s})=>o.filter(l=>l.label.eng.toLowerCase().includes(r.toLowerCase())).map(l=>{const c=i.find(u=>u.code===l.set);return{...l,setInfo:c,fullRarityName:s[l.rarityCode]||l.rarity}})))}getComprehensiveStats(){return Do({cards:this.loadCards(),sets:this.loadSets(),rarities:this.loadRarities()}).pipe(O(({cards:r,sets:o,rarities:i})=>({totalCards:r.length,totalSets:o.length,totalRarities:Object.keys(i).length,setBreakdown:o.map(a=>({...a,actualCardCount:r.filter(l=>l.set===a.code).length})),rarityBreakdown:Object.entries(i).map(([a,l])=>({code:a,name:l,count:r.filter(c=>c.rarityCode===a).length})),packBreakdown:this.calculatePackDistribution(r),dateRange:{earliest:o.reduce((a,l)=>new Date(l.releaseDate)<new Date(a)?l.releaseDate:a,o[0]?.releaseDate||""),latest:o.reduce((a,l)=>new Date(l.releaseDate)>new Date(a)?l.releaseDate:a,o[0]?.releaseDate||"")}})))}calculatePackDistribution(r){const o={};return r.forEach(i=>{(Array.isArray(i.packs)?i.packs:[]).forEach(a=>{a&&a.trim()&&(o[a]=(o[a]||0)+1)})}),Object.entries(o).map(([i,s])=>({pack:i,count:s})).sort((i,s)=>s.count-i.count)}};let t=e;return e.\u0275fac=function(o){return new(o||e)(B(wo))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),oD=(()=>{const e=class{constructor(r,o,i,s){this.cardDataService=r,this.fileStorageService=o,this.assetsHelper=i,this.pokemonDataService=s}initializeCardData(){return this.cardDataService.downloadAndStoreCards().pipe(ft(r=>{this.logDataSummary(r)}),Gn(r=>(console.error("Failed to initialize card data:",r),J(this.cardDataService.getStoredCards()||[]))))}downloadCardsFile(){this.assetsHelper.downloadCardsJson()}getStorageInstructions(){return this.assetsHelper.showSetupInstructions()}logDataSummary(r){new Set(r.map(a=>a.set)),new Set(r.map(a=>a.rarity)),new Set(r.flatMap(a=>a.packs))}getAllCards(){return this.cardDataService.loadCards()}getCardsBySet(r){return this.cardDataService.getCardsBySet(r)}getCardsByType(r){return this.cardDataService.getCardsByType(r)}getCardsByPack(r){return this.cardDataService.loadCards().pipe(O(o=>o.filter(i=>i.packs.includes(r))))}searchCards(r){return this.cardDataService.searchCardsByName(r)}getFilterOptions(){return new $e(r=>{Promise.all([this.cardDataService.getUniqueSets().toPromise(),this.cardDataService.getUniqueTypes().toPromise(),this.cardDataService.getUniqueRarities().toPromise(),this.cardDataService.getUniquePacks().toPromise()]).then(([o,i,s,a])=>{r.next({sets:o||[],types:i||[],rarities:s||[],packs:a||[]}),r.complete()}).catch(o=>{r.error(o)})})}loadAllPokemonData(){return this.pokemonDataService.loadAllData().pipe(ft(r=>{this.logEnhancedDataSummary(r)}))}getAllSets(){return this.pokemonDataService.loadSets()}getSetsWithCounts(){return this.pokemonDataService.getSetsWithCardCounts()}getRarityMapping(){return this.pokemonDataService.loadRarities()}getSetInfo(r){return this.pokemonDataService.getSetByCode(r)}getCardsBySetEnhanced(r){return this.pokemonDataService.getCardsBySetWithInfo(r)}searchCardsEnhanced(r){return this.pokemonDataService.searchCardsEnhanced(r)}getRarityStats(){return this.pokemonDataService.getRarityDistribution()}getPackStats(){return this.pokemonDataService.getPackDistribution()}getComprehensiveStats(){return this.pokemonDataService.getComprehensiveStats()}logEnhancedDataSummary(r){}};let t=e;return e.\u0275fac=function(o){return new(o||e)(B(ej),B(tj),B(nj),B(rD))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class rp extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class iD extends rp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sD extends rp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class aD extends rp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Uc=(()=>{return(t=Uc||(Uc={})).Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",Uc;var t})();class oj{constructor(e,{headers:n={},customFetch:r,region:o=Uc.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=(t=>{let e;return e=t||(typeof fetch>"u"?(...n)=>Promise.resolve().then(K.bind(K,397)).then(({default:r})=>r(...n)):fetch),(...n)=>e(...n)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return(0,F.__awaiter)(this,arguments,void 0,function*(n,r={}){var o;try{const{headers:i,method:s,body:a,signal:l}=r;let c={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${n}`);let h;u&&"any"!==u&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u)),a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=a):"string"==typeof a?(c["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(c["Content-Type"]="application/json",h=JSON.stringify(a)):h=a;const f=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h,signal:l}).catch(C=>{throw"AbortError"===C.name?C:new iD(C)}),p=f.headers.get("x-relay-error");if(p&&"true"===p)throw new sD(f);if(!f.ok)throw new aD(f);let y,g=(null!==(o=f.headers.get("Content-Type"))&&void 0!==o?o:"text/plain").split(";")[0].trim();return y="application/json"===g?yield f.json():"application/octet-stream"===g||"application/pdf"===g?yield f.blob():"text/event-stream"===g?f:"multipart/form-data"===g?yield f.formData():yield f.text(),{data:y,error:null,response:f}}catch(i){return i instanceof Error&&"AbortError"===i.name?{data:null,error:new iD(i)}:{data:null,error:i,response:i instanceof aD||i instanceof sD?i.context:void 0}}})}}var ij=K(358);const{PostgrestClient:lD}=ij,hj=class dj{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(e=navigator.userAgent)&&void 0!==e&&e.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=parseInt(n.node.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`\n\nSuggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){return new(this.getWebSocketConstructor())(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch{return!1}}};var $i=(()=>{return(t=$i||($i={}))[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",$i;var t})(),pt=(()=>{return(t=pt||(pt={})).closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",pt;var t})(),On=(()=>{return(t=On||(On={})).close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",On;var t})(),$c=(()=>(($c||($c={})).websocket="websocket",$c))(),ro=(()=>{return(t=ro||(ro={})).Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",ro;var t})();class yj{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const o=n.getUint8(1),i=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(e.slice(s,s+o));s+=o;const l=r.decode(e.slice(s,s+i));return s+=i,{ref:null,topic:a,event:l,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class cD{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne=(()=>{return(t=Ne||(Ne={})).abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",Ne;var t})();const uD=(t,e,n={})=>{var r;const o=null!==(r=n.skipTypes)&&void 0!==r?r:[];return e?Object.keys(e).reduce((i,s)=>(i[s]=vj(s,t,e,o),i),{}):{}},vj=(t,e,n,r)=>{const i=e.find(a=>a.name===t)?.type,s=n[t];return i&&!r.includes(i)?dD(i,s):ip(s)},dD=(t,e)=>{if("_"===t.charAt(0)){const n=t.slice(1,t.length);return wj(e,n)}switch(t){case Ne.bool:return _j(e);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return Cj(e);case Ne.json:case Ne.jsonb:return bj(e);case Ne.timestamp:return Dj(e);default:return ip(e)}},ip=t=>t,_j=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Cj=t=>{if("string"==typeof t){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},bj=t=>{if("string"==typeof t)try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},wj=(t,e)=>{if("string"!=typeof t)return t;const n=t.length-1;if("{"===t[0]&&"}"===t[n]){let i;const s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>dD(e,a))}return t},Dj=t=>"string"==typeof t?t.replace(" ","T"):t,hD=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname=""===e.pathname||"/"===e.pathname?"/api/broadcast":e.pathname+"/api/broadcast",e.href};class sp{constructor(e,n,r={},o=1e4){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class ya{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ya.syncState(this.state,o,i,s),this.pendingDiffs.forEach(l=>{this.state=ya.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ya.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const i=this.cloneDeep(e),s=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=i[c];if(d){const h=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),p=u.filter(y=>f.indexOf(y.presence_ref)<0),g=d.filter(y=>h.indexOf(y.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,o)}static syncDiff(e,n,r,o){const{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,l)=>{var c;const u=null!==(c=e[a])&&void 0!==c?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,o(a,c,l),0===c.length&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return n[r]="metas"in o?o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bi=(()=>{return(t=Bi||(Bi={})).BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",Bi;var t})(),gr=(()=>{return(t=gr||(gr={})).SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",gr;var t})();class ap{constructor(e,n={config:{}},r){var o,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new sp(this,On.join,this.params,this.timeout),this.rejoinTimer=new cD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(On.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new ya(this),this.broadcastEndpointURL=hD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&null!==(i=null===(o=this.params.config)||void 0===o?void 0:o.broadcast)&&void 0!==i&&i.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var o,i,s,r=this;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=null!==(i=null===(o=this.bindings.postgres_changes)||void 0===o?void 0:o.map(p=>p.filter))&&void 0!==i?i:[],d=!!this.bindings[Bi.PRESENCE]&&this.bindings[Bi.PRESENCE].length>0||!0===(null===(s=this.params.config.presence)||void 0===s?void 0:s.enabled),h={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(gr.CHANNEL_ERROR,p)),this._onClose(()=>e?.(gr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",function(){var p=m(function*({postgres_changes:g}){var y;if(r.socket.setAuth(),void 0!==g){const C=r.bindings.postgres_changes,A=null!==(y=C?.length)&&void 0!==y?y:0,_=[];for(let P=0;P<A;P++){const N=C[P],{filter:{event:z,schema:Gt,table:Ae,filter:at}}=N,Jn=g&&g[P];if(!Jn||Jn.event!==z||Jn.schema!==Gt||Jn.table!==Ae||Jn.filter!==at)return r.unsubscribe(),r.state=pt.errored,void e?.(gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));_.push(Object.assign(Object.assign({},N),{id:Jn.id}))}return r.bindings.postgres_changes=_,void(e&&e(gr.SUBSCRIBED))}e?.(gr.SUBSCRIBED)});return function(g){return p.apply(this,arguments)}}()).receive("error",p=>{this.state=pt.errored,e?.(gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(e){var n=this;return m(function*(r,o={}){return yield n.send({type:"presence",event:"track",payload:r},o.timeout||n.timeout)}).apply(this,arguments)}untrack(){var e=this;return m(function*(n={}){return yield e.send({type:"presence",event:"untrack"},n)}).apply(this,arguments)}on(e,n,r){return this.state===pt.joined&&e===Bi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}httpSend(e,n){var r=this;return m(function*(o,i,s={}){var a;const l=r.socket.accessTokenValue?`Bearer ${r.socket.accessTokenValue}`:"";if(null==i)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:r.socket.apiKey?r.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:r.subTopic,event:o,payload:i,private:r.private}]})},u=yield r._fetchWithTimeout(r.broadcastEndpointURL,c,null!==(a=s.timeout)&&void 0!==a?a:r.timeout);if(202===u.status)return{success:!0};let d=u.statusText;try{const h=yield u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}).apply(this,arguments)}send(e){var n=this;return m(function*(r,o={}){var i,s;if(n._canPush()||"broadcast"!==r.type)return new Promise(a=>{var l,c,u;const d=n._push(r.type,r,o.timeout||n.timeout);"broadcast"===r.type&&!(null!==(u=null===(c=null===(l=n.params)||void 0===l?void 0:l.config)||void 0===c?void 0:c.broadcast)&&void 0!==u&&u.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=r,u={method:"POST",headers:{Authorization:n.socket.accessTokenValue?`Bearer ${n.socket.accessTokenValue}`:"",apikey:n.socket.apiKey?n.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:n.subTopic,event:a,payload:l,private:n.private}]})};try{const d=yield n._fetchWithTimeout(n.broadcastEndpointURL,u,null!==(i=o.timeout)&&void 0!==i?i:n.timeout);return yield null===(s=d.body)||void 0===s?void 0:s.cancel(),d.ok?"ok":"error"}catch(d){return"AbortError"===d.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(On.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new sp(this,On.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}_fetchWithTimeout(e,n,r){var o=this;return m(function*(){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=yield o.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a})()}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new sp(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,i;const s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=On;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(o=this.bindings.postgres_changes)||void 0===o||o.filter(f=>{var p,g,y;return"*"===(null===(p=f.filter)||void 0===p?void 0:p.event)||(null===(y=null===(g=f.filter)||void 0===g?void 0:g.event)||void 0===y?void 0:y.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):null===(i=this.bindings[s])||void 0===i||i.filter(f=>{var p,g,y,C,A,_;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in f){const P=f.id,N=null===(p=f.filter)||void 0===p?void 0:p.event;return P&&(null===(g=n.ids)||void 0===g?void 0:g.includes(P))&&("*"===N||N?.toLocaleLowerCase()===(null===(y=n.data)||void 0===y?void 0:y.type.toLocaleLowerCase()))}{const P=null===(A=null===(C=f?.filter)||void 0===C?void 0:C.event)||void 0===A?void 0:A.toLocaleLowerCase();return"*"===P||P===(null===(_=n?.event)||void 0===_?void 0:_.toLocaleLowerCase())}}return f.type.toLocaleLowerCase()===s}).map(f=>{if("object"==typeof h&&"ids"in h){const p=h.data,{schema:g,table:y,commit_timestamp:C,type:A,errors:_}=p;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:C,eventType:A,new:{},old:{},errors:_}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!((null===(i=o.type)||void 0===i?void 0:i.toLocaleLowerCase())===r&&ap.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(On.close,{},e)}_onError(e){this._on(On.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(n.new=uD(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(n.old=uD(e.columns,e.old_record)),n}}const lp=()=>{},Ej=[1e3,2e3,5e3,1e4];class Ij{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lp,this.ref=0,this.reconnectTimer=null,this.logger=lp,this.conn=null,this.sendBuffer=[],this.serializer=new yj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return i=o||(typeof fetch>"u"?(...s)=>Promise.resolve().then(K.bind(K,397)).then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...s)=>i(...s)},null===(r=n?.params)||void 0===r||!r.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${$c.websocket}`,this.httpEndpoint=hD(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hj.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){var n=this;return m(function*(){const r=yield e.unsubscribe();return 0===n.channels.length&&n.disconnect(),r})()}removeAllChannels(){var e=this;return m(function*(){const n=yield Promise.all(e.channels.map(r=>r.unsubscribe()));return e.channels=[],e.disconnect(),n})()}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $i.connecting:return ro.Connecting;case $i.open:return ro.Open;case $i.closing:return ro.Closing;default:return ro.Closed}}isConnected(){return this.connectionState()===ro.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{const i=new ap(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var l;null===(l=this.conn)||void 0===l||l.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(){var e=this;return m(function*(n=null){e._authPromise=e._performAuth(n);try{yield e._authPromise}finally{e._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var e=this;return m(function*(){var n;if(e.isConnected()){if(e.pendingHeartbeatRef){e.pendingHeartbeatRef=null,e.log("transport","heartbeat timeout. Attempting to re-establish connection");try{e.heartbeatCallback("timeout")}catch(r){e.log("error","error in heartbeat callback",r)}return e._wasManualDisconnect=!1,null===(n=e.conn)||void 0===n||n.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var r;e.isConnected()||null===(r=e.reconnectTimer)||void 0===r||r.scheduleTimeout()},100)}e.pendingHeartbeatRef=e._makeRef(),e.push({topic:"phoenix",event:"heartbeat",payload:{},ref:e.pendingHeartbeatRef});try{e.heartbeatCallback("sent")}catch(r){e.log("error","error in heartbeat callback",r)}e._setAuthSafely("heartbeat")}else try{e.heartbeatCallback("disconnected")}catch(r){e.log("error","error in heartbeat callback",r)}})()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return this.ref=e===this.ref?0:e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if("phoenix"===n.topic&&"phx_reply"===n.event)try{this.heartbeatCallback("ok"===n.payload.status?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:i,ref:s}=n;this.log("receive",`${i.status||""} ${r} ${o} ${s?`(${s})`:""}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(n=this.reconnectTimer)||void 0===n||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{"keepAlive"===n.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(n=this.reconnectTimer)||void 0===n||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(On.error))}_appendParams(e,n){if(0===Object.keys(n).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(n)}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=n)}_performAuth(){var e=this;return m(function*(n=null){let r;r=n||(e.accessToken?yield e.accessToken():e.accessTokenValue),e.accessTokenValue!=r&&(e.accessTokenValue=r,e.channels.forEach(o=>{r&&o.updateJoinPayload({access_token:r,version:"realtime-js/2.76.1"}),o.joinedOnce&&o._isJoined()&&o._push(On.access_token,{access_token:r})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var e=this;return m(function*(){e._authPromise&&(yield e._authPromise)})()}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){var e=this;this.reconnectTimer=new cD(m(function*(){setTimeout(m(function*(){yield e._waitForAuthIfNeeded(),e.isConnected()||e.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,i,s,a,l,c,u;if(this.transport=null!==(n=e?.transport)&&void 0!==n?n:null,this.timeout=null!==(r=e?.timeout)&&void 0!==r?r:1e4,this.heartbeatIntervalMs=null!==(o=e?.heartbeatIntervalMs)&&void 0!==o?o:25e3,this.worker=null!==(i=e?.worker)&&void 0!==i&&i,this.accessToken=null!==(s=e?.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(a=e?.heartbeatCallback)&&void 0!==a?a:lp,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=e?.reconnectAfterMs)&&void 0!==l?l:d=>Ej[d-1]||1e4,this.encode=null!==(c=e?.encode)&&void 0!==c?c:(d,h)=>h(JSON.stringify(d)),this.decode=null!==(u=e?.decode)&&void 0!==u?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class cp extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ke(t){return"object"==typeof t&&null!==t&&"__isStorageError"in t}class xj extends cp{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class up extends cp{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const dp=t=>{let e;return e=t||(typeof fetch>"u"?(...n)=>Promise.resolve().then(K.bind(K,397)).then(({default:r})=>r(...n)):fetch),(...n)=>e(...n)},hp=t=>{if(Array.isArray(t))return t.map(n=>hp(n));if("function"==typeof t||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=hp(r)}),e},fp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Oj=(t,e,n)=>(0,F.__awaiter)(void 0,void 0,void 0,function*(){const r=yield(0,F.__awaiter)(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(K.bind(K,397))).Response:Response});t instanceof r&&!n?.noResolveJson?t.json().then(o=>{const i=t.status||500,s=o?.statusCode||i+"";e(new xj(fp(o),i,s))}).catch(o=>{e(new up(fp(o),o))}):e(new up(fp(t),t))}),Pj=(t,e,n,r)=>{const o={method:t,headers:e?.headers||{}};return"GET"!==t&&r?((t=>{if("object"!=typeof t||null===t)return!1;const e=Object.getPrototypeOf(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)})(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n)):o};function va(t,e,n,r,o,i){return(0,F.__awaiter)(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,Pj(e,r,o,i)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Oj(l,a,r))})})}function _a(t,e,n,r){return(0,F.__awaiter)(this,void 0,void 0,function*(){return va(t,"GET",e,n,r)})}function qn(t,e,n,r,o){return(0,F.__awaiter)(this,void 0,void 0,function*(){return va(t,"POST",e,r,o,n)})}function pp(t,e,n,r,o){return(0,F.__awaiter)(this,void 0,void 0,function*(){return va(t,"PUT",e,r,o,n)})}function gp(t,e,n,r,o){return(0,F.__awaiter)(this,void 0,void 0,function*(){return va(t,"DELETE",e,r,o,n)})}class kj{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}var fD;fD=Symbol.toStringTag;const Lj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jj{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=dp(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},pD),o);let a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield("PUT"==e?pp:qn)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}})}upload(e,n,r){return(0,F.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return(0,F.__awaiter)(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:pD.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{data:{path:i,fullPath:(yield pp(this.fetch,a.toString(),l,{headers:u})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");const i=yield qn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new cp("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}update(e,n,r){return(0,F.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}copy(e,n,r){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield qn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${!0===r.download?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{const o=yield qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${!0===r.download?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(e);return new class Nj{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[fD]="BlobDownloadBuilder",this.promise=null}asStream(){return new kj(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}}(()=>_a(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield _a(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:hp(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}exists(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield function Rj(t,e,n,r){return(0,F.__awaiter)(this,void 0,void 0,function*(){return va(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r)&&r instanceof up&&[400,404].includes(r.originalError?.status))return{data:!1,error:r};throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),o=[],i=n?.download?`download=${!0===n.download?"":n.download}`:"";""!==i&&o.push(i);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});""!==l&&o.push(l);let c=o.join("&");return""!==c&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield gp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}list(e,n,r){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Lj),n),{prefix:e||""});return{data:yield qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}listV2(e,n){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield qn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const mD={"X-Client-Info":"storage-js/2.76.1"};class Vj{constructor(e,n={},r,o){this.shouldThrowOnError=!1;const i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mD),n),this.fetch=dp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ke(e))return{data:null,error:e};throw e}})}getBucket(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}createBucket(e){return(0,F.__awaiter)(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield pp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}})}emptyBucket(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}deleteBucket(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield gp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}}class Uj{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mD),n),this.fetch=dp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}listBuckets(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{const n=new URLSearchParams;void 0!==e?.limit&&n.set("limit",e.limit.toString()),void 0!==e?.offset&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,i=yield _a(this.fetch,o,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>"ANALYTICS"===a.type):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}deleteBucket(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield gp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}}const mp={"X-Client-Info":"storage-js/2.76.1","Content-Type":"application/json"};class yD extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function hn(t){return"object"==typeof t&&null!==t&&"__isStorageVectorsError"in t}class yp extends yD{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $j extends yD{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}const vp=t=>{let e;return e=t||(typeof fetch>"u"?(...n)=>Promise.resolve().then(K.bind(K,397)).then(({default:r})=>r(...n)):fetch),(...n)=>e(...n)},vD=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hj=(t,e,n)=>(0,F.__awaiter)(void 0,void 0,void 0,function*(){if(t&&"object"==typeof t&&"status"in t&&"ok"in t&&"number"==typeof t.status&&!n?.noResolveJson){const o=t.status||500,i=t;"function"==typeof i.json?i.json().then(s=>{const a=s?.statusCode||s?.code||o+"";e(new yp(vD(s),o,a))}).catch(()=>{e(new yp(i.statusText||`HTTP ${o} error`,o,o+""))}):e(new yp(i.statusText||`HTTP ${o} error`,o,o+""))}else e(new $j(vD(t),t))}),zj=(t,e,n,r)=>{const o={method:t,headers:e?.headers||{}};return"GET"!==t&&r?((t=>{if("object"!=typeof t||null===t)return!1;const e=Object.getPrototypeOf(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)})(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n)):o};function fn(t,e,n,r,o){return(0,F.__awaiter)(this,void 0,void 0,function*(){return function Hc(t,e,n,r,o,i){return(0,F.__awaiter)(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,zj(e,r,o,i)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;const c=l.headers.get("content-type");return c&&c.includes("application/json")?l.json():{}}).then(l=>s(l)).catch(l=>Hj(l,a,r))})})}(t,"POST",e,r,o,n)})}class Gj{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mp),n),this.fetch=vp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}listIndexes(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hn(r))return{data:null,error:r};throw r}})}}class qj{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mp),n),this.fetch=vp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield fn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}})}getVectors(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}})}listVectors(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and "+(e.segmentCount-1))}return{data:yield fn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}})}queryVectors(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield fn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}})}}class Wj{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mp),n),this.fetch=vp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}})}getBucket(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}})}listBuckets(){return(0,F.__awaiter)(this,arguments,void 0,function*(e={}){try{return{data:yield fn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return(0,F.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hn(n))return{data:null,error:n};throw n}})}}class Jj extends Wj{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new Kj(this.url,this.headers,e,this.fetch)}}class Kj extends Gj{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,F.__awaiter)(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,F.__awaiter)(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,F.__awaiter)(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,F.__awaiter)(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Yj(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Yj extends qj{constructor(e,n,r,o,i){super(e,n,i),this.vectorBucketName=r,this.indexName=o}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,F.__awaiter)(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,F.__awaiter)(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,F.__awaiter)(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,F.__awaiter)(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,F.__awaiter)(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Qj extends Vj{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new jj(this.url,this.headers,e,this.fetch)}get vectors(){return new Jj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Uj(this.url+"/iceberg",this.headers,this.fetch)}}let Ca="";Ca=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const Xj={headers:{"X-Client-Info":`supabase-js-${Ca}/2.76.1`}},e2={schema:"public"},t2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n2={};var _D=K(397);const i2=(t,e,n)=>{const r=(t=>{let e;return e=t||(typeof fetch>"u"?_D.default:fetch),(...n)=>e(...n)})(n),o=typeof Headers>"u"?_D.Headers:Headers;return function(){var i=m(function*(s,a){var l;const c=null!==(l=yield e())&&void 0!==l?l:t;let u=new o(a?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},a),{headers:u}))});return function(s,a){return i.apply(this,arguments)}}()},Hi=3e4,bp="X-Supabase-Api-Version",bD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},h2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ba extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Z(t){return"object"==typeof t&&null!==t&&"__isAuthError"in t}class p2 extends ba{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}class To extends ba{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class oo extends ba{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class io extends oo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class zi extends oo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zc extends oo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Gc extends oo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wD extends oo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wp extends oo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Dp(t){return Z(t)&&"AuthRetryableFetchError"===t.name}class DD extends oo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ep extends oo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const qc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ED=" \t\n\r=".split(""),v2=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ED.length;e+=1)t[ED[e].charCodeAt(0)]=-2;for(let e=0;e<qc.length;e+=1)t[qc[e].charCodeAt(0)]=e;return t})();function Wc(t,e,n){if(null!==t)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;)n(qc[e.queue>>e.queuedBits-6&63]),e.queuedBits-=6;else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;)n(qc[e.queue>>e.queuedBits-6&63]),e.queuedBits-=6}function SD(t,e,n){const r=v2[t];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8}function MD(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{!function C2(t,e,n){if(0===e.utf8seq){if(t<=127)return void n(t);for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(2===e.utf8seq)e.codepoint=31&t;else if(3===e.utf8seq)e.codepoint=15&t;else{if(4!==e.utf8seq)throw new Error("Invalid UTF-8 sequence");e.codepoint=7&t}e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|63&t,e.utf8seq-=1,0===e.utf8seq&&n(e.codepoint)}}(s,r,n)};for(let s=0;s<t.length;s+=1)SD(t.charCodeAt(s),o,i);return e.join("")}function _2(t,e){if(!(t<=127)){if(t<=2047)return e(192|t>>6),void e(128|63&t);if(t<=65535)return e(224|t>>12),e(128|t>>6&63),void e(128|63&t);if(t<=1114111)return e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),void e(128|63&t);throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}e(t)}function Gi(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)SD(t.charCodeAt(o),n,r);return new Uint8Array(e)}function Oo(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>Wc(o,n,r)),Wc(null,n,r),e.join("")}const pn=()=>typeof window<"u"&&typeof document<"u",Po={tested:!1,writable:!1},xD=()=>{if(!pn())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Po.tested)return Po.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Po.tested=!0,Po.writable=!0}catch{Po.tested=!0,Po.writable=!1}return Po.writable},AD=t=>{let e;return e=t||(typeof fetch>"u"?(...n)=>Promise.resolve().then(K.bind(K,397)).then(({default:r})=>r(...n)):fetch),(...n)=>e(...n)},S2=t=>"object"==typeof t&&null!==t&&"status"in t&&"ok"in t&&"json"in t&&"function"==typeof t.json,qi=function(){var t=m(function*(e,n,r){yield e.setItem(n,JSON.stringify(r))});return function(n,r,o){return t.apply(this,arguments)}}(),Ro=function(){var t=m(function*(e,n){const r=yield e.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}});return function(n,r){return t.apply(this,arguments)}}(),so=function(){var t=m(function*(e,n){yield e.removeItem(n)});return function(n,r){return t.apply(this,arguments)}}();class Jc{constructor(){this.promise=new Jc.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}function Sp(t){const e=t.split(".");if(3!==e.length)throw new Ep("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!h2.test(e[r]))throw new Ep("JWT not in base64url format");return{header:JSON.parse(MD(e[0])),payload:JSON.parse(MD(e[1])),signature:Gi(e[2]),raw:{header:e[0],payload:e[1]}}}function Mp(){return(Mp=m(function*(t){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})).apply(this,arguments)}function x2(t){return("0"+t.toString(16)).substr(-2)}function Ip(){return(Ip=m(function*(t){const n=(new TextEncoder).encode(t),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})).apply(this,arguments)}function xp(){return xp=m(function*(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=yield function T2(t){return Ip.apply(this,arguments)}(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),xp.apply(this,arguments)}function Wi(t,e){return Ap.apply(this,arguments)}function Ap(){return Ap=m(function*(t,e,n=!1){const r=function A2(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,x2).join("")}();let o=r;n&&(o+="/PASSWORD_RECOVERY"),yield qi(t,`${e}-code-verifier`,o);const i=yield function O2(t){return xp.apply(this,arguments)}(r);return[i,r===i?"plain":"s256"]}),Ap.apply(this,arguments)}Jc.promiseConstructor=Promise;const P2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,F2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ji(t){if(!F2.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tp(){return new Proxy({},{get:(e,n)=>{if("__isUserNotAvailableProxy"===n)return!0;if("symbol"==typeof n){const r=n.toString();if("Symbol(Symbol.toPrimitive)"===r||"Symbol(Symbol.toStringTag)"===r||"Symbol(util.inspect.custom)"===r)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function TD(t){return JSON.parse(JSON.stringify(t))}const ko=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),L2=[502,503,504];function OD(t){return Op.apply(this,arguments)}function Op(){return(Op=m(function*(t){var e;if(!S2(t))throw new wp(ko(t),0);if(L2.includes(t.status))throw new wp(ko(t),t.status);let n,r;try{n=yield t.json()}catch(i){throw new To(ko(i),i)}const o=function R2(t){const e=t.headers.get(bp);if(!e||!e.match(P2))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}(t);if(o&&o.getTime()>=bD["2024-01-01"].timestamp&&"object"==typeof n&&n&&"string"==typeof n.code?r=n.code:"object"==typeof n&&n&&"string"==typeof n.error_code&&(r=n.error_code),r){if("weak_password"===r)throw new DD(ko(n),t.status,(null===(e=n.weak_password)||void 0===e?void 0:e.reasons)||[]);if("session_not_found"===r)throw new io}else if("object"==typeof n&&n&&"object"==typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&"string"==typeof s,!0))throw new DD(ko(n),t.status,n.weak_password.reasons);throw new p2(ko(n),t.status||500,r)})).apply(this,arguments)}const j2=(t,e,n,r)=>{const o={method:t,headers:e?.headers||{}};return"GET"===t?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function de(t,e,n,r){return Pp.apply(this,arguments)}function Pp(){return Pp=m(function*(t,e,n,r){var o;const i=Object.assign({},r?.headers);i[bp]||(i[bp]=bD["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const s=null!==(o=r?.query)&&void 0!==o?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield function V2(t,e,n,r,o,i){return Rp.apply(this,arguments)}(t,e,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}),Pp.apply(this,arguments)}function Rp(){return(Rp=m(function*(t,e,n,r,o,i){const s=j2(e,r,o,i);let a;try{a=yield t(n,Object.assign({},s))}catch(l){throw console.error(l),new wp(ko(l),0)}if(a.ok||(yield OD(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield OD(l)}})).apply(this,arguments)}function Wn(t){var e;let n=null;return function B2(t){return t.access_token&&t.refresh_token&&t.expires_in}(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=function w2(t){return Math.round(Date.now()/1e3)+t}(t.expires_in))),{data:{session:n,user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function PD(t){const e=Wn(t);return!e.error&&t.weak_password&&"object"==typeof t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&"string"==typeof t.weak_password.message&&t.weak_password.reasons.reduce((n,r)=>n&&"string"==typeof r,!0)&&(e.data.weak_password=t.weak_password),e}function ao(t){var e;return{data:{user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function U2(t){return{data:t,error:null}}function $2(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=t,s=(0,F.__rest)(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},user:Object.assign({},s)},error:null}}function RD(t){return t}const kp=["global","local","others"];class H2{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=AD(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(e){var n=this;return m(function*(r,o=kp[0]){if(kp.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kp.join(", ")}`);try{return yield de(n.fetch,"POST",`${n.url}/logout?scope=${o}`,{headers:n.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Z(i))return{data:null,error:i};throw i}}).apply(this,arguments)}inviteUserByEmail(e){var n=this;return m(function*(r,o={}){try{return yield de(n.fetch,"POST",`${n.url}/invite`,{body:{email:r,data:o.data},headers:n.headers,redirectTo:o.redirectTo,xform:ao})}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}}).apply(this,arguments)}generateLink(e){var n=this;return m(function*(){try{const{options:r}=e,o=(0,F.__rest)(e,["options"]),i=Object.assign(Object.assign({},o),r);return"newEmail"in o&&(i.new_email=o?.newEmail,delete i.newEmail),yield de(n.fetch,"POST",`${n.url}/admin/generate_link`,{body:i,headers:n.headers,xform:$2,redirectTo:r?.redirectTo})}catch(r){if(Z(r))return{data:{properties:null,user:null},error:r};throw r}})()}createUser(e){var n=this;return m(function*(){try{return yield de(n.fetch,"POST",`${n.url}/admin/users`,{body:e,headers:n.headers,xform:ao})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}})()}listUsers(e){var n=this;return m(function*(){var r,o,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=yield de(n.fetch,"GET",`${n.url}/admin/users`,{headers:n.headers,noResolveJson:!0,query:{page:null!==(o=null===(r=e?.page)||void 0===r?void 0:r.toString())&&void 0!==o?o:"",per_page:null!==(s=null===(i=e?.perPage)||void 0===i?void 0:i.toString())&&void 0!==s?s:""},xform:RD});if(d.error)throw d.error;const h=yield d.json(),f=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,p=null!==(c=null===(l=d.headers.get("link"))||void 0===l?void 0:l.split(","))&&void 0!==c?c:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(g.split(";")[1].split("=")[1]);u[`${C}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Z(u))return{data:{users:[]},error:u};throw u}})()}getUserById(e){var n=this;return m(function*(){Ji(e);try{return yield de(n.fetch,"GET",`${n.url}/admin/users/${e}`,{headers:n.headers,xform:ao})}catch(r){if(Z(r))return{data:{user:null},error:r};throw r}})()}updateUserById(e,n){var r=this;return m(function*(){Ji(e);try{return yield de(r.fetch,"PUT",`${r.url}/admin/users/${e}`,{body:n,headers:r.headers,xform:ao})}catch(o){if(Z(o))return{data:{user:null},error:o};throw o}})()}deleteUser(e){var n=this;return m(function*(r,o=!1){Ji(r);try{return yield de(n.fetch,"DELETE",`${n.url}/admin/users/${r}`,{headers:n.headers,body:{should_soft_delete:o},xform:ao})}catch(i){if(Z(i))return{data:{user:null},error:i};throw i}}).apply(this,arguments)}_listFactors(e){var n=this;return m(function*(){Ji(e.userId);try{const{data:r,error:o}=yield de(n.fetch,"GET",`${n.url}/admin/users/${e.userId}/factors`,{headers:n.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:o}}catch(r){if(Z(r))return{data:null,error:r};throw r}})()}_deleteFactor(e){var n=this;return m(function*(){Ji(e.userId),Ji(e.id);try{return{data:yield de(n.fetch,"DELETE",`${n.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:n.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})()}_listOAuthClients(e){var n=this;return m(function*(){var r,o,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=yield de(n.fetch,"GET",`${n.url}/admin/oauth/clients`,{headers:n.headers,noResolveJson:!0,query:{page:null!==(o=null===(r=e?.page)||void 0===r?void 0:r.toString())&&void 0!==o?o:"",per_page:null!==(s=null===(i=e?.perPage)||void 0===i?void 0:i.toString())&&void 0!==s?s:""},xform:RD});if(d.error)throw d.error;const h=yield d.json(),f=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,p=null!==(c=null===(l=d.headers.get("link"))||void 0===l?void 0:l.split(","))&&void 0!==c?c:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(g.split(";")[1].split("=")[1]);u[`${C}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Z(u))return{data:{clients:[]},error:u};throw u}})()}_createOAuthClient(e){var n=this;return m(function*(){try{return yield de(n.fetch,"POST",`${n.url}/admin/oauth/clients`,{body:e,headers:n.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})()}_getOAuthClient(e){var n=this;return m(function*(){try{return yield de(n.fetch,"GET",`${n.url}/admin/oauth/clients/${e}`,{headers:n.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})()}_deleteOAuthClient(e){var n=this;return m(function*(){try{return yield de(n.fetch,"DELETE",`${n.url}/admin/oauth/clients/${e}`,{headers:n.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})()}_regenerateOAuthClientSecret(e){var n=this;return m(function*(){try{return yield de(n.fetch,"POST",`${n.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:n.headers,xform:r=>({data:r,error:null})})}catch(r){if(Z(r))return{data:null,error:r};throw r}})()}}function kD(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ki={debug:!!(globalThis&&xD()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class ND extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class z2 extends ND{}function q2(t,e,n){return Np.apply(this,arguments)}function Np(){return Np=m(function*(t,e,n){Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,0===e?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},function(){var o=m(function*(i){if(!i){if(0===e)throw Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new z2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ki.debug)try{const s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield n()}finally{Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}});return function(i){return o.apply(this,arguments)}}()))}),Np.apply(this,arguments)}function LD(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function K2(t){const e=(new TextEncoder).encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}class gt extends Error{constructor({message:e,code:n,cause:r,name:o}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(i=o??(r instanceof Error?r.name:void 0))&&void 0!==i?i:"Unknown Error",this.code=n}}class Kc extends gt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Q2({error:t,options:e}){var n,r,o;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(e.signal instanceof AbortSignal)return new gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(n=i.authenticatorSelection)||void 0===n?void 0:n.requireResidentKey))return new gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===e.mediation&&"required"===(null===(r=i.authenticatorSelection)||void 0===r?void 0:r.userVerification))return new gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(o=i.authenticatorSelection)||void 0===o?void 0:o.userVerification))return new gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new gt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name)return 0===i.pubKeyCredParams.filter(a=>"public-key"===a.type).length?new gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if("SecurityError"===t.name){const s=window.location.hostname;if(!jD(s))return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t});if(i.rp.id!==s)return new gt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Z2({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(e.signal instanceof AbortSignal)return new gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new gt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const r=window.location.hostname;if(!jD(r))return new gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t});if(n.rpId!==r)return new gt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const eV=new class X2{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function tV(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,o=(0,F.__rest)(t,["challenge","user","excludeCredentials"]),i=Gi(e).buffer,s=Object.assign(Object.assign({},n),{id:Gi(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Gi(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function nV(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=(0,F.__rest)(t,["challenge","allowCredentials"]),o=Gi(e).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Gi(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function rV(t){var e;if("toJSON"in t&&"function"==typeof t.toJSON)return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Oo(new Uint8Array(t.response.attestationObject)),clientDataJSON:Oo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:null!==(e=n.authenticatorAttachment)&&void 0!==e?e:void 0}}function oV(t){var e;if("toJSON"in t&&"function"==typeof t.toJSON)return t.toJSON();const n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Oo(new Uint8Array(o.authenticatorData)),clientDataJSON:Oo(new Uint8Array(o.clientDataJSON)),signature:Oo(new Uint8Array(o.signature)),userHandle:o.userHandle?Oo(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(e=n.authenticatorAttachment)&&void 0!==e?e:void 0}}function jD(t){return"localhost"===t||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function VD(){var t,e;return!!(pn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(t=navigator?.credentials)||void 0===t?void 0:t.create)&&"function"==typeof(null===(e=navigator?.credentials)||void 0===e?void 0:e.get))}function Lp(){return(Lp=m(function*(t){try{const e=yield navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Kc("Browser returned unexpected credential type",e)}:{data:null,error:new Kc("Empty credential response",e)}}catch(e){return{data:null,error:Q2({error:e,options:t})}}})).apply(this,arguments)}function jp(){return(jp=m(function*(t){try{const e=yield navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Kc("Browser returned unexpected credential type",e)}:{data:null,error:new Kc("Empty credential response",e)}}catch(e){return{data:null,error:Z2({error:e,options:t})}}})).apply(this,arguments)}const aV={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},lV={userVerification:"preferred",hints:["security-key"]};function Yc(...t){const e=o=>null!==o&&"object"==typeof o&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of t)if(o)for(const i in o){const s=o[i];if(void 0!==s)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(e(s)){const a=r[i];r[i]=e(a)?Yc(a,s):Yc(s)}else r[i]=s}return r}class dV{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(e){var n=this;return m(function*(){return n.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))})()}_challenge(e,n){var r=this;return m(function*({factorId:o,webauthn:i,friendlyName:s,signal:a},l){try{const{data:c,error:u}=yield r.client.mfa.challenge({factorId:o,webauthn:i});if(!c)return{data:null,error:u};const d=a??eV.createNewAbortSignal();if("create"===c.webauthn.type){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${s}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=function cV(t,e){return Yc(aV,t,e||{})}(c.webauthn.credential_options.publicKey,l?.create),{data:f,error:p}=yield function iV(t){return Lp.apply(this,arguments)}({publicKey:h,signal:d});return f?{data:{factorId:o,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const h=function uV(t,e){return Yc(lV,t,e||{})}(c.webauthn.credential_options.publicKey,l?.request),{data:f,error:p}=yield function sV(t){return jp.apply(this,arguments)}(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:d}));return f?{data:{factorId:o,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(c){return Z(c)?{data:null,error:c}:{data:null,error:new To("Unexpected error in challenge",c)}}}).apply(this,arguments)}_verify(e){var n=this;return m(function*({challengeId:r,factorId:o,webauthn:i}){return n.client.mfa.verify({factorId:o,challengeId:r,webauthn:i})}).apply(this,arguments)}_authenticate(e,n){var r=this;return m(function*({factorId:o,webauthn:{rpId:i=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:s=(typeof window<"u"?[window.location.origin]:void 0),signal:a}},l){if(!i)return{data:null,error:new ba("rpId is required for WebAuthn authentication")};try{if(!VD())return{data:null,error:new To("Browser does not support WebAuthn",null)};const{data:c,error:u}=yield r.challenge({factorId:o,webauthn:{rpId:i,rpOrigins:s},signal:a},{request:l});if(!c)return{data:null,error:u};const{webauthn:d}=c;return r._verify({factorId:o,challengeId:c.challengeId,webauthn:{type:d.type,rpId:i,rpOrigins:s,credential_response:d.credential_response}})}catch(c){return Z(c)?{data:null,error:c}:{data:null,error:new To("Unexpected error in authenticate",c)}}}).apply(this,arguments)}_register(e,n){var r=this;return m(function*({friendlyName:o,rpId:i=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:s=(typeof window<"u"?[window.location.origin]:void 0),signal:a},l){if(!i)return{data:null,error:new ba("rpId is required for WebAuthn registration")};try{if(!VD())return{data:null,error:new To("Browser does not support WebAuthn",null)};const{data:c,error:u}=yield r._enroll({friendlyName:o});if(!c)return yield r.client.mfa.listFactors().then(f=>{var p;return null===(p=f.data)||void 0===p?void 0:p.all.find(g=>"webauthn"===g.factor_type&&g.friendly_name===o&&"unverified"!==g.status)}).then(f=>f?r.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:u};const{data:d,error:h}=yield r._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:a},{create:l});return d?r._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:i,rpOrigins:s,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(c){return Z(c)?{data:null,error:c}:{data:null,error:new To("Unexpected error in register",c)}}}).apply(this,arguments)}}!function W2(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const hV={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.76.1"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function UD(t,e,n){return Vp.apply(this,arguments)}function Vp(){return(Vp=m(function*(t,e,n){return yield n()})).apply(this,arguments)}const Yi={},pV=(()=>{class t{get jwks(){var n,r;return null!==(r=null===(n=Yi[this.storageKey])||void 0===n?void 0:n.jwks)&&void 0!==r?r:{keys:[]}}set jwks(n){Yi[this.storageKey]=Object.assign(Object.assign({},Yi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return null!==(r=null===(n=Yi[this.storageKey])||void 0===n?void 0:n.cachedAt)&&void 0!==r?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Yi[this.storageKey]=Object.assign(Object.assign({},Yi[this.storageKey]),{cachedAt:n})}constructor(n){var o,i,r=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&pn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},hV),n);if(this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new H2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=AD(s.fetch),this.lock=s.lock||UD,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.lock=s.lock?s.lock:pn()&&null!==(o=globalThis?.navigator)&&void 0!==o&&o.locks?q2:UD,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dV(this)},this.persistSession?(s.storage?this.storage=s.storage:xD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kD(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=kD(this.memoryStorage)),pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(i=this.broadcastChannel)||void 0===i||i.addEventListener("message",function(){var a=m(function*(l){r._debug("received broadcast notification from other tab or client",l),yield r._notifyAllSubscribers(l.data.event,l.data.session,!1)});return function(l){return a.apply(this,arguments)}}())}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.76.1) ${(new Date).toISOString()}`,...n),this}initialize(){var n=this;return m(function*(){return n.initializePromise||(n.initializePromise=m(function*(){return yield n._acquireLock(-1,m(function*(){return yield n._initialize()}))})()),yield n.initializePromise})()}_initialize(){var n=this;return m(function*(){var r;try{const o=function E2(t){const e={},n=new URL(t);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}(window.location.href);let i="none";if(n._isImplicitGrantCallback(o)?i="implicit":(yield n._isPKCECallback(o))&&(i="pkce"),pn()&&n.detectSessionInUrl&&"none"!==i){const{data:s,error:a}=yield n._getSessionFromURL(o,i);if(a){if(n._debug("#_initialize()","error detecting session from URL",a),function y2(t){return Z(t)&&"AuthImplicitGrantRedirectError"===t.name}(a)){const u=null===(r=a.details)||void 0===r?void 0:r.code;if("identity_already_exists"===u||"identity_not_found"===u||"single_identity_not_deletable"===u)return{error:a}}return yield n._removeSession(),{error:a}}const{session:l,redirectType:c}=s;return n._debug("#_initialize()","detected session in URL",l,"redirect type",c),yield n._saveSession(l),setTimeout(m(function*(){"recovery"===c?yield n._notifyAllSubscribers("PASSWORD_RECOVERY",l):yield n._notifyAllSubscribers("SIGNED_IN",l)}),0),{error:null}}return yield n._recoverAndRefresh(),{error:null}}catch(o){return Z(o)?{error:o}:{error:new To("Unexpected error during initialization",o)}}finally{yield n._handleVisibilityChange(),n._debug("#_initialize()","end")}})()}signInAnonymously(n){var r=this;return m(function*(){var o,i,s;try{const a=yield de(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{data:null!==(i=null===(o=n?.options)||void 0===o?void 0:o.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:null===(s=n?.options)||void 0===s?void 0:s.captchaToken}},xform:Wn}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const u=l.session,d=l.user;return l.session&&(yield r._saveSession(l.session),yield r._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(a){if(Z(a))return{data:{user:null,session:null},error:a};throw a}})()}signUp(n){var r=this;return m(function*(){var o,i,s;try{let a;if("email"in n){const{email:h,password:f,options:p}=n;let g=null,y=null;"pkce"===r.flowType&&([g,y]=yield Wi(r.storage,r.storageKey)),a=yield de(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,redirectTo:p?.emailRedirectTo,body:{email:h,password:f,data:null!==(o=p?.data)&&void 0!==o?o:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},xform:Wn})}else{if(!("phone"in n))throw new zc("You must provide either an email or phone number and a password");{const{phone:h,password:f,options:p}=n;a=yield de(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{phone:h,password:f,data:null!==(i=p?.data)&&void 0!==i?i:{},channel:null!==(s=p?.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Wn})}}const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const u=l.session,d=l.user;return l.session&&(yield r._saveSession(l.session),yield r._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(a){if(Z(a))return{data:{user:null,session:null},error:a};throw a}})()}signInWithPassword(n){var r=this;return m(function*(){try{let o;if("email"in n){const{email:a,password:l,options:c}=n;o=yield de(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:PD})}else{if(!("phone"in n))throw new zc("You must provide either an email or phone number and a password");{const{phone:a,password:l,options:c}=n;o=yield de(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:PD})}}const{data:i,error:s}=o;return s?{data:{user:null,session:null},error:s}:i&&i.session&&i.user?(i.session&&(yield r._saveSession(i.session),yield r._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s}):{data:{user:null,session:null},error:new zi}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}})()}signInWithOAuth(n){var r=this;return m(function*(){var o,i,s,a;return yield r._handleProviderSignIn(n.provider,{redirectTo:null===(o=n.options)||void 0===o?void 0:o.redirectTo,scopes:null===(i=n.options)||void 0===i?void 0:i.scopes,queryParams:null===(s=n.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(a=n.options)||void 0===a?void 0:a.skipBrowserRedirect})})()}exchangeCodeForSession(n){var r=this;return m(function*(){return yield r.initializePromise,r._acquireLock(-1,m(function*(){return r._exchangeCodeForSession(n)}))})()}signInWithWeb3(n){var r=this;return m(function*(){const{chain:o}=n;switch(o){case"ethereum":return yield r.signInWithEthereum(n);case"solana":return yield r.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}})()}signInWithEthereum(n){var r=this;return m(function*(){var o,i,s,a,l,c,u,d,h,f,p;let g,y;if("message"in n)g=n.message,y=n.signature;else{const{wallet:A,statement:_,options:P}=n;let N;if(pn())if("object"==typeof A)N=A;else{const gn=window;if(!("ethereum"in gn)||"object"!=typeof gn.ethereum||!("request"in gn.ethereum)||"function"!=typeof gn.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");N=gn.ethereum}else{if("object"!=typeof A||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=A}const z=new URL(null!==(o=P?.url)&&void 0!==o?o:window.location.href),Gt=yield N.request({method:"eth_requestAccounts"}).then(gn=>gn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Gt||0===Gt.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Ae=LD(Gt[0]);let at=null===(i=P?.signInWithEthereum)||void 0===i?void 0:i.chainId;at||(at=function J2(t){return parseInt(t,16)}(yield N.request({method:"eth_chainId"}))),g=function Y2(t){var e;const{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=t;if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(null!==(e=t.statement)&&void 0!==e&&e.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`);const y=`${u?`${u}://${r}`:r} wants you to sign in with your Ethereum account:\n${LD(t.address)}\n\n${t.statement?`${t.statement}\n`:""}`;let C=`URI: ${d}\nVersion: ${h}\nChain ID: ${n}${s?`\nNonce: ${s}`:""}\nIssued At: ${i.toISOString()}`;if(o&&(C+=`\nExpiration Time: ${o.toISOString()}`),a&&(C+=`\nNot Before: ${a.toISOString()}`),l&&(C+=`\nRequest ID: ${l}`),c){let A="\nResources:";for(const _ of c){if(!_||"string"!=typeof _)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);A+=`\n- ${_}`}C+=A}return`${y}\n${C}`}({domain:z.host,address:Ae,statement:_,uri:z.href,version:"1",chainId:at,nonce:null===(s=P?.signInWithEthereum)||void 0===s?void 0:s.nonce,issuedAt:null!==(l=null===(a=P?.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==l?l:new Date,expirationTime:null===(c=P?.signInWithEthereum)||void 0===c?void 0:c.expirationTime,notBefore:null===(u=P?.signInWithEthereum)||void 0===u?void 0:u.notBefore,requestId:null===(d=P?.signInWithEthereum)||void 0===d?void 0:d.requestId,resources:null===(h=P?.signInWithEthereum)||void 0===h?void 0:h.resources}),y=yield N.request({method:"personal_sign",params:[K2(g),Ae]})}try{const{data:C,error:A}=yield de(r.fetch,"POST",`${r.url}/token?grant_type=web3`,{headers:r.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},null!==(f=n.options)&&void 0!==f&&f.captchaToken?{gotrue_meta_security:{captcha_token:null===(p=n.options)||void 0===p?void 0:p.captchaToken}}:null),xform:Wn});if(A)throw A;return C&&C.session&&C.user?(C.session&&(yield r._saveSession(C.session),yield r._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:A}):{data:{user:null,session:null},error:new zi}}catch(C){if(Z(C))return{data:{user:null,session:null},error:C};throw C}})()}signInWithSolana(n){var r=this;return m(function*(){var o,i,s,a,l,c,u,d,h,f,p,g;let y,C;if("message"in n)y=n.message,C=n.signature;else{const{wallet:_,statement:P,options:N}=n;let z;if(pn())if("object"==typeof _)z=_;else{const Ae=window;if(!("solana"in Ae)||"object"!=typeof Ae.solana||!("signIn"in Ae.solana&&"function"==typeof Ae.solana.signIn||"signMessage"in Ae.solana&&"function"==typeof Ae.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");z=Ae.solana}else{if("object"!=typeof _||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=_}const Gt=new URL(null!==(o=N?.url)&&void 0!==o?o:window.location.href);if("signIn"in z&&z.signIn){const Ae=yield z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},N?.signInWithSolana),{version:"1",domain:Gt.host,uri:Gt.href}),P?{statement:P}:null));let at;if(Array.isArray(Ae)&&Ae[0]&&"object"==typeof Ae[0])at=Ae[0];else{if(!(Ae&&"object"==typeof Ae&&"signedMessage"in Ae&&"signature"in Ae))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");at=Ae}if(!("signedMessage"in at&&"signature"in at&&("string"==typeof at.signedMessage||at.signedMessage instanceof Uint8Array)&&at.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");y="string"==typeof at.signedMessage?at.signedMessage:(new TextDecoder).decode(at.signedMessage),C=at.signature}else{if(!("signMessage"in z&&"function"==typeof z.signMessage&&"publicKey"in z&&"object"==typeof z&&z.publicKey&&"toBase58"in z.publicKey&&"function"==typeof z.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${Gt.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${Gt.href}`,`Issued At: ${null!==(s=null===(i=N?.signInWithSolana)||void 0===i?void 0:i.issuedAt)&&void 0!==s?s:(new Date).toISOString()}`,...null!==(a=N?.signInWithSolana)&&void 0!==a&&a.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...null!==(l=N?.signInWithSolana)&&void 0!==l&&l.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...null!==(c=N?.signInWithSolana)&&void 0!==c&&c.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...null!==(u=N?.signInWithSolana)&&void 0!==u&&u.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...null!==(d=N?.signInWithSolana)&&void 0!==d&&d.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...null!==(f=null===(h=N?.signInWithSolana)||void 0===h?void 0:h.resources)&&void 0!==f&&f.length?["Resources",...N.signInWithSolana.resources.map(at=>`- ${at}`)]:[]].join("\n");const Ae=yield z.signMessage((new TextEncoder).encode(y),"utf8");if(!(Ae&&Ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=Ae}}try{const{data:A,error:_}=yield de(r.fetch,"POST",`${r.url}/token?grant_type=web3`,{headers:r.headers,body:Object.assign({chain:"solana",message:y,signature:Oo(C)},null!==(p=n.options)&&void 0!==p&&p.captchaToken?{gotrue_meta_security:{captcha_token:null===(g=n.options)||void 0===g?void 0:g.captchaToken}}:null),xform:Wn});if(_)throw _;return A&&A.session&&A.user?(A.session&&(yield r._saveSession(A.session),yield r._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:_}):{data:{user:null,session:null},error:new zi}}catch(A){if(Z(A))return{data:{user:null,session:null},error:A};throw A}})()}_exchangeCodeForSession(n){var r=this;return m(function*(){const o=yield Ro(r.storage,`${r.storageKey}-code-verifier`),[i,s]=(o??"").split("/");try{const{data:a,error:l}=yield de(r.fetch,"POST",`${r.url}/token?grant_type=pkce`,{headers:r.headers,body:{auth_code:n,code_verifier:i},xform:Wn});if(yield so(r.storage,`${r.storageKey}-code-verifier`),l)throw l;return a&&a.session&&a.user?(a.session&&(yield r._saveSession(a.session),yield r._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l}):{data:{user:null,session:null,redirectType:null},error:new zi}}catch(a){if(Z(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})()}signInWithIdToken(n){var r=this;return m(function*(){try{const{options:o,provider:i,token:s,access_token:a,nonce:l}=n,c=yield de(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,body:{provider:i,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Wn}),{data:u,error:d}=c;return d?{data:{user:null,session:null},error:d}:u&&u.session&&u.user?(u.session&&(yield r._saveSession(u.session),yield r._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d}):{data:{user:null,session:null},error:new zi}}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}})()}signInWithOtp(n){var r=this;return m(function*(){var o,i,s,a,l;try{if("email"in n){const{email:c,options:u}=n;let d=null,h=null;"pkce"===r.flowType&&([d,h]=yield Wi(r.storage,r.storageKey));const{error:f}=yield de(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{email:c,data:null!==(o=u?.data)&&void 0!==o?o:{},create_user:null===(i=u?.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in n){const{phone:c,options:u}=n,{data:d,error:h}=yield de(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{phone:c,data:null!==(s=u?.data)&&void 0!==s?s:{},create_user:null===(a=u?.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:null!==(l=u?.channel)&&void 0!==l?l:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:h}}throw new zc("You must provide either an email or phone number.")}catch(c){if(Z(c))return{data:{user:null,session:null},error:c};throw c}})()}verifyOtp(n){var r=this;return m(function*(){var o,i;try{let s,a;"options"in n&&(s=null===(o=n.options)||void 0===o?void 0:o.redirectTo,a=null===(i=n.options)||void 0===i?void 0:i.captchaToken);const{data:l,error:c}=yield de(r.fetch,"POST",`${r.url}/verify`,{headers:r.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Wn});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const u=l.session,d=l.user;return u?.access_token&&(yield r._saveSession(u),yield r._notifyAllSubscribers("recovery"==n.type?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(Z(s))return{data:{user:null,session:null},error:s};throw s}})()}signInWithSSO(n){var r=this;return m(function*(){var o,i,s;try{let a=null,l=null;return"pkce"===r.flowType&&([a,l]=yield Wi(r.storage,r.storageKey)),yield de(r.fetch,"POST",`${r.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:null!==(i=null===(o=n.options)||void 0===o?void 0:o.redirectTo)&&void 0!==i?i:void 0}),null!==(s=n?.options)&&void 0!==s&&s.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:r.headers,xform:U2})}catch(a){if(Z(a))return{data:null,error:a};throw a}})()}reauthenticate(){var n=this;return m(function*(){return yield n.initializePromise,yield n._acquireLock(-1,m(function*(){return yield n._reauthenticate()}))})()}_reauthenticate(){var n=this;return m(function*(){try{return yield n._useSession(function(){var r=m(function*(o){const{data:{session:i},error:s}=o;if(s)throw s;if(!i)throw new io;const{error:a}=yield de(n.fetch,"GET",`${n.url}/reauthenticate`,{headers:n.headers,jwt:i.access_token});return{data:{user:null,session:null},error:a}});return function(o){return r.apply(this,arguments)}}())}catch(r){if(Z(r))return{data:{user:null,session:null},error:r};throw r}})()}resend(n){var r=this;return m(function*(){try{const o=`${r.url}/resend`;if("email"in n){const{email:i,type:s,options:a}=n,{error:l}=yield de(r.fetch,"POST",o,{headers:r.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:l}}if("phone"in n){const{phone:i,type:s,options:a}=n,{data:l,error:c}=yield de(r.fetch,"POST",o,{headers:r.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:c}}throw new zc("You must provide either an email or phone number and a type")}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}})()}getSession(){var n=this;return m(function*(){return yield n.initializePromise,yield n._acquireLock(-1,m(function*(){return n._useSession(function(){var o=m(function*(i){return i});return function(i){return o.apply(this,arguments)}}())}))})()}_acquireLock(n,r){var o=this;return m(function*(){o._debug("#_acquireLock","begin",n);try{if(o.lockAcquired){const i=o.pendingInLock.length?o.pendingInLock[o.pendingInLock.length-1]:Promise.resolve(),s=m(function*(){return yield i,yield r()})();return o.pendingInLock.push(m(function*(){try{yield s}catch{}})()),s}return yield o.lock(`lock:${o.storageKey}`,n,m(function*(){o._debug("#_acquireLock","lock acquired for storage key",o.storageKey);try{o.lockAcquired=!0;const i=r();for(o.pendingInLock.push(m(function*(){try{yield i}catch{}})()),yield i;o.pendingInLock.length;){const s=[...o.pendingInLock];yield Promise.all(s),o.pendingInLock.splice(0,s.length)}return yield i}finally{o._debug("#_acquireLock","lock released for storage key",o.storageKey),o.lockAcquired=!1}}))}finally{o._debug("#_acquireLock","end")}})()}_useSession(n){var r=this;return m(function*(){r._debug("#_useSession","begin");try{const o=yield r.__loadSession();return yield n(o)}finally{r._debug("#_useSession","end")}})()}__loadSession(){var n=this;return m(function*(){n._debug("#__loadSession()","begin"),n.lockAcquired||n._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let r=null;const o=yield Ro(n.storage,n.storageKey);if(n._debug("#getSession()","session from storage",o),null!==o&&(n._isValidSession(o)?r=o:(n._debug("#getSession()","session from storage is not valid"),yield n._removeSession())),!r)return{data:{session:null},error:null};const i=!!r.expires_at&&1e3*r.expires_at-Date.now()<9e4;if(n._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",r.expires_at),!i){if(n.userStorage){const l=yield Ro(n.userStorage,n.storageKey+"-user");r.user=l?.user?l.user:Tp()}if(n.storage.isServer&&r.user){let l=n.suppressGetSessionWarning;r=new Proxy(r,{get:(u,d,h)=>(!l&&"user"===d&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,n.suppressGetSessionWarning=!0),Reflect.get(u,d,h))})}return{data:{session:r},error:null}}const{data:s,error:a}=yield n._callRefreshToken(r.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{n._debug("#__loadSession()","end")}})()}getUser(n){var r=this;return m(function*(){return n?yield r._getUser(n):(yield r.initializePromise,yield r._acquireLock(-1,m(function*(){return yield r._getUser()})))})()}_getUser(n){var r=this;return m(function*(){try{return n?yield de(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:n,xform:ao}):yield r._useSession(function(){var o=m(function*(i){var s,a,l;const{data:c,error:u}=i;if(u)throw u;return null!==(s=c.session)&&void 0!==s&&s.access_token||r.hasCustomAuthorizationHeader?yield de(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:null!==(l=null===(a=c.session)||void 0===a?void 0:a.access_token)&&void 0!==l?l:void 0,xform:ao}):{data:{user:null},error:new io}});return function(i){return o.apply(this,arguments)}}())}catch(o){if(Z(o))return function m2(t){return Z(t)&&"AuthSessionMissingError"===t.name}(o)&&(yield r._removeSession(),yield so(r.storage,`${r.storageKey}-code-verifier`)),{data:{user:null},error:o};throw o}})()}updateUser(n){var r=this;return m(function*(o,i={}){return yield r.initializePromise,yield r._acquireLock(-1,m(function*(){return yield r._updateUser(o,i)}))}).apply(this,arguments)}_updateUser(n){var r=this;return m(function*(o,i={}){try{return yield r._useSession(function(){var s=m(function*(a){const{data:l,error:c}=a;if(c)throw c;if(!l.session)throw new io;const u=l.session;let d=null,h=null;"pkce"===r.flowType&&null!=o.email&&([d,h]=yield Wi(r.storage,r.storageKey));const{data:f,error:p}=yield de(r.fetch,"PUT",`${r.url}/user`,{headers:r.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},o),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:ao});if(p)throw p;return u.user=f.user,yield r._saveSession(u),yield r._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}});return function(a){return s.apply(this,arguments)}}())}catch(s){if(Z(s))return{data:{user:null},error:s};throw s}}).apply(this,arguments)}setSession(n){var r=this;return m(function*(){return yield r.initializePromise,yield r._acquireLock(-1,m(function*(){return yield r._setSession(n)}))})()}_setSession(n){var r=this;return m(function*(){try{if(!n.access_token||!n.refresh_token)throw new io;const o=Date.now()/1e3;let i=o,s=!0,a=null;const{payload:l}=Sp(n.access_token);if(l.exp&&(i=l.exp,s=i<=o),s){const{data:c,error:u}=yield r._callRefreshToken(n.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:u}=yield r._getUser(n.access_token);if(u)throw u;a={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-o,expires_at:i},yield r._saveSession(a),yield r._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(o){if(Z(o))return{data:{session:null,user:null},error:o};throw o}})()}refreshSession(n){var r=this;return m(function*(){return yield r.initializePromise,yield r._acquireLock(-1,m(function*(){return yield r._refreshSession(n)}))})()}_refreshSession(n){var r=this;return m(function*(){try{return yield r._useSession(function(){var o=m(function*(i){var s;if(!n){const{data:c,error:u}=i;if(u)throw u;n=null!==(s=c.session)&&void 0!==s?s:void 0}if(!n?.refresh_token)throw new io;const{data:a,error:l}=yield r._callRefreshToken(n.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}});return function(i){return o.apply(this,arguments)}}())}catch(o){if(Z(o))return{data:{user:null,session:null},error:o};throw o}})()}_getSessionFromURL(n,r){var o=this;return m(function*(){try{if(!pn())throw new Gc("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Gc(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if("pkce"===o.flowType)throw new wD("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===o.flowType)throw new Gc("Not a valid implicit grant flow url.")}if("pkce"===r){if(o._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new wD("No code detected.");const{data:P,error:N}=yield o._exchangeCodeForSession(n.code);if(N)throw N;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:c,expires_at:u,token_type:d}=n;if(!(a&&c&&l&&d))throw new Gc("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(c);let p=h+f;u&&(p=parseInt(u));const g=p-h;1e3*g<=Hi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=p-f;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,h);const{data:C,error:A}=yield o._getUser(a);if(A)throw A;const _={provider_token:i,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:p,refresh_token:l,token_type:d,user:C.user};return window.location.hash="",o._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:n.type},error:null}}catch(i){if(Z(i))return{data:{session:null,redirectType:null},error:i};throw i}})()}_isImplicitGrantCallback(n){return Boolean(n.access_token||n.error_description)}_isPKCECallback(n){var r=this;return m(function*(){const o=yield Ro(r.storage,`${r.storageKey}-code-verifier`);return!(!n.code||!o)})()}signOut(){var n=this;return m(function*(r={scope:"global"}){return yield n.initializePromise,yield n._acquireLock(-1,m(function*(){return yield n._signOut(r)}))}).apply(this,arguments)}_signOut(){var n=this;return m(function*({scope:r}={scope:"global"}){return yield n._useSession(function(){var o=m(function*(i){var s;const{data:a,error:l}=i;if(l)return{error:l};const c=null===(s=a.session)||void 0===s?void 0:s.access_token;if(c){const{error:u}=yield n.admin.signOut(c,r);if(u&&(!function g2(t){return Z(t)&&"AuthApiError"===t.name}(u)||404!==u.status&&401!==u.status&&403!==u.status))return{error:u}}return"others"!==r&&(yield n._removeSession(),yield so(n.storage,`${n.storageKey}-code-verifier`)),{error:null}});return function(i){return o.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(n){var r=this;const o=function D2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}(),i={id:o,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,i),m(function*(){yield r.initializePromise,yield r._acquireLock(-1,m(function*(){r._emitInitialSession(o)}))})(),{data:{subscription:i}}}_emitInitialSession(n){var r=this;return m(function*(){return yield r._useSession(function(){var o=m(function*(i){var s,a;try{const{data:{session:l},error:c}=i;if(c)throw c;yield null===(s=r.stateChangeEmitters.get(n))||void 0===s?void 0:s.callback("INITIAL_SESSION",l),r._debug("INITIAL_SESSION","callback id",n,"session",l)}catch(l){yield null===(a=r.stateChangeEmitters.get(n))||void 0===a?void 0:a.callback("INITIAL_SESSION",null),r._debug("INITIAL_SESSION","callback id",n,"error",l),console.error(l)}});return function(i){return o.apply(this,arguments)}}())})()}resetPasswordForEmail(n){var r=this;return m(function*(o,i={}){let s=null,a=null;"pkce"===r.flowType&&([s,a]=yield Wi(r.storage,r.storageKey,!0));try{return yield de(r.fetch,"POST",`${r.url}/recover`,{body:{email:o,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:r.headers,redirectTo:i.redirectTo})}catch(l){if(Z(l))return{data:null,error:l};throw l}}).apply(this,arguments)}getUserIdentities(){var n=this;return m(function*(){var r;try{const{data:o,error:i}=yield n.getUser();if(i)throw i;return{data:{identities:null!==(r=o.user.identities)&&void 0!==r?r:[]},error:null}}catch(o){if(Z(o))return{data:null,error:o};throw o}})()}linkIdentity(n){var r=this;return m(function*(){return"token"in n?r.linkIdentityIdToken(n):r.linkIdentityOAuth(n)})()}linkIdentityOAuth(n){var r=this;return m(function*(){var o;try{const{data:i,error:s}=yield r._useSession(function(){var a=m(function*(l){var c,u,d,h,f;const{data:p,error:g}=l;if(g)throw g;const y=yield r._getUrlForProvider(`${r.url}/user/identities/authorize`,n.provider,{redirectTo:null===(c=n.options)||void 0===c?void 0:c.redirectTo,scopes:null===(u=n.options)||void 0===u?void 0:u.scopes,queryParams:null===(d=n.options)||void 0===d?void 0:d.queryParams,skipBrowserRedirect:!0});return yield de(r.fetch,"GET",y,{headers:r.headers,jwt:null!==(f=null===(h=p.session)||void 0===h?void 0:h.access_token)&&void 0!==f?f:void 0})});return function(l){return a.apply(this,arguments)}}());if(s)throw s;return pn()&&!(null!==(o=n.options)&&void 0!==o&&o.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(Z(i))return{data:{provider:n.provider,url:null},error:i};throw i}})()}linkIdentityIdToken(n){var r=this;return m(function*(){return yield r._useSession(function(){var o=m(function*(i){var s;try{const{error:a,data:{session:l}}=i;if(a)throw a;const{options:c,provider:u,token:d,access_token:h,nonce:f}=n,p=yield de(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,jwt:null!==(s=l?.access_token)&&void 0!==s?s:void 0,body:{provider:u,id_token:d,access_token:h,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Wn}),{data:g,error:y}=p;return y?{data:{user:null,session:null},error:y}:g&&g.session&&g.user?(g.session&&(yield r._saveSession(g.session),yield r._notifyAllSubscribers("USER_UPDATED",g.session)),{data:g,error:y}):{data:{user:null,session:null},error:new zi}}catch(a){if(Z(a))return{data:{user:null,session:null},error:a};throw a}});return function(i){return o.apply(this,arguments)}}())})()}unlinkIdentity(n){var r=this;return m(function*(){try{return yield r._useSession(function(){var o=m(function*(i){var s,a;const{data:l,error:c}=i;if(c)throw c;return yield de(r.fetch,"DELETE",`${r.url}/user/identities/${n.identity_id}`,{headers:r.headers,jwt:null!==(a=null===(s=l.session)||void 0===s?void 0:s.access_token)&&void 0!==a?a:void 0})});return function(i){return o.apply(this,arguments)}}())}catch(o){if(Z(o))return{data:null,error:o};throw o}})()}_refreshAccessToken(n){var r=this;return m(function*(){const o=`#_refreshAccessToken(${n.substring(0,5)}...)`;r._debug(o,"begin");try{const i=Date.now();return yield function I2(t,e){return new Promise((r,o)=>{m(function*(){for(let i=0;i<1/0;i++)try{const s=yield t(i);if(!e(i,null,s))return void r(s)}catch(s){if(!e(i,s))return void o(s)}})()})}(function(){var s=m(function*(a){return a>0&&(yield function M2(t){return Mp.apply(this,arguments)}(200*Math.pow(2,a-1))),r._debug(o,"refreshing attempt",a),yield de(r.fetch,"POST",`${r.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:r.headers,xform:Wn})});return function(a){return s.apply(this,arguments)}}(),(s,a)=>{const l=200*Math.pow(2,s);return a&&Dp(a)&&Date.now()+l-i<Hi})}catch(i){if(r._debug(o,"error",i),Z(i))return{data:{session:null,user:null},error:i};throw i}finally{r._debug(o,"end")}})()}_isValidSession(n){return"object"==typeof n&&null!==n&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){var o=this;return m(function*(){const i=yield o._getUrlForProvider(`${o.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return o._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),pn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})()}_recoverAndRefresh(){var n=this;return m(function*(){var r,o;const i="#_recoverAndRefresh()";n._debug(i,"begin");try{const s=yield Ro(n.storage,n.storageKey);if(s&&n.userStorage){let l=yield Ro(n.userStorage,n.storageKey+"-user");!n.storage.isServer&&Object.is(n.storage,n.userStorage)&&!l&&(l={user:s.user},yield qi(n.userStorage,n.storageKey+"-user",l)),s.user=null!==(r=l?.user)&&void 0!==r?r:Tp()}else if(s&&!s.user&&!s.user){const l=yield Ro(n.storage,n.storageKey+"-user");l&&l?.user?(s.user=l.user,yield so(n.storage,n.storageKey+"-user"),yield qi(n.storage,n.storageKey,s)):s.user=Tp()}if(n._debug(i,"session from storage",s),!n._isValidSession(s))return n._debug(i,"session is not valid"),void(null!==s&&(yield n._removeSession()));const a=1e3*(null!==(o=s.expires_at)&&void 0!==o?o:1/0)-Date.now()<9e4;if(n._debug(i,`session has${a?"":" not"} expired with margin of 90000s`),a){if(n.autoRefreshToken&&s.refresh_token){const{error:l}=yield n._callRefreshToken(s.refresh_token);l&&(console.error(l),Dp(l)||(n._debug(i,"refresh failed with a non-retryable error, removing the session",l),yield n._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:l,error:c}=yield n._getUser(s.access_token);!c&&l?.user?(s.user=l.user,yield n._saveSession(s),yield n._notifyAllSubscribers("SIGNED_IN",s)):n._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),n._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else yield n._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return n._debug(i,"error",s),void console.error(s)}finally{n._debug(i,"end")}})()}_callRefreshToken(n){var r=this;return m(function*(){var o,i;if(!n)throw new io;if(r.refreshingDeferred)return r.refreshingDeferred.promise;const s=`#_callRefreshToken(${n.substring(0,5)}...)`;r._debug(s,"begin");try{r.refreshingDeferred=new Jc;const{data:a,error:l}=yield r._refreshAccessToken(n);if(l)throw l;if(!a.session)throw new io;yield r._saveSession(a.session),yield r._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return r.refreshingDeferred.resolve(c),c}catch(a){if(r._debug(s,"error",a),Z(a)){const l={data:null,error:a};return Dp(a)||(yield r._removeSession()),null===(o=r.refreshingDeferred)||void 0===o||o.resolve(l),l}throw null===(i=r.refreshingDeferred)||void 0===i||i.reject(a),a}finally{r.refreshingDeferred=null,r._debug(s,"end")}})()}_notifyAllSubscribers(n,r){var o=this;return m(function*(i,s,a=!0){const l=`#_notifyAllSubscribers(${i})`;o._debug(l,"begin",s,`broadcast = ${a}`);try{o.broadcastChannel&&a&&o.broadcastChannel.postMessage({event:i,session:s});const c=[],u=Array.from(o.stateChangeEmitters.values()).map(function(){var d=m(function*(h){try{yield h.callback(i,s)}catch(f){c.push(f)}});return function(h){return d.apply(this,arguments)}}());if(yield Promise.all(u),c.length>0){for(let d=0;d<c.length;d+=1)console.error(c[d]);throw c[0]}}finally{o._debug(l,"end")}}).apply(this,arguments)}_saveSession(n){var r=this;return m(function*(){r._debug("#_saveSession()",n),r.suppressGetSessionWarning=!0;const o=Object.assign({},n);if(r.userStorage){(!o.user||!0!==o.user.__isUserNotAvailableProxy)&&o.user&&(yield qi(r.userStorage,r.storageKey+"-user",{user:o.user}));const s=Object.assign({},o);delete s.user;const a=TD(s);yield qi(r.storage,r.storageKey,a)}else{const s=TD(o);yield qi(r.storage,r.storageKey,s)}})()}_removeSession(){var n=this;return m(function*(){n._debug("#_removeSession()"),yield so(n.storage,n.storageKey),yield so(n.storage,n.storageKey+"-code-verifier"),yield so(n.storage,n.storageKey+"-user"),n.userStorage&&(yield so(n.userStorage,n.storageKey+"-user")),yield n._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&pn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){var n=this;return m(function*(){yield n._stopAutoRefresh(),n._debug("#_startAutoRefresh()");const r=setInterval(()=>n._autoRefreshTokenTick(),Hi);n.autoRefreshTicker=r,r&&"object"==typeof r&&"function"==typeof r.unref?r.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(r),setTimeout(m(function*(){yield n.initializePromise,yield n._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var n=this;return m(function*(){n._debug("#_stopAutoRefresh()");const r=n.autoRefreshTicker;n.autoRefreshTicker=null,r&&clearInterval(r)})()}startAutoRefresh(){var n=this;return m(function*(){n._removeVisibilityChangedCallback(),yield n._startAutoRefresh()})()}stopAutoRefresh(){var n=this;return m(function*(){n._removeVisibilityChangedCallback(),yield n._stopAutoRefresh()})()}_autoRefreshTokenTick(){var n=this;return m(function*(){n._debug("#_autoRefreshTokenTick()","begin");try{yield n._acquireLock(0,m(function*(){try{const r=Date.now();try{return yield n._useSession(function(){var o=m(function*(i){const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at)return void n._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*s.expires_at-r)/Hi);n._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),a<=3&&(yield n._callRefreshToken(s.refresh_token))});return function(i){return o.apply(this,arguments)}}())}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{n._debug("#_autoRefreshTokenTick()","end")}}))}catch(r){if(!(r.isAcquireTimeout||r instanceof ND))throw r;n._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var n=this;return m(function*(){if(n._debug("#_handleVisibilityChange()"),!pn()||!window?.addEventListener)return n.autoRefreshToken&&n.startAutoRefresh(),!1;try{n.visibilityChangedCallback=m(function*(){return yield n._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",n.visibilityChangedCallback),yield n._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}})()}_onVisibilityChanged(n){var r=this;return m(function*(){const o=`#_onVisibilityChanged(${n})`;r._debug(o,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(r.autoRefreshToken&&r._startAutoRefresh(),n||(yield r.initializePromise,yield r._acquireLock(-1,m(function*(){"visible"===document.visibilityState?yield r._recoverAndRefresh():r._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&r.autoRefreshToken&&r._stopAutoRefresh()})()}_getUrlForProvider(n,r,o){var i=this;return m(function*(){const s=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&s.push(`scopes=${encodeURIComponent(o.scopes)}`),"pkce"===i.flowType){const[a,l]=yield Wi(i.storage,i.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(o?.queryParams){const a=new URLSearchParams(o.queryParams);s.push(a.toString())}return o?.skipBrowserRedirect&&s.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${s.join("&")}`})()}_unenroll(n){var r=this;return m(function*(){try{return yield r._useSession(function(){var o=m(function*(i){var s;const{data:a,error:l}=i;return l?{data:null,error:l}:yield de(r.fetch,"DELETE",`${r.url}/factors/${n.factorId}`,{headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token})});return function(i){return o.apply(this,arguments)}}())}catch(o){if(Z(o))return{data:null,error:o};throw o}})()}_enroll(n){var r=this;return m(function*(){try{return yield r._useSession(function(){var o=m(function*(i){var s,a;const{data:l,error:c}=i;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},"phone"===n.factorType?{phone:n.phone}:"totp"===n.factorType?{issuer:n.issuer}:{}),{data:d,error:h}=yield de(r.fetch,"POST",`${r.url}/factors`,{body:u,headers:r.headers,jwt:null===(s=l?.session)||void 0===s?void 0:s.access_token});return h?{data:null,error:h}:("totp"===n.factorType&&"totp"===d.type&&!(null===(a=d?.totp)||void 0===a)&&a.qr_code&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})});return function(i){return o.apply(this,arguments)}}())}catch(o){if(Z(o))return{data:null,error:o};throw o}})()}_verify(n){var r=this;return m(function*(){return r._acquireLock(-1,m(function*(){try{return yield r._useSession(function(){var o=m(function*(i){var s;const{data:a,error:l}=i;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:"create"===n.webauthn.type?rV(n.webauthn.credential_response):oV(n.webauthn.credential_response)})}:{code:n.code}),{data:u,error:d}=yield de(r.fetch,"POST",`${r.url}/factors/${n.factorId}/verify`,{body:c,headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token});return d?{data:null,error:d}:(yield r._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),yield r._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})});return function(i){return o.apply(this,arguments)}}())}catch(o){if(Z(o))return{data:null,error:o};throw o}}))})()}_challenge(n){var r=this;return m(function*(){return r._acquireLock(-1,m(function*(){try{return yield r._useSession(function(){var o=m(function*(i){var s;const{data:a,error:l}=i;if(l)return{data:null,error:l};const c=yield de(r.fetch,"POST",`${r.url}/factors/${n.factorId}/challenge`,{body:n,headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token});if(c.error)return c;const{data:u}=c;if("webauthn"!==u.type)return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:tV(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:nV(u.webauthn.credential_options.publicKey)})})}),error:null}}});return function(i){return o.apply(this,arguments)}}())}catch(o){if(Z(o))return{data:null,error:o};throw o}}))})()}_challengeAndVerify(n){var r=this;return m(function*(){const{data:o,error:i}=yield r._challenge({factorId:n.factorId});return i?{data:null,error:i}:yield r._verify({factorId:n.factorId,challengeId:o.id,code:n.code})})()}_listFactors(){var n=this;return m(function*(){var r;const{data:{user:o},error:i}=yield n.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(r=o?.factors)&&void 0!==r?r:[])s.all.push(a),"verified"===a.status&&s[a.factor_type].push(a);return{data:s,error:null}})()}_getAuthenticatorAssuranceLevel(){var n=this;return m(function*(){return n._acquireLock(-1,m(function*(){return yield n._useSession(function(){var r=m(function*(o){var i,s;const{data:{session:a},error:l}=o;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Sp(a.access_token);let u=null;c.aal&&(u=c.aal);let d=u;return(null!==(s=null===(i=a.user.factors)||void 0===i?void 0:i.filter(p=>"verified"===p.status))&&void 0!==s?s:[]).length>0&&(d="aal2"),{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:c.amr||[]},error:null}});return function(o){return r.apply(this,arguments)}}())}))})()}fetchJwk(n){var r=this;return m(function*(o,i={keys:[]}){let s=i.keys.find(u=>u.kid===o);if(s)return s;const a=Date.now();if(s=r.jwks.keys.find(u=>u.kid===o),s&&r.jwks_cached_at+6e5>a)return s;const{data:l,error:c}=yield de(r.fetch,"GET",`${r.url}/.well-known/jwks.json`,{headers:r.headers});if(c)throw c;return l.keys&&0!==l.keys.length&&(r.jwks=l,r.jwks_cached_at=a,s=l.keys.find(u=>u.kid===o),s)?s:null}).apply(this,arguments)}getClaims(n){var r=this;return m(function*(o,i={}){try{let s=o;if(!s){const{data:y,error:C}=yield r.getSession();if(C||!y.session)return{data:null,error:C};s=y.session.access_token}const{header:a,payload:l,signature:c,raw:{header:u,payload:d}}=Sp(s);i?.allowExpired||function k2(t){if(!t)throw new Error("Missing exp claim");if(t<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(l.exp);const h=a.alg&&!a.alg.startsWith("HS")&&a.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield r.fetchJwk(a.kid,i?.keys?{keys:i.keys}:i?.jwks):null;if(!h){const{error:y}=yield r.getUser(s);if(y)throw y;return{data:{claims:l,header:a,signature:c},error:null}}const f=function N2(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(a.alg),p=yield crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!(yield crypto.subtle.verify(f,p,c,function b2(t){const e=[];return function ID(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=1024*(r-55296)&65535;r=65536+(t.charCodeAt(n+1)-56320&65535|o),n+=1}_2(r,e)}}(t,n=>e.push(n)),new Uint8Array(e)}(`${u}.${d}`))))throw new Ep("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}}).apply(this,arguments)}}return t.nextInstanceID=0,t})();class gV extends pV{constructor(e){super(e)}}class mV{constructor(e,n,r){var o,i,s;this.supabaseUrl=e,this.supabaseKey=n;const a=function l2(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function s2(t){return t.endsWith("/")?t:t+"/"}(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u=function a2(t,e){var n,r;const{db:o,auth:i,realtime:s,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),o),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},null!==(n=d?.headers)&&void 0!==n?n:{}),null!==(r=a?.headers)&&void 0!==r?r:{})}),accessToken:(f=m(function*(){return""}),function(){return f.apply(this,arguments)})};var f;return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}(r??{},{db:e2,realtime:n2,auth:Object.assign(Object.assign({},t2),{storageKey:l}),global:Xj});this.storageKey=null!==(o=u.auth.storageKey)&&void 0!==o?o:"",this.headers=null!==(i=u.global.headers)&&void 0!==i?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=u.auth)&&void 0!==s?s:{},this.headers,u.global.fetch),this.fetch=i2(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new lD(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Qj(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new oj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e=this;return m(function*(){var n,r;if(e.accessToken)return yield e.accessToken();const{data:o}=yield e.auth.getSession();return null!==(r=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:e.supabaseKey})()}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:l,debug:c},u,d){return new gV({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),u),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>"authorization"===f.toLowerCase())})}_initRealtimeClient(e){return new Ij(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==n&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}}(function vV(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(null==t)return!1;const e=t.match(/^v(\d+)\./);return!!e&&parseInt(e[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $D_supabase_url="https://hpqwzclyjrfivcmkzwpo.supabase.co",$D_supabase_anonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhwcXd6Y2x5anJmaXZjbWt6d3BvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2ODMzMjUsImV4cCI6MjA3NjI1OTMyNX0.pN-NPncmQCJoiBlYnFk77bAdxXEu5NAn3Fi8bk_c4wI";let Qi=(()=>{const e=class{constructor(){this.currentUserSubject=new An(null),this.currentUser$=this.currentUserSubject.asObservable(),this.isInitialized=!1,this.initializeClient()}initializeClient(){var r=this;return m(function*(){try{r.supabase=((t,e,n)=>new mV(t,e,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}))($D_supabase_url,$D_supabase_anonKey),r.isInitialized=!0,yield r.checkExistingSession()}catch(o){console.error("Error initializing Supabase client:",o)}})()}checkExistingSession(){var r=this;return m(function*(){const o=localStorage.getItem("currentUser");if(o)try{const i=JSON.parse(o);r.currentUserSubject.next(i)}catch(i){console.error("Error parsing saved user:",i),localStorage.removeItem("currentUser")}})()}signInFallback(r,o){var i=this;return m(function*(){try{const a=[{id:"1",username:"test",password:"test",role:"user",created_at:(new Date).toISOString()},{id:"2",username:"admin",password:"admin",role:"admin",created_at:(new Date).toISOString()}].find(l=>l.username===r&&l.password===o);return a?(localStorage.setItem("currentUser",JSON.stringify(a)),i.currentUserSubject.next(a),{user:a,error:null}):{user:null,error:"Invalid username or password"}}catch(s){return console.error("Fallback sign in error:",s),{user:null,error:"Sign in failed. Please try again."}}})()}signIn(r,o){var i=this;return m(function*(){try{i.isInitialized||(yield new Promise(l=>{const c=()=>{i.isInitialized?l(void 0):setTimeout(c,50)};c()})),yield new Promise(l=>setTimeout(l,100));const{data:s,error:a}=yield i.supabase.from("profiles").select("*").eq("username",r).eq("password",o).single();return a?(console.error("Database query error:",a),console.log("Trying fallback authentication..."),yield i.signInFallback(r,o)):s?(localStorage.setItem("currentUser",JSON.stringify(s)),i.currentUserSubject.next(s),{user:s,error:null}):{user:null,error:"User not found"}}catch(s){if(console.error("Sign in error:",s),s&&"object"==typeof s&&"message"in s){const a=s.message;if(a.includes("NavigatorLockAcquireTimeoutError")||a.includes("lock"))return console.log("Lock error detected, using fallback authentication..."),yield i.signInFallback(r,o)}return console.log("Error occurred, trying fallback authentication..."),yield i.signInFallback(r,o)}})()}signOut(){localStorage.removeItem("currentUser"),this.currentUserSubject.next(null)}getCurrentUser(){return this.currentUserSubject.value}isSignedIn(){return null!==this.currentUserSubject.value}getUserCards(r,o){var i=this;return m(function*(){try{const s=parseInt(r);if(isNaN(s))return{cards:[],error:"Invalid user ID format"};const a=1e3;let l=0,c=[],u=!0;for(;u;){const{data:d,error:h}=yield i.supabase.from("user_cards").select("*").eq("user_id",s).range(l,l+a-1);if(h)return{cards:[],error:h.message};d&&d.length>0?(c=c.concat(d),l+=a,u=d.length===a,o&&o(c.length)):u=!1}return{cards:c,error:null}}catch(s){return console.error("Error fetching user cards:",s),{cards:[],error:"Failed to fetch user cards"}}})()}updateCardQuantity(r,o,i){var s=this;return m(function*(){try{const a=parseInt(r);if(isNaN(a))return{success:!1,error:"Invalid user ID format"};if(i<=0){const{error:l}=yield s.supabase.from("user_cards").delete().eq("user_id",a).eq("card_def_key",o);if(l)return{success:!1,error:l.message}}else{const{data:l,error:c}=yield s.supabase.from("user_cards").select("*").eq("user_id",a).eq("card_def_key",o).maybeSingle();if(c)return console.error("Error checking existing card:",c),{success:!1,error:c.message};if(l){const{error:u}=yield s.supabase.from("user_cards").update({quantity:i}).eq("user_id",a).eq("card_def_key",o);if(u)return{success:!1,error:u.message}}else{const{error:u}=yield s.supabase.from("user_cards").insert({user_id:a,card_def_key:o,quantity:i});if(u)return{success:!1,error:u.message}}}return{success:!0,error:null}}catch(a){return console.error("Error updating card quantity:",a),{success:!1,error:"Failed to update card quantity"}}})()}getCardQuantity(r,o){var i=this;return m(function*(){try{const{data:s,error:a}=yield i.supabase.from("user_cards").select("quantity").eq("user_id",r).eq("card_def_key",o).single();return a||!s?0:s.quantity||0}catch(s){return console.error("Error fetching card quantity:",s),0}})()}syncUserCollection(r,o){var i=this;return m(function*(){try{const{cards:s,error:a}=yield i.getUserCards(r,o);if(a)return console.error("Error syncing user collection:",a),{};const l={};return s.forEach(c=>{l[c.card_def_key]=c.quantity}),l}catch(s){return console.error("Error syncing user collection:",s),{}}})()}bulkReplaceUserCollection(r,o){var i=this;return m(function*(){try{const s=parseInt(r);if(isNaN(s))return{success:!1,error:"Invalid user ID format"};const{error:a}=yield i.supabase.from("user_cards").delete().eq("user_id",s);if(a)return console.error("Error deleting existing cards:",a),{success:!1,error:a.message};const l=Object.entries(o).filter(([c,u])=>u>0).map(([c,u])=>({user_id:s,card_def_key:c,quantity:u}));if(l.length>0){const{error:c}=yield i.supabase.from("user_cards").insert(l);if(c)return console.error("Error inserting new cards:",c),{success:!1,error:c.message};console.log(`\u2705 Bulk sync completed: ${l.length} cards inserted`)}else console.log("\u2705 Bulk sync completed: No cards to insert (collection is empty)");return{success:!0,error:null}}catch(s){return console.error("Error in bulk replace user collection:",s),{success:!1,error:"Failed to bulk replace user collection"}}})()}};let t=e;return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),BD=(()=>{const e=class{constructor(){this.rarityMap=new Map([["C",{code:"C",symbol:"\u25ca",name:"Common",displayName:"\u25ca - Common",order:1}],["U",{code:"U",symbol:"\u25ca\u25ca",name:"Uncommon",displayName:"\u25ca\u25ca - Uncommon",order:2}],["R",{code:"R",symbol:"\u25ca\u25ca\u25ca",name:"Rare",displayName:"\u25ca\u25ca\u25ca - Rare",order:3}],["RR",{code:"RR",symbol:"\u25ca\u25ca\u25ca\u25ca",name:"Double Rare",displayName:"\u25ca\u25ca\u25ca\u25ca - Double Rare",order:4}],["AR",{code:"AR",symbol:"\u2606",name:"Art Rare",displayName:"\u2606 - Art Rare",order:5}],["SR",{code:"SR",symbol:"\u2606\u2606",name:"Super Rare",displayName:"\u2606\u2606 - Super Rare /Special Art Rare",order:6}],["SAR",{code:"SAR",symbol:"\u2606\u2606",name:"Super Rare",displayName:"\u2606\u2606 - Super Rare /Special Art Rare",order:6}],["IM",{code:"IM",symbol:"\u2606\u2606\u2606",name:"Immersive Rare",displayName:"\u2606\u2606\u2606 - Immersive Rare",order:7}],["UR",{code:"UR",symbol:"\u{1f451}",name:"Ultimate Rare",displayName:"\u{1f451} - Ultimate Rare",order:8}],["CR",{code:"CR",symbol:"\u{1f451}",name:"Crown Rare",displayName:"\u{1f451} - Crown Rare",order:8}],["S",{code:"S",symbol:"\u2735",name:"Shiny",displayName:"\u2735 - Shiny",order:9}],["SSR",{code:"SSR",symbol:"\u2735\u2735",name:"Shiny Super Rare",displayName:"\u2735\u2735 - Shiny Super Rare",order:10}],["Common",{code:"C",symbol:"\u25ca",name:"Common",displayName:"\u25ca - Common",order:1}],["Uncommon",{code:"U",symbol:"\u25ca\u25ca",name:"Uncommon",displayName:"\u25ca\u25ca - Uncommon",order:2}],["Rare",{code:"R",symbol:"\u25ca\u25ca\u25ca",name:"Rare",displayName:"\u25ca\u25ca\u25ca - Rare",order:3}],["Double Rare",{code:"RR",symbol:"\u25ca\u25ca\u25ca\u25ca",name:"Double Rare",displayName:"\u25ca\u25ca\u25ca\u25ca - Double Rare",order:4}],["Art Rare",{code:"AR",symbol:"\u2606",name:"Art Rare",displayName:"\u2606 - Art Rare",order:5}],["Super Rare",{code:"SR",symbol:"\u2606\u2606",name:"Super Rare",displayName:"\u2606\u2606 - Super Rare /Special Art Rare",order:6}],["Special Art Rare",{code:"SAR",symbol:"\u2606\u2606",name:"Super Rare",displayName:"\u2606\u2606 - Super Rare /Special Art Rare",order:6}],["Immersive Rare",{code:"IM",symbol:"\u2606\u2606\u2606",name:"Immersive Rare",displayName:"\u2606\u2606\u2606 - Immersive Rare",order:7}],["Ultimate Rare",{code:"UR",symbol:"\u{1f451}",name:"Ultimate Rare",displayName:"\u{1f451} - Ultimate Rare",order:8}],["Crown Rare",{code:"CR",symbol:"\u{1f451}",name:"Crown Rare",displayName:"\u{1f451} - Crown Rare",order:8}],["Shiny",{code:"S",symbol:"\u2735",name:"Shiny",displayName:"\u2735 - Shiny",order:9}],["Shiny Super Rare",{code:"SSR",symbol:"\u2735\u2735",name:"Shiny Super Rare",displayName:"\u2735\u2735 - Shiny Super Rare",order:10}]])}getRarityInfo(r){return this.rarityMap.get(r)}getDisplayName(r){const o=this.getRarityInfo(r);return o?o.displayName:r}getSymbol(r){const o=this.getRarityInfo(r);return o?o.symbol:r}getAllRarities(){return Array.from(this.rarityMap.values()).filter(r=>!r.code.includes(" ")).sort((r,o)=>r.order-o.order)}getRarityOrder(r){const o=this.getRarityInfo(r);return o?o.order:999}sortRarities(r){return r.sort((o,i)=>this.getRarityOrder(o)-this.getRarityOrder(i))}isRare(r){return["IM","UR","SSR"].includes(r)}isSuperRare(r){return["SR","SAR","IM","UR","SSR"].includes(r)}getNormalizedCode(r){const o=this.getRarityInfo(r);return o?"SAR"===o.code||"Special Art Rare"===r?"SR":o.code:r}getStandardizedDisplayName(r){const o=this.getNormalizedCode(r),i=this.getRarityInfo(o);return i?i.displayName:r}getUnifiedRarities(){return this.getAllRarities().filter(o=>"SAR"!==o.code)}groupCardsByNormalizedRarity(r){const o=new Map;return r.forEach(i=>{if(!i.rarityCode)return;const s=this.getNormalizedCode(i.rarityCode);o.has(s)||o.set(s,[]),o.get(s).push(i)}),o}};let t=e;return e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function _V(t,e){if(1&t&&(E(0,"div",4),x(1),b()),2&t){const n=Ce();V(1),Qe(" ",n.error," ")}}function CV(t,e){1&t&&(E(0,"div",5)(1,"h2"),x(2,"Loading your collection..."),b(),jn(3,"div",6),b())}function bV(t,e){1&t&&(E(0,"span",27),x(1,"\u{1f3c6} TOP PICK"),b())}function wV(t,e){if(1&t&&(E(0,"div",19)(1,"div",20)(2,"span",21),x(3),b(),Ee(4,bV,2,0,"span",22),E(5,"strong"),x(6),b()(),E(7,"div",23)(8,"span",24),x(9),b(),E(10,"span",25),x(11),b(),E(12,"span",26),x(13),b()()()),2&t){const n=e.$implicit,r=e.index;Ir("top-pick",0===r),V(3),Qe("#",r+1,""),V(1),Y("ngIf",0===r),V(2),ur(n.packName),V(3),Qe("",n.missingCards," missing cards"),V(2),Qe("",n.completionPercentage,"% complete"),V(2),xr("(",n.ownedCards,"/",n.totalCards,")")}}function DV(t,e){if(1&t){const n=zr();E(0,"div",11)(1,"details",12)(2,"summary"),x(3,"\u{1f381} Pack Opening Suggestions"),b(),E(4,"div",13)(5,"label",14)(6,"input",15),ie("ngModelChange",function(o){return Zt(n),Xt(Ce(2).excludeDeluxePack=o)})("ngModelChange",function(){return Zt(n),Xt(Ce(2).calculatePackSuggestions())}),b(),x(7," Exclude A4B - DELUXE PACK "),b()(),E(8,"p",16),x(9,"Optimized recommendations based on your missing cards"),b(),E(10,"div",17),Ee(11,wV,14,9,"div",18),b()()()}if(2&t){const n=Ce(2);V(6),Y("ngModel",n.excludeDeluxePack),V(5),Y("ngForOf",n.packSuggestions)}}function EV(t,e){if(1&t&&(E(0,"div",41)(1,"span",42),x(2),b(),E(3,"div",43)(4,"div",44),jn(5,"div",45),b(),E(6,"span",46),x(7),b()()()),2&t){const n=e.$implicit;Y("ngClass","rarity-"+n.code),Mn("title",n.name+": "+n.owned+"/"+n.total+" ("+n.percentage+"%)"),V(2),ur(n.name),V(3),Ps("width",n.percentage,"%"),V(2),xr("",n.owned,"/",n.total,"")}}function SV(t,e){if(1&t&&(E(0,"div",38)(1,"h5"),x(2,"Rarity Progress:"),b(),E(3,"div",39),Ee(4,EV,8,7,"div",40),b()()),2&t){const n=Ce().$implicit;V(4),Y("ngForOf",n.rarityBreakdown)}}function MV(t,e){if(1&t&&(E(0,"div",31)(1,"div",32)(2,"h4"),x(3),b(),E(4,"span",33),x(5),b()(),E(6,"div",34),jn(7,"div",35),b(),E(8,"p",36),x(9),b(),Ee(10,SV,5,1,"div",37),b()),2&t){const n=e.$implicit;V(3),xr("[",n.code,"] - ",n.name,""),V(2),Qe("",n.percentage,"%"),V(2),Ps("width",n.percentage,"%"),V(2),xr("",n.owned,"/",n.total," cards"),V(1),Y("ngIf",n.rarityBreakdown&&n.rarityBreakdown.length>0)}}function IV(t,e){if(1&t&&(E(0,"div",28)(1,"details",12)(2,"summary"),x(3,"\u{1f4e6} Set Completion Progress"),b(),E(4,"div",29),Ee(5,MV,11,8,"div",30),b()()()),2&t){const n=Ce(2);V(5),Y("ngForOf",n.setProgress)}}function xV(t,e){if(1&t&&(E(0,"div",50)(1,"div",51)(2,"h4"),x(3),b(),E(4,"span",52),x(5),b()(),E(6,"div",53)(7,"div",54),jn(8,"div",55),b(),E(9,"span",56),x(10),b()()()),2&t){const n=e.$implicit;Y("ngClass","rarity-"+n.code),Mn("title",n.name+": "+n.owned+"/"+n.total+" ("+n.percentage+"%)"),V(3),ur(n.name),V(2),xr("",n.owned,"/",n.total,""),V(3),Ps("width",n.percentage,"%"),V(2),Qe("",n.percentage,"%")}}function AV(t,e){if(1&t&&(E(0,"div",47)(1,"details",12)(2,"summary"),x(3,"\u2b50 Collection by Rarity"),b(),E(4,"div",48),Ee(5,xV,11,8,"div",49),b()()()),2&t){const n=Ce(2);V(5),Y("ngForOf",n.userRarityStats)}}function TV(t,e){if(1&t&&(E(0,"div",7),Ee(1,DV,12,2,"div",8),Ee(2,IV,6,1,"div",9),Ee(3,AV,6,1,"div",10),b()),2&t){const n=Ce();V(1),Y("ngIf",n.packSuggestions.length>0),V(1),Y("ngIf",n.setProgress.length>0),V(1),Y("ngIf",n.rarityStats.length>0)}}let OV=(()=>{const e=class{constructor(r,o,i,s){this.dataManager=r,this.supabaseService=o,this.router=i,this.rarityService=s,this.title="Pokemon TCG Pocket Collector",this.cards=[],this.sets=[],this.rarityStats=[],this.packStats=[],this.loading=!1,this.error=null,this.dataLoaded=!1,this.userCollectionLoaded=!1,this.userCards=[],this.userStats={totalOwned:0,uniqueCards:0,completionPercentage:0,rareCards:0,recentSetsOwned:0,missingCommons:0,missingRares:0},this.setProgress=[],this.userRarityStats=[],this.recentCards=[],this.nearestCompleteSet=null,this.packSuggestions=[],this.excludeDeluxePack=!0}ngOnInit(){this.supabaseService.isSignedIn()?this.loadAllData():this.router.navigate(["/signin"])}loadCards(){this.loading=!0,this.error=null,this.dataManager.initializeCardData().subscribe({next:r=>{this.cards=r,this.loading=!1},error:r=>{this.error="Failed to load cards data",this.loading=!1,console.error("Error loading cards:",r)}})}loadAllData(){this.loading=!0,this.error=null,this.dataManager.loadAllPokemonData().subscribe({next:r=>{this.cards=r.cards,this.sets=r.sets,this.dataLoaded=!0,this.loading=!1,this.loadStats(),this.loadUserCollection()},error:r=>{this.error="Failed to load Pokemon data",this.loading=!1,console.error("Error loading data:",r)}})}loadStats(){this.dataManager.getRarityStats().subscribe({next:r=>{this.rarityStats=r},error:r=>console.error("Error loading rarity stats:",r)}),this.dataManager.getPackStats().subscribe({next:r=>{this.packStats=r.slice(0,10)},error:r=>console.error("Error loading pack stats:",r)})}downloadCardsFile(){this.dataManager.downloadCardsFile()}getStorageInstructions(){const r=this.dataManager.getStorageInstructions();alert(r)}showComprehensiveStats(){this.dataManager.getComprehensiveStats().subscribe({next:r=>{alert(`Comprehensive Statistics loaded!\n\nSummary:\n- ${r.totalCards} total cards\n- ${r.totalSets} sets\n- ${r.totalRarities} rarity types\n- Date range: ${r.dateRange.earliest} to ${r.dateRange.latest}`)},error:r=>{console.error("Error loading comprehensive stats:",r),alert("Failed to load comprehensive statistics")}})}loadUserCollection(){var r=this;return m(function*(){const o=yield r.supabaseService.getCurrentUser();if(o)try{const i=yield r.supabaseService.syncUserCollection(o.id);r.userCards=Object.entries(i).map(([s,a])=>({card_def_key:s,quantity:a})),r.userCollectionLoaded=!0,r.calculateUserStats(),r.calculateSetProgress(),r.calculateUserRarityStats(),r.loadRecentCards(),r.calculatePackSuggestions()}catch(i){console.error("Error loading user collection:",i)}})()}getCardId(r){return`${r.set}-${r.number}`}calculateUserStats(){if(!this.userCards||!this.cards.length)return;const r=new Map;let o=0;this.userCards.forEach(f=>{r.set(f.card_def_key,f.quantity),o+=f.quantity});const i=this.userCards.length,s=Math.round(i/this.cards.length*100),a=this.userCards.filter(f=>{const p=this.cards.find(y=>this.getCardId(y)===f.card_def_key);if(!p||!p.rarityCode)return!1;const g=this.rarityService.getNormalizedCode(p.rarityCode);return this.rarityService.isSuperRare(g)}).length,l=this.sets.slice(-3).map(f=>f.code),c=this.userCards.filter(f=>{const p=this.cards.find(g=>this.getCardId(g)===f.card_def_key);return p&&l.includes(p.set)}).length,u=this.cards.filter(f=>!r.has(this.getCardId(f))),d=u.filter(f=>!!f.rarityCode&&"C"===this.rarityService.getNormalizedCode(f.rarityCode)).length,h=u.filter(f=>{if(!f.rarityCode)return!1;const p=this.rarityService.getNormalizedCode(f.rarityCode);return this.rarityService.isSuperRare(p)}).length;this.userStats={totalOwned:o,uniqueCards:i,completionPercentage:s,rareCards:a,recentSetsOwned:c,missingCommons:d,missingRares:h}}calculateSetProgress(){if(!this.userCards||!this.sets.length||!this.cards.length)return;const r=new Map;this.userCards.forEach(o=>{r.set(o.card_def_key,!0)}),this.setProgress=this.sets.map(o=>{const i=this.cards.filter(c=>c.set===o.code),s=i.filter(c=>r.has(this.getCardId(c))),a=i.length>0?Math.round(s.length/i.length*100):0,l=this.calculateSetRarityBreakdown(i,r);return{name:o.label?.en||o.code,code:o.code,owned:s.length,total:i.length,percentage:a,rarityBreakdown:l}}).sort((o,i)=>o.code.localeCompare(i.code)),this.nearestCompleteSet=this.setProgress.find(o=>o.percentage<100)||this.setProgress[0]}calculateSetRarityBreakdown(r,o){const i=this.rarityService.groupCardsByNormalizedRarity(r),s=[];return i.forEach((a,l)=>{const c=a.filter(h=>o.has(this.getCardId(h))),u=a.length>0?Math.round(c.length/a.length*100):0,d=this.rarityService.getStandardizedDisplayName(l);s.push({name:d,code:l,owned:c.length,total:a.length,percentage:u})}),s.sort((a,l)=>this.rarityService.getRarityOrder(a.code)-this.rarityService.getRarityOrder(l.code))}calculateUserRarityStats(){if(!this.userCards||!this.cards.length)return;const r=new Map;this.userCards.forEach(i=>{r.set(i.card_def_key,!0)});const o=this.rarityService.groupCardsByNormalizedRarity(this.cards);this.userRarityStats=[],o.forEach((i,s)=>{const a=i.filter(u=>r.has(this.getCardId(u))),l=i.length>0?Math.round(a.length/i.length*100):0,c=this.rarityService.getStandardizedDisplayName(s);this.userRarityStats.push({name:c,code:s,owned:a.length,total:i.length,percentage:l})}),this.userRarityStats.sort((i,s)=>this.rarityService.getRarityOrder(i.code)-this.rarityService.getRarityOrder(s.code))}loadRecentCards(){!this.userCards||!this.cards.length||(this.recentCards=this.userCards.slice(0,6).map(r=>({...this.cards.find(i=>this.getCardId(i)===r.card_def_key),quantity:r.quantity})).filter(r=>r))}calculatePackSuggestions(){if(!this.userCards||!this.cards.length)return;const r=new Map;this.userCards.forEach(s=>{r.set(s.card_def_key,!0)});const o=new Set;this.cards.forEach(s=>{s.packs&&s.packs.length>0&&s.packs.forEach(a=>{this.excludeDeluxePack&&this.isDeluxeA4B(a)||o.add(a)})}),console.log(o);const i=Array.from(o).map(s=>{const a=this.cards.filter(d=>d.packs&&d.packs.includes(s)),l=a.filter(d=>!r.has(this.getCardId(d))),c=new Map;l.forEach(d=>{const f=this.rarityService.getNormalizedCode(d.rarityCode||"Unknown"),p=c.get(f)||0;c.set(f,p+1)});let u=0;return c.forEach((d,h)=>{const f=this.rarityService.getRarityOrder(h),p=Math.max(1,10-f);u+=d*p}),{packName:s,totalCards:a.length,missingCards:l.length,ownedCards:a.length-l.length,completionPercentage:a.length>0?Math.round((a.length-l.length)/a.length*100):100,rarityBreakdown:Array.from(c.entries()).map(([d,h])=>({code:d,count:h,displayName:this.rarityService.getDisplayName(d),symbol:this.rarityService.getSymbol(d)})).sort((d,h)=>this.rarityService.getRarityOrder(d.code)-this.rarityService.getRarityOrder(h.code)),score:u,missingCardsList:l.slice(0,5)}});this.packSuggestions=i.filter(s=>s.missingCards>0).sort((s,a)=>a.score-s.score).slice(0,5)}isDeluxeA4B(r){return!!r&&r.toUpperCase().replace(/[\u2012\u2013\u2014\u2015\-]/g,"-").replace(/\s+/g," ").trim().includes("DELUXE")}exportCollection(){if(!this.userCollectionLoaded)return void alert("Collection not loaded yet. Please wait...");const r=this.generateCollectionCSV(),o=new Blob(["\ufeff"+r],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),s=URL.createObjectURL(o);i.setAttribute("href",s),i.setAttribute("download","pokemon_collection.csv"),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}generateCollectionCSV(){const o=[["Card Name","Set","Number","Rarity","Quantity"].join(",")];return this.userCards.forEach(i=>{const s=this.cards.find(a=>this.getCardId(a)===i.card_def_key);if(s){const a=[`"${s.label?.eng||s.name||""}"`,`"${s.set||""}"`,`"${s.number||""}"`,`"${s.rarity||""}"`,i.quantity.toString()];o.push(a.join(","))}}),o.join("\n")}signOut(){this.supabaseService.signOut(),this.router.navigate(["/signin"])}};let t=e;return e.\u0275fac=function(o){return new(o||e)(T(oD),T(Qi),T(Ct),T(BD))},e.\u0275cmp=$r({type:e,selectors:[["app-dashboard"]],decls:4,vars:3,consts:[[1,"container"],["class","error",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"error"],[1,"loading-state"],[1,"loading-spinner"],[1,"dashboard-content"],["class","pack-suggestions",4,"ngIf"],["class","set-progress",4,"ngIf"],["class","rarity-breakdown",4,"ngIf"],[1,"pack-suggestions"],["open",""],[1,"suggestion-controls",2,"margin","8px 0 16px","display","flex","align-items","center","gap","12px"],[2,"display","inline-flex","align-items","center","gap","8px","cursor","pointer"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"suggestion-subtitle"],[1,"suggestions-list"],["class","suggestion-item",3,"top-pick",4,"ngFor","ngForOf"],[1,"suggestion-item"],[1,"suggestion-header"],[1,"rank-number"],["class","top-pick-badge",4,"ngIf"],[1,"suggestion-summary"],[1,"missing-count"],[1,"completion-rate"],[1,"progress-count"],[1,"top-pick-badge"],[1,"set-progress"],[1,"progress-list"],["class","progress-item",4,"ngFor","ngForOf"],[1,"progress-item"],[1,"progress-header"],[1,"progress-percentage"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-details"],["class","set-rarity-breakdown",4,"ngIf"],[1,"set-rarity-breakdown"],[1,"set-rarity-grid"],["class","set-rarity-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"set-rarity-item",3,"ngClass"],[1,"rarity-name"],[1,"rarity-mini-progress"],[1,"rarity-mini-bar"],[1,"rarity-mini-fill"],[1,"rarity-mini-text"],[1,"rarity-breakdown"],[1,"rarity-grid"],["class","rarity-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"rarity-card",3,"ngClass"],[1,"rarity-header"],[1,"rarity-count"],[1,"rarity-progress"],[1,"rarity-bar"],[1,"rarity-fill"],[1,"percentage"]],template:function(o,i){1&o&&(E(0,"div",0),Ee(1,_V,2,1,"div",1),Ee(2,CV,4,0,"div",2),Ee(3,TV,4,3,"div",3),b()),2&o&&(V(1),Y("ngIf",i.error),V(1),Y("ngIf",i.loading),V(1),Y("ngIf",!i.loading))},dependencies:[HC,jh,Ei,sf,Qs,Ai],styles:['.container[_ngcontent-%COMP%]{position:relative;max-width:1280px;margin:30px auto 0;min-height:100vh;color:var(--text);background:var(--dashboard-bg);overflow:hidden;border-radius:28px;box-shadow:0 30px 80px #070c1899}.container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:1}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{color:var(--text);margin-bottom:12px;font-weight:600}.dashboard-content[_ngcontent-%COMP%]{display:grid;gap:32px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}.stat-card[_ngcontent-%COMP%]{background:var(--surface-strong);border:1px solid rgba(91,168,255,.22);border-radius:20px;padding:22px;display:flex;flex-direction:column;gap:12px;box-shadow:0 16px 32px #0c142447;transition:transform .16s ease,border-color .16s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);border-color:#5ba8ff73}.stat-card.highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(91,168,255,.25),rgba(34,46,70,.85))}.stat-icon[_ngcontent-%COMP%]{font-size:2rem}.stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.95rem;color:var(--text-muted);letter-spacing:.02em}.stat-number[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0}.stat-detail[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.85rem}.error[_ngcontent-%COMP%]{background:rgba(255,107,107,.12);color:var(--danger);border:1px solid rgba(255,107,107,.35);padding:18px 22px;border-radius:14px;text-align:center;font-weight:500}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:80px 0;color:var(--text)}.loading-spinner[_ngcontent-%COMP%]{width:48px;height:48px;margin:24px auto;border-radius:50%;border:4px solid rgba(91,168,255,.2);border-top-color:var(--accent);animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.pack-suggestions[_ngcontent-%COMP%], .set-progress[_ngcontent-%COMP%], .rarity-breakdown[_ngcontent-%COMP%]{background:var(--surface);border:1px solid var(--border);border-radius:20px;padding:clamp(20px,2.4vw,28px);box-shadow:0 18px 36px #070c1859;transition:transform .16s ease,box-shadow .16s ease,border-color .18s ease}.pack-suggestions[_ngcontent-%COMP%]:hover, .set-progress[_ngcontent-%COMP%]:hover, .rarity-breakdown[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 24px 48px #0c162973;border-color:#5ba8ff8c}.pack-suggestions[_ngcontent-%COMP%]   details[_ngcontent-%COMP%], .set-progress[_ngcontent-%COMP%]   details[_ngcontent-%COMP%], .rarity-breakdown[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]{width:100%}.pack-suggestions[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%], .set-progress[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%], .rarity-breakdown[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;list-style:none;cursor:pointer;font-size:clamp(1.25rem,2vw,1.55rem);font-weight:700;color:var(--text);padding-bottom:18px;border-bottom:1px solid rgba(255,255,255,.08);margin-bottom:22px}.pack-suggestions[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:before, .set-progress[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:before, .rarity-breakdown[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:before{content:"";width:11px;height:11px;border-radius:50%;background:var(--accent);box-shadow:0 0 18px #5ba8ffa6}.pack-suggestions[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]::-webkit-details-marker, .set-progress[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]::-webkit-details-marker, .rarity-breakdown[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]::-webkit-details-marker{display:none}.pack-suggestions[_ngcontent-%COMP%]   details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:before, .set-progress[_ngcontent-%COMP%]   details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:before, .rarity-breakdown[_ngcontent-%COMP%]   details[open][_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:before{background:var(--accent-strong)}.suggestion-subtitle[_ngcontent-%COMP%]{color:var(--text-muted);margin-bottom:18px;font-size:.95rem;font-style:italic}.suggestions-list[_ngcontent-%COMP%]{display:grid;gap:14px}.suggestion-item[_ngcontent-%COMP%]{background:var(--surface-strong);border-radius:18px;padding:18px 20px;border:1px solid rgba(91,168,255,.2);transition:transform .16s ease,border-color .16s ease,box-shadow .16s ease}.suggestion-item[_ngcontent-%COMP%]:hover{transform:translateY(-3px);border-color:#5ba8ff8c;box-shadow:0 14px 28px #101c3459}.suggestion-item.top-pick[_ngcontent-%COMP%]{border:1px solid rgba(241,196,15,.65);background:linear-gradient(120deg,rgba(241,196,15,.22),rgba(44,62,80,.45))}.suggestion-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px}.rank-number[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:32px;padding:4px 10px;border-radius:999px;background:rgba(91,168,255,.2);color:var(--accent);font-weight:600}.top-pick-badge[_ngcontent-%COMP%]{font-size:.72rem;letter-spacing:.12em;text-transform:uppercase;padding:4px 10px;border-radius:999px;background:rgba(241,196,15,.16);color:var(--warning)}.suggestion-summary[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:14px;color:var(--text-muted);font-size:.92rem}.missing-count[_ngcontent-%COMP%]{color:var(--danger);font-weight:600}.completion-rate[_ngcontent-%COMP%]{color:var(--success);font-weight:600}.progress-count[_ngcontent-%COMP%]{color:var(--accent);font-weight:600}.progress-list[_ngcontent-%COMP%]{display:grid;gap:18px}.progress-item[_ngcontent-%COMP%]{background:var(--surface-strong);border-radius:20px;padding:20px 22px;border:1px solid rgba(91,168,255,.18);transition:transform .16s ease,border-color .16s ease}.progress-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);border-color:#5ba8ff66}.progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.progress-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.05rem;color:var(--text)}.progress-percentage[_ngcontent-%COMP%]{color:var(--success);font-weight:700}.progress-bar[_ngcontent-%COMP%]{background:rgba(91,168,255,.14);border-radius:999px;height:10px;overflow:hidden;margin-bottom:10px}.progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:999px;background:linear-gradient(90deg,var(--accent),var(--accent-strong));transition:width .22s ease-in-out}.progress-details[_ngcontent-%COMP%]{color:var(--text-muted);margin:0;font-size:.92rem}.set-rarity-breakdown[_ngcontent-%COMP%]{margin-top:18px}.set-rarity-breakdown[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:12px;color:var(--text-muted);font-weight:600;letter-spacing:.02em}.set-rarity-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px}.set-rarity-item[_ngcontent-%COMP%]{background:rgba(13,19,33,.7);border:1px solid rgba(91,168,255,.14);border-radius:16px;padding:12px 14px;text-align:center;box-shadow:inset 0 1px #ffffff0a,0 6px 14px #080c1659;display:flex;flex-direction:column;min-height:96px}.rarity-name[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-size:.8rem;font-weight:600;color:var(--text)}.rarity-mini-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:auto}.rarity-mini-bar[_ngcontent-%COMP%]{flex:1;height:8px;border-radius:999px;background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(91,168,255,.12));border:1px solid rgba(91,168,255,.22);overflow:hidden;position:relative}.rarity-mini-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--rarity-start, var(--accent)) 0%,var(--rarity-end, var(--accent-strong)) 100%);border-radius:999px;box-shadow:0 0 8px var(--rarity-glow, rgba(76, 138, 255, .6));transition:width .26s ease}.rarity-mini-text[_ngcontent-%COMP%]{font-size:.72rem;color:var(--text);background:rgba(255,255,255,.06);border:1px solid rgba(91,168,255,.18);padding:2px 8px;border-radius:999px;font-weight:600;letter-spacing:.01em;font-variant-numeric:tabular-nums}.rarity-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}.rarity-card[_ngcontent-%COMP%]{background:var(--surface-strong);border:1px solid rgba(91,168,255,.18);border-radius:18px;padding:20px;display:flex;flex-direction:column;gap:14px;min-height:140px;transition:transform .16s ease,border-color .16s ease}.rarity-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);border-color:#5ba8ff66}.rarity-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.rarity-count[_ngcontent-%COMP%]{font-weight:700;color:var(--accent)}.rarity-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-top:auto}.rarity-bar[_ngcontent-%COMP%]{flex:1;height:10px;border-radius:999px;background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(91,168,255,.12));border:1px solid rgba(91,168,255,.22);overflow:hidden}.rarity-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--rarity-start, var(--accent)) 0%,var(--rarity-end, var(--accent-strong)) 100%);border-radius:999px;box-shadow:0 0 10px var(--rarity-glow, rgba(76, 138, 255, .65));transition:width .26s ease-in-out}.percentage[_ngcontent-%COMP%]{min-width:48px;text-align:right;font-weight:700;color:var(--success);background:rgba(46,204,113,.1);border:1px solid rgba(46,204,113,.25);padding:2px 8px;border-radius:999px}@media (max-width: 768px){.suggestion-summary[_ngcontent-%COMP%], .progress-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.rarity-grid[_ngcontent-%COMP%], .set-rarity-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.rank-number[_ngcontent-%COMP%]{min-width:28px}}']}),t})(),PV=(()=>{const e=class{constructor(r){this.http=r,this.BASE_IMAGE_URL="https://raw.githubusercontent.com/flibustier/pokemon-tcg-exchange/main/public/images/cards",this.imageCache=new Map}getCardImageUrl(r){return`${this.BASE_IMAGE_URL}/${r}`}checkImageExists(r){if(this.imageCache.has(r))return J(this.imageCache.get(r));const o=this.getCardImageUrl(r);return this.http.head(o,{observe:"response"}).pipe(O(i=>{const s=200===i.status;return this.imageCache.set(r,s),s}),Gn(()=>(this.imageCache.set(r,!1),J(!1))))}preloadImage(r){return new Promise(o=>{const i=new Image;i.onload=()=>{this.imageCache.set(r,!0),o(!0)},i.onerror=()=>{this.imageCache.set(r,!1),o(!1)},i.src=this.getCardImageUrl(r)})}getPlaceholderImageUrl(){return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjI4MCIgdmlld0JveD0iMCAwIDIwMCAyODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjgwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMDAgMTQwQzExNi41NjkgMTQwIDEzMCAxMjYuNTY5IDEzMCAxMTBDMTMwIDkzLjQzMTUgMTE2LjU2OSA4MCAxMDAgODBDODMuNDMxNSA4MCA3MCA5My40MzE1IDcwIDExMEM3MCAxMjYuNTY5IDgzLjQzMTUgMTQwIDEwMCAxNDBaIiBmaWxsPSIjOUI5QkE4Ii8+CjxwYXRoIGQ9Ik0xMDAgMTAwQzEwNS41MjMgMTAwIDExMCAxMDQuNDc3IDExMCAxMTBDMTEwIDExNS41MjMgMTA1LjUyMyAxMjAgMTAwIDEyMEM5NC40NzcgMTIwIDkwIDExNS41MjMgOTAgMTEwQzkwIDEwNC40NzcgOTQuNDc3IDEwMCAxMDAgMTAwWiIgZmlsbD0iI0Y5RkFGQiIvPgo8L3N2Zz4K"}};let t=e;return e.\u0275fac=function(o){return new(o||e)(B(wo))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function RV(t,e){if(1&t&&(E(0,"div",30),x(1),b()),2&t){const n=Ce(2);V(1),Qe("",n.syncProgress," cards loaded")}}function kV(t,e){if(1&t&&(E(0,"div",24)(1,"div",25)(2,"div",26),x(3,"\u23f3"),b(),E(4,"div",27)(5,"div",28),x(6),b(),Ee(7,RV,2,1,"div",29),b()()()),2&t){const n=Ce();V(6),ur(n.syncMessage),V(1),Y("ngIf",n.syncProgress>0)}}function NV(t,e){if(1&t&&(E(0,"option",31),x(1),b()),2&t){const n=e.$implicit,r=Ce();Y("value",n),V(1),xr(" ",r.getSetName(n)," (",n,") ")}}function FV(t,e){if(1&t&&(E(0,"option",31),x(1),b()),2&t){const n=e.$implicit;Y("value",n.symbol),V(1),Qe(" ",n.displayName," ")}}function LV(t,e){if(1&t&&(E(0,"span",32),x(1),b()),2&t){const n=Ce();V(1),Qe("(filtered by ",n.getSetName(n.selectedSet),")")}}function jV(t,e){if(1&t&&(E(0,"option",31),x(1),b()),2&t){const n=e.$implicit;Y("value",n),V(1),Qe(" ",n," ")}}function VV(t,e){1&t&&(E(0,"div",33),jn(1,"div",34),E(2,"p"),x(3,"Loading Pokemon cards..."),b()())}function UV(t,e){if(1&t){const n=zr();E(0,"div",35)(1,"p"),x(2),b(),E(3,"button",36),ie("click",function(){return Zt(n),Xt(Ce().loadAllData())}),x(4,"Retry"),b()()}if(2&t){const n=Ce();V(2),ur(n.error)}}function $V(t,e){if(1&t){const n=zr();Cl(0),E(1,"input",56),ie("ngModelChange",function(o){return Zt(n),Xt(Ce(4).editingCountValue=o)})("keydown.enter",function(){Zt(n);const o=Ce().$implicit;return Xt(Ce(3).commitCount(o))})("keydown.escape",function(){return Zt(n),Xt(Ce(4).cancelEditingCount())})("blur",function(){Zt(n);const o=Ce().$implicit;return Xt(Ce(3).commitCount(o))}),b(),bl()}if(2&t){const n=Ce(4);V(1),Y("ngModel",n.editingCountValue)}}function BV(t,e){if(1&t){const n=zr();E(0,"button",57),ie("click",function(){Zt(n);const o=Ce().$implicit;return Xt(Ce(3).startEditingCount(o))}),x(1),b()}if(2&t){const n=Ce().$implicit,r=Ce(3);V(1),Qe(" ",r.getOwnedCount(n)," ")}}function HV(t,e){if(1&t){const n=zr();E(0,"div",46)(1,"div",47)(2,"img",48),ie("error",function(o){const s=Zt(n).$implicit;return Xt(Ce(3).onImageError(o,s))}),b()(),E(3,"div",49)(4,"div",50),x(5),b(),E(6,"div",51)(7,"button",52),ie("click",function(){const i=Zt(n).$implicit;return Xt(Ce(3).decreaseOwned(i))}),x(8," \u2212 "),b(),Ee(9,$V,2,1,"ng-container",53),Ee(10,BV,2,1,"ng-template",null,54,k_),E(12,"button",55),ie("click",function(){const i=Zt(n).$implicit;return Xt(Ce(3).increaseOwned(i))}),x(13," + "),b()()()()}if(2&t){const n=e.$implicit,r=Nd(11),o=Ce(3);Ir("no-quantity",0===o.getOwnedCount(n)),V(1),Ir("no-quantity",0===o.getOwnedCount(n)),V(1),Ir("no-quantity",0===o.getOwnedCount(n)),Y("src",o.getCardImageUrl(n.imageName),sd)("alt",n.label.eng+" Pokemon Card"),V(3),ur(o.getCardDisplayName(n)),V(2),Y("disabled",0===o.getOwnedCount(n)),V(2),Y("ngIf",o.editingCardId===o.getCardId(n))("ngIfElse",r)}}function zV(t,e){if(1&t&&(E(0,"div",39)(1,"div",40)(2,"h3",41),x(3),b(),E(4,"div",42)(5,"span",43),x(6),b()()(),E(7,"div",44),Ee(8,HV,14,12,"div",45),b()()),2&t){const n=e.$implicit,r=Ce(2);V(3),ur(r.getGroupDisplayName(n.groupTitle,n.cards)),V(3),xr("",n.cards.length," card",1!==n.cards.length?"s":"",""),V(2),Y("ngForOf",n.cards)("ngForTrackBy",r.trackByCardInGroup)}}function GV(t,e){if(1&t&&(E(0,"div",37),Ee(1,zV,9,5,"div",38),b()),2&t){const n=Ce();V(1),Y("ngForOf",n.getGroupedCards())("ngForTrackBy",n.trackByGroupTitle)}}function qV(t,e){if(1&t){const n=zr();E(0,"div",58)(1,"div",59),x(2,"\u{1f50d}"),b(),E(3,"h3"),x(4,"No cards found"),b(),E(5,"p"),x(6,"Try adjusting your search or filter criteria"),b(),E(7,"button",36),ie("click",function(){return Zt(n),Xt(Ce().clearFilters())}),x(8,"Clear All Filters"),b()()}}let WV=(()=>{const e=class{constructor(r,o,i,s,a,l,c){this.pokemonDataService=r,this.dataManager=o,this.imageService=i,this.supabaseService=s,this.router=a,this.cdr=l,this.rarityService=c,this.cards=[],this.filteredCards=[],this.sets=[],this.rarityMapping={},this.ownedCards={},this.selectedSet="all",this.selectedRarity="all",this.selectedPack="all",this.searchTerm="",this.availableSets=[],this.availableRarities=[],this.availableRaritySymbols=[],this.availablePacks=[],this.loading=!0,this.loadingOwnedCards=!1,this.syncingCards=!1,this.syncProgress=0,this.syncMessage="",this.error=null,this.viewMode="grid",this.editingCardId=null,this.editingCountValue=0,this.totalCards=0,this.ownedCount=0,this.uniqueOwned=0,this.completionPercentage=0,this.currentUser=null,this.trackByCardId=(u,d)=>this.getCardId(d),this.trackByGroupTitle=(u,d)=>d.groupTitle,this.trackByCardInGroup=(u,d)=>this.getCardId(d)}ngOnInit(){this.currentUser=this.supabaseService.getCurrentUser(),this.currentUser?this.loadAllData():this.router.navigate(["/signin"])}loadAllData(){this.loading=!0,this.error=null,this.pokemonDataService.loadAllData().subscribe({next:r=>{this.cards=r.cards,this.filteredCards=[...this.cards],this.sets=r.sets,this.rarityMapping=r.rarities,this.extractFilterOptions(),this.calculateStatistics(),this.loading=!1,this.cdr.detectChanges(),this.loadOwnedCards()},error:r=>{this.error="Failed to load card collection",this.loading=!1,this.cdr.detectChanges(),console.error("Error loading card collection:",r)}})}extractFilterOptions(){this.availableSets=[...new Set(this.cards.map(a=>a.set))];const r=[...new Set(this.cards.map(a=>a.rarityCode).filter(a=>a))];this.availableRarities=r,this.availableRaritySymbols=[];const o=new Set;this.cards.forEach(a=>{if(a.rarityCode){const l=this.rarityService.getNormalizedCode(a.rarityCode);o.add(l)}});const i=new Map;this.rarityService.getUnifiedRarities().forEach(a=>{o.has(a.code)&&i.set(a.symbol,{symbol:a.symbol,rarities:[a.code],displayName:a.displayName})}),this.availableRaritySymbols=Array.from(i.values()).sort((a,l)=>this.rarityService.getRarityOrder(a.rarities[0])-this.rarityService.getRarityOrder(l.rarities[0])),this.extractAvailablePacks()}convertRarityNameToCode(r){return{Common:"C",Uncommon:"U",Rare:"R","Double Rare":"RR","Art Rare":"AR","Super Rare":"SR","Special Art Rare":"SAR","Immersive Rare":"IM","Crown Rare":"UR",Shiny:"S","Shiny Super Rare":"SSR"}[r]||r}extractAvailablePacks(){let r=this.cards;"all"!==this.selectedSet&&(r=this.cards.filter(i=>i.set===this.selectedSet));const o=r.flatMap(i=>i.packs).filter(i=>i&&i.trim());this.availablePacks=[...new Set(o)],"all"!==this.selectedPack&&!this.availablePacks.includes(this.selectedPack)&&(this.selectedPack="all")}applyFilters(){this.filteredCards=this.cards.filter(r=>{if("all"!==this.selectedSet&&r.set!==this.selectedSet)return!1;if("all"!==this.selectedRarity){const o=this.availableRaritySymbols.find(i=>i.symbol===this.selectedRarity);if(o){const i=r.rarityCode?this.rarityService.getNormalizedCode(r.rarityCode):"";if(!o.rarities.includes(i))return!1}else if((r.rarityCode?this.rarityService.getSymbol(r.rarityCode):"")!==this.selectedRarity)return!1}return!("all"!==this.selectedPack&&!r.packs.includes(this.selectedPack)||this.searchTerm&&!r.label.eng.toLowerCase().includes(this.searchTerm.toLowerCase()))})}onFilterChange(){this.extractAvailablePacks(),this.applyFilters()}onSetChange(){this.extractAvailablePacks(),this.applyFilters()}onSearchChange(){this.applyFilters()}clearFilters(){this.selectedSet="all",this.selectedRarity="all",this.selectedPack="all",this.searchTerm="",this.applyFilters()}loadOwnedCards(){var r=this;return m(function*(){if(r.currentUser){r.loadingOwnedCards=!0,r.syncingCards=!0,r.syncProgress=0,r.syncMessage="Starting sync...";try{const o=yield r.supabaseService.syncUserCollection(r.currentUser.id,i=>{r.syncProgress=i,r.syncMessage=`Syncing cards... ${i} loaded`,r.cdr.detectChanges()});r.ownedCards=o,r.calculateStatistics(),r.syncMessage=`Sync completed! ${Object.keys(o).length} cards loaded`,r.cdr.detectChanges(),setTimeout(()=>{r.syncingCards=!1,r.syncMessage="",r.cdr.detectChanges()},1500)}catch(o){console.error("Error loading owned cards:",o),r.syncMessage="Sync failed, using local data...";const i=localStorage.getItem("ownedPokemonCards");i&&(r.ownedCards=JSON.parse(i),r.calculateStatistics()),r.cdr.detectChanges(),setTimeout(()=>{r.syncingCards=!1,r.syncMessage="",r.cdr.detectChanges()},2e3)}finally{r.loadingOwnedCards=!1}}})()}saveOwnedCards(){var r=this;return m(function*(){localStorage.setItem("ownedPokemonCards",JSON.stringify(r.ownedCards)),r.calculateStatistics()})()}getCardId(r){return`${r.set}-${r.number}`}getOwnedCount(r){return this.ownedCards[this.getCardId(r)]||0}increaseOwned(r){var o=this;return m(function*(){if(!o.currentUser)return;const i=o.getCardId(r),s=o.getOwnedCount(r),a=s+1;o.updateLocalQuantity(i,a),yield o.persistQuantity(i,a,s)})()}decreaseOwned(r){var o=this;return m(function*(){if(!o.currentUser)return;const i=o.getCardId(r),s=o.getOwnedCount(r);if(0===s)return;const a=s-1;o.updateLocalQuantity(i,a),yield o.persistQuantity(i,a,s)})()}startEditingCount(r){this.editingCardId=this.getCardId(r),this.editingCountValue=this.getOwnedCount(r),this.cdr.detectChanges()}cancelEditingCount(){this.editingCardId=null,this.editingCountValue=0,this.cdr.detectChanges()}commitCount(r){var o=this;return m(function*(){if(!o.currentUser)return;const i=o.getCardId(r);if(o.editingCardId!==i)return;const s=Math.max(0,Math.floor(Number(o.editingCountValue)||0)),a=o.getOwnedCount(r);s!==a?(o.updateLocalQuantity(i,s),yield o.persistQuantity(i,s,a),o.cancelEditingCount()):o.cancelEditingCount()})()}updateLocalQuantity(r,o){o<=0?delete this.ownedCards[r]:this.ownedCards[r]=o,this.saveOwnedCards(),this.cdr.detectChanges()}persistQuantity(r,o,i){var s=this;return m(function*(){if(s.currentUser)try{yield s.supabaseService.updateCardQuantity(s.currentUser.id,r,o)}catch(a){console.error("Error updating card quantity in database:",a),i<=0?delete s.ownedCards[r]:s.ownedCards[r]=i,s.saveOwnedCards(),s.cdr.detectChanges()}})()}calculateStatistics(){this.totalCards=this.cards.length,this.ownedCount=Object.values(this.ownedCards).reduce((r,o)=>r+o,0),this.uniqueOwned=Object.keys(this.ownedCards).length,this.completionPercentage=this.totalCards>0?Math.round(this.uniqueOwned/this.totalCards*100):0}getSetName(r){const o=this.sets.find(i=>i.code===r);return o?o.label.en:r}getFullRarityName(r){return this.rarityService.getStandardizedDisplayName(r)}getRarityClass(r){return{Common:"rarity-common",Uncommon:"rarity-uncommon",Rare:"rarity-rare","Double Rare":"rarity-double-rare","Art Rare":"rarity-art-rare","Super Rare":"rarity-super-rare","Special Art Rare":"rarity-special-art-rare","Immersive Rare":"rarity-immersive-rare","Crown Rare":"rarity-crown-rare",Shiny:"rarity-shiny","Shiny Super Rare":"rarity-shiny-super-rare"}[r]||"rarity-default"}toggleViewMode(){this.viewMode="grid"===this.viewMode?"list":"grid"}exportCollection(){let r="\ufeff";r+="Id,CardName,NumberOwn,Expansion,Pack,Rarity\n",this.cards.forEach(s=>{const a=this.getCardId(s),l=this.getOwnedCount(s),c=s.rarityCode?this.rarityService.getSymbol(s.rarityCode):"Unknown",u=s.packs&&s.packs.length>0?s.packs[0]:"",d=s.label.eng.replace(/,/g,'""');r+=`${a},"${d}",${l},${s.set},"${u}",${c}\n`});const o=new Blob([r],{type:"text/csv;charset=utf-8"}),i=document.createElement("a");i.href=URL.createObjectURL(o),i.download="pokemon-tcg-collection.csv",i.click()}importCollection(r){var o=this;const i=r.target.files[0];if(i){const s=new FileReader;s.onload=function(){var a=m(function*(l){try{const d=(l.target?.result||"").split(/\r?\n/).filter(N=>N.trim().length>0);if(0===d.length)return void alert("CSV file appears to be empty.");const h=new Map;o.cards.forEach(N=>{const z=o.getCardId(N);h.set(o.normalizeId(z),z)});const f=o.parseCSVLine(d[0]),p=/(id|card|name|expansion|set|rarity|qty|quantity|owned|count|number|no)/i,g=f.some(N=>p.test(N)),y=g?1:0,C=g?o.buildHeaderMap(f):null;let A=0,_=0,P=0;for(let N=y;N<d.length;N++){const z=d[N];try{const Gt=o.parseCSVLine(z),{cardId:Ae,quantity:at}=o.resolveCsvRow(Gt,C);if(!Ae){_++;continue}const Jn=Math.max(0,Math.floor(Number(at))||0),gn=h.get(o.normalizeId(Ae))||null;gn?(Jn>0?o.ownedCards[gn]=Jn:delete o.ownedCards[gn],A++):(console.log(Ae),P++)}catch(Gt){console.error(`Error parsing line: ${z}`,Gt),_++}}if(o.saveOwnedCards(),o.currentUser)try{const N=yield o.supabaseService.bulkReplaceUserCollection(o.currentUser.id,o.ownedCards);if(N.success){let z=`Import completed!\n${A} cards updated`;z+="\nCollection synced to database successfully",P>0&&(z+=`\n${P} rows referenced unknown cards (skipped)`),_>0&&(z+=`\n${_} parse errors encountered`),yield o.loadOwnedCards(),alert(z)}else{console.error("\u274c Failed to sync collection to database:",N.error);let z=`Import completed!\n${A} cards updated locally`;z+=`\nDatabase sync failed: ${N.error}`,P>0&&(z+=`\n${P} unknown cards (skipped)`),_>0&&(z+=`\n${_} parse errors encountered`),alert(z)}}catch(N){console.error("\u274c Error during bulk sync:",N);let z=`Import completed!\n${A} cards updated locally`;z+="\nDatabase sync failed - please try again",P>0&&(z+=`\n${P} unknown cards (skipped)`),_>0&&(z+=`\n${_} parse errors encountered`),alert(z)}else{let N=`Import completed!\n${A} cards updated`;P>0&&(N+=`\n${P} unknown cards (skipped)`),_>0&&(N+=`\n${_} parse errors encountered`),alert(N)}}catch(c){console.error("Failed to import collection:",c),alert("Failed to import collection. Please check the CSV file format.")}});return function(l){return a.apply(this,arguments)}}(),s.readAsText(i)}}buildHeaderMap(r){const o={};return r.forEach((i,s)=>{const a=i.trim().toLowerCase();o[a]=s}),o}resolveCsvRow(r,o){const i=c=>{if(o)for(const u of c){const d=o[u];if(void 0!==d&&d>=0&&d<r.length){const h=(r[d]||"").trim();if(h)return h}}},s=i(["numberown","quantity","qty","owned","count","number own","number_owned"]);let a=0;void 0!==s?a=Math.max(0,Math.floor(Number(s)||0)):r.length>=3&&(a=Math.max(0,Math.floor(Number(r[2])||0)));let l=i(["id","cardid","card id"]);if(!l){let c=i(["set","expansion"]),u=i(["number","no","card number","card no","card#"]);if(!c&&r.length>=4&&(c=(r[3]||"").trim()),!u&&r.length>=1){const d=(r[1]||"").trim();/^\d+/.test(d)&&(u=d)}if(c&&u){const d=this.mapToSetCode(c),h=this.extractLeadingInt(u);d&&null!==h&&(l=`${d}-${h}`)}}if(!l&&r.length>0){const c=(r[0]||"").trim();c&&(l=c)}return{cardId:l||null,quantity:a}}extractLeadingInt(r){const o=(r||"").match(/\d+/);return o?parseInt(o[0],10):null}mapToSetCode(r){const i=(r||"").trim().toUpperCase();if("PROMO-A"===i)return"P-A";const s=this.sets.find(l=>(l.code||"").toUpperCase()===i);if(s)return s.code;const a=this.sets.find(l=>(l.label?.en||"").toUpperCase()===i);return a?a.code:null}normalizeId(r){let o=(r||"").trim().toUpperCase();return o=o.replace(/^PROMO-A(?=-)/,"P-A"),o}parseCSVLine(r){const o=[];let i="",s=!1;for(let a=0;a<r.length;a++){const l=r[a];'"'===l?s=!s:","!==l||s?i+=l:(o.push(i),i="")}return o.push(i),o}getCardImageUrl(r){return this.imageService.getCardImageUrl(r)}getCardDisplayName(r){return`${r.set}-${r.number} \u2013 ${r.label.eng}`}onImageError(r,o){console.error("\u274c Image failed to load:",o.imageName),r.target.src=this.imageService.getPlaceholderImageUrl()}getGroupedCards(){const r={};return this.filteredCards.forEach(o=>{const i=o.set;r[i]||(r[i]=[]),r[i].push(o)}),Object.keys(r).sort((o,i)=>{const s=o.match(/^([A-Z]+)(\d+)([a-z]*)$/),a=i.match(/^([A-Z]+)(\d+)([a-z]*)$/);if(s&&a){if(s[1]!==a[1])return s[1].localeCompare(a[1]);const l=parseInt(s[2]),c=parseInt(a[2]);return l!==c?l-c:(s[3]||"").localeCompare(a[3]||"")}return o.localeCompare(i)}).map(o=>({groupTitle:o,cards:r[o].sort((i,s)=>i.number!==s.number?i.number-s.number:i.label.eng.localeCompare(s.label.eng))}))}getGroupDisplayName(r,o){const i=this.getSetName(r);return i&&i!==r?`${r} - ${i}`:`Set ${r}`}};let t=e;return e.\u0275fac=function(o){return new(o||e)(T(rD),T(oD),T(PV),T(Qi),T(Ct),T(wi),T(BD))},e.\u0275cmp=$r({type:e,selectors:[["app-card-collection"]],decls:44,vars:13,consts:[[1,"collection-container"],[1,"collection-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-secondary","import-btn"],["type","file","accept",".csv","hidden","",3,"change"],["class","sync-progress",4,"ngIf"],[1,"filters-section"],[1,"search-container"],[1,"search-box"],["type","text","placeholder","\u{1f50d} Search Pokemon cards...",1,"search-input",3,"ngModel","ngModelChange","input"],[1,"filter-controls"],[1,"filter-group"],[1,"filter-label"],[1,"filter-select",3,"ngModel","ngModelChange","change"],["value","all"],[3,"value",4,"ngFor","ngForOf"],["class","filter-dependency",4,"ngIf"],[1,"filter-actions"],[1,"btn","btn-outline",3,"click"],[1,"btn-icon"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","cards-container",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"sync-progress"],[1,"sync-message"],[1,"sync-icon"],[1,"sync-text"],[1,"sync-title"],["class","sync-count",4,"ngIf"],[1,"sync-count"],[3,"value"],[1,"filter-dependency"],[1,"loading-container"],[1,"loading-spinner"],[1,"error-container"],[1,"btn","btn-primary",3,"click"],[1,"cards-container"],["class","card-group",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-group"],[1,"group-header"],[1,"group-title"],[1,"group-stats"],[1,"group-count"],[1,"cards-grid"],["class","card-item",3,"no-quantity",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-item"],[1,"card-image"],["loading","lazy",1,"pokemon-card-img",3,"src","alt","error"],[1,"card-info"],[1,"card-title"],[1,"ownership-controls"],[1,"count-btn","decrease",3,"disabled","click"],[4,"ngIf","ngIfElse"],["displayCount",""],[1,"count-btn","increase",3,"click"],["type","number","min","0",1,"count-input",3,"ngModel","ngModelChange","keydown.enter","keydown.escape","blur"],["type","button",1,"count-display",3,"click"],[1,"empty-state"],[1,"empty-icon"]],template:function(o,i){1&o&&(E(0,"div",0)(1,"div",1)(2,"button",2),ie("click",function(){return i.exportCollection()}),x(3," \u{1f4e4} Export Collection "),b(),E(4,"label",3),x(5," \u{1f4e5} Import Collection "),E(6,"input",4),ie("change",function(a){return i.importCollection(a)}),b()()(),Ee(7,kV,8,2,"div",5),E(8,"div",6)(9,"div",7)(10,"div",8)(11,"input",9),ie("ngModelChange",function(a){return i.searchTerm=a})("input",function(){return i.onSearchChange()}),b()()(),E(12,"div",10)(13,"div",11)(14,"label",12),x(15,"Set"),b(),E(16,"select",13),ie("ngModelChange",function(a){return i.selectedSet=a})("change",function(){return i.onSetChange()}),E(17,"option",14),x(18,"All Sets"),b(),Ee(19,NV,2,3,"option",15),b()(),E(20,"div",11)(21,"label",12),x(22,"Rarity"),b(),E(23,"select",13),ie("ngModelChange",function(a){return i.selectedRarity=a})("change",function(){return i.onFilterChange()}),E(24,"option",14),x(25,"All Rarities"),b(),Ee(26,FV,2,2,"option",15),b()(),E(27,"div",11)(28,"label",12),x(29," Pack "),Ee(30,LV,2,1,"span",16),b(),E(31,"select",13),ie("ngModelChange",function(a){return i.selectedPack=a})("change",function(){return i.onFilterChange()}),E(32,"option",14),x(33,"All Packs"),b(),Ee(34,jV,2,2,"option",15),b()(),E(35,"div",17)(36,"button",18),ie("click",function(){return i.clearFilters()}),E(37,"span",19),x(38,"\u{1f5d1}\ufe0f"),b(),x(39," Clear Filters "),b()()()(),Ee(40,VV,4,0,"div",20),Ee(41,UV,5,1,"div",21),Ee(42,GV,2,2,"div",22),Ee(43,qV,9,0,"div",23),b()),2&o&&(V(7),Y("ngIf",i.syncingCards),V(4),Y("ngModel",i.searchTerm),V(5),Y("ngModel",i.selectedSet),V(3),Y("ngForOf",i.availableSets),V(4),Y("ngModel",i.selectedRarity),V(3),Y("ngForOf",i.availableRaritySymbols),V(4),Y("ngIf","all"!==i.selectedSet),V(1),Y("ngModel",i.selectedPack),V(3),Y("ngForOf",i.availablePacks),V(6),Y("ngIf",i.loading),V(1),Y("ngIf",i.error),V(1),Y("ngIf",!i.loading&&!i.error),V(1),Y("ngIf",!i.loading&&!i.error&&0===i.getGroupedCards().length))},dependencies:[jh,Ei,Pw,kw,Mi,Cf,pc,Qs,Sf,Ai],styles:['.collection-container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto;background-color:#000;min-height:100vh;color:#fff}.sync-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:linear-gradient(135deg,#1a4d3a 0%,#0f2d1f 100%);border:1px solid #28a745;border-radius:10px;padding:16px 22px;margin-bottom:20px;box-shadow:0 4px 18px #28a74540}.sync-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;flex:1}.sync-icon[_ngcontent-%COMP%]{font-size:22px;animation:_ngcontent-%COMP%_spin 2s linear infinite}.sync-text[_ngcontent-%COMP%]{flex:1}.sync-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#28a745;margin-bottom:2px}.sync-count[_ngcontent-%COMP%]{font-size:12px;color:#9fb8aa}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.collection-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;margin-bottom:30px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #444;border-radius:6px;background-color:#333;color:#fff;cursor:pointer;font-size:14px;transition:all .2s ease}.btn[_ngcontent-%COMP%]:hover{background-color:#444;border-color:#555}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;border-color:#0056b3}.btn-secondary[_ngcontent-%COMP%]{background-color:#555;border-color:#666}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#666;border-color:#777}.btn-outline[_ngcontent-%COMP%]{background:transparent;border-color:#555}.btn-outline[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.06)}.btn-outline-small[_ngcontent-%COMP%]{padding:4px 12px;border:1px solid #666;border-radius:4px;background-color:transparent;color:#ccc;cursor:pointer;font-size:12px;transition:all .2s ease}.btn-outline-small[_ngcontent-%COMP%]:hover{background-color:#dc3545;border-color:#dc3545;color:#fff}.btn-icon[_ngcontent-%COMP%]{margin-right:6px}.btn[_ngcontent-%COMP%]:disabled, .btn-outline-small[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.import-btn[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.filters-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2a2a2a 0%,#1e1e1e 100%);padding:25px;border-radius:12px;margin-bottom:30px;box-shadow:0 4px 15px #0000004d;border:1px solid #404040}.search-container[_ngcontent-%COMP%]{margin-bottom:20px}.search-box[_ngcontent-%COMP%]{position:relative;max-width:420px;margin:0 auto}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #444;border-radius:25px;background-color:#333;color:#fff;font-size:16px;transition:all .3s ease}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 10px #007bff4d}.filter-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:20px}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.filter-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#ccc;text-transform:uppercase;letter-spacing:.5px}.filter-dependency[_ngcontent-%COMP%]{font-size:11px;color:#007bff;font-weight:400;text-transform:none;font-style:italic}.filter-select[_ngcontent-%COMP%]{padding:10px 14px;border:2px solid #444;border-radius:8px;background-color:#333;color:#fff;font-size:14px;transition:all .3s ease;cursor:pointer}.filter-select[_ngcontent-%COMP%]:hover{border-color:#555;background-color:#3a3a3a}.filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 8px #007bff33}.filter-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.results-info[_ngcontent-%COMP%]{background-color:#1a1a1a;padding:12px 20px;border-radius:8px;text-align:center;border:1px solid #333}.results-text[_ngcontent-%COMP%]{color:#ccc;font-size:14px;font-weight:500}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#ccc}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #333;border-top:4px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}.cards-container[_ngcontent-%COMP%]{width:100%}.card-group[_ngcontent-%COMP%]{margin-bottom:40px}.group-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:15px 0;border-bottom:2px solid #333;flex-wrap:wrap;gap:10px}.group-title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700;color:#fff;margin:0;text-shadow:1px 1px 2px rgba(0,0,0,.5);flex:1;min-width:280px;position:relative;padding-left:30px;line-height:1.3}.group-title[_ngcontent-%COMP%]:before{content:"\\1f4cb";position:absolute;left:0;top:50%;transform:translateY(-50%);font-size:1.2rem}.group-stats[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;flex-shrink:0}.group-count[_ngcontent-%COMP%]{color:#ccc;font-size:14px;padding:4px 8px;background-color:#333;border-radius:4px;white-space:nowrap}.cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:18px;padding:20px 0}.card-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:10px;overflow:hidden;transition:transform .2s ease}.card-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card-image[_ngcontent-%COMP%]{position:relative;width:100%;aspect-ratio:2 / 3;overflow:hidden;padding:10px;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.pokemon-card-img[_ngcontent-%COMP%]{width:90%;object-fit:cover;object-position:center;border-radius:10px;transition:transform .3s ease,opacity .3s ease;background-color:#222}.card-item[_ngcontent-%COMP%]:hover   .pokemon-card-img[_ngcontent-%COMP%]{transform:scale(1.05)}.pokemon-card-img[_ngcontent-%COMP%]:not([src]), .pokemon-card-img[src=""][_ngcontent-%COMP%]{opacity:.5;background:linear-gradient(45deg,#333,#555,#333);background-size:200% 200%;animation:_ngcontent-%COMP%_loading-shimmer 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_loading-shimmer{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.card-item.no-quantity[_ngcontent-%COMP%]{opacity:.7;transition:opacity .3s ease}.card-item.no-quantity[_ngcontent-%COMP%]   .pokemon-card-img[_ngcontent-%COMP%]{filter:grayscale(100%) opacity(.5)}.card-item.no-quantity[_ngcontent-%COMP%]:hover{opacity:.9}.card-item.no-quantity[_ngcontent-%COMP%]:hover   .pokemon-card-img[_ngcontent-%COMP%]{filter:grayscale(0%) opacity(.8)}.card-item.no-quantity[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card-item.no-quantity[_ngcontent-%COMP%]   .count-display[_ngcontent-%COMP%]{color:#888}.card-item.no-quantity[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%], .card-item.no-quantity[_ngcontent-%COMP%]:hover   .count-display[_ngcontent-%COMP%]{color:#bbb}.card-info[_ngcontent-%COMP%]{padding:10px 0;text-align:center}.card-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#fff;margin-bottom:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ownership-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.count-btn[_ngcontent-%COMP%]{width:24px;height:24px;border:1px solid #555;border-radius:4px;background-color:#444;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;transition:all .2s ease}.count-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#555;border-color:#666}.count-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.count-btn.decrease[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#dc3545;border-color:#dc3545}.count-btn.increase[_ngcontent-%COMP%]:hover{background-color:#28a745;border-color:#28a745}.count-display[_ngcontent-%COMP%]{min-width:32px;padding:4px 10px;border-radius:6px;border:1px dashed #666;background:rgba(51,51,51,.65);color:#fff;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease}.count-display[_ngcontent-%COMP%]:hover, .count-display[_ngcontent-%COMP%]:focus-visible{border-color:#007bff;background:rgba(0,123,255,.2);outline:none}.count-input[_ngcontent-%COMP%]{width:56px;padding:4px 8px;border-radius:6px;border:1px solid #777;background:rgba(24,24,24,.95);color:#fff;font-size:14px;font-weight:600;text-align:center;outline:none;transition:border-color .2s ease,box-shadow .2s ease}.count-input[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 6px #007bff4d}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px}.pokemon-card-img.lazy-loading[_ngcontent-%COMP%]{opacity:.6;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.pokemon-card-img.lazy-loaded[_ngcontent-%COMP%]{opacity:1;transition:opacity .3s ease-in-out}.pokemon-card-img.lazy-error[_ngcontent-%COMP%]{opacity:.5;filter:grayscale(100%)}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}@media (max-width: 1200px){.cards-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:16px}}@media (max-width: 768px){.collection-container[_ngcontent-%COMP%]{padding:15px}.cards-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:12px}.ownership-controls[_ngcontent-%COMP%]{gap:8px}.filters-section[_ngcontent-%COMP%]{padding:20px}.filter-controls[_ngcontent-%COMP%]{grid-template-columns:1fr}.search-box[_ngcontent-%COMP%]{max-width:100%}}@media (max-width: 540px){.cards-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:10px}.count-display[_ngcontent-%COMP%], .count-input[_ngcontent-%COMP%]{width:48px}.filters-section[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px}.search-input[_ngcontent-%COMP%]{padding:10px 14px;font-size:14px}.filter-select[_ngcontent-%COMP%]{padding:8px 12px;font-size:13px}.filter-label[_ngcontent-%COMP%]{font-size:12px}}'],changeDetection:0}),t})();function JV(t,e){if(1&t&&(E(0,"div",19),x(1),b()),2&t){const n=Ce();V(1),Qe(" ",n.error," ")}}function KV(t,e){1&t&&jn(0,"span",20)}function QV(t,e){1&t&&(E(0,"a",11),x(1," \u{1f527} Admin "),b())}function ZV(t,e){if(1&t){const n=zr();E(0,"div",12)(1,"span",13),x(2),b(),E(3,"button",14),ie("click",function(){return Zt(n),Xt(Ce().signOut())}),x(4,"Sign Out"),b()()}if(2&t){const n=Ce();V(2),Qe("\u{1f464} ",n.currentUser.username,"")}}function eU(t,e){if(1&t&&(E(0,"div",20),x(1),b()),2&t){const n=Ce();Ir("success","success"===n.messageType)("error","error"===n.messageType),V(1),Qe(" ",n.message," ")}}const tU=[{path:"",redirectTo:"/signin",pathMatch:"full"},{path:"signin",component:(()=>{const e=class{constructor(r,o,i){this.supabaseService=r,this.router=o,this.route=i,this.username="",this.password="",this.loading=!1,this.error="",this.returnUrl="/collection"}ngOnInit(){this.supabaseService.isSignedIn()?this.router.navigate([this.returnUrl]):this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/collection"}get isFormValid(){return this.username.trim().length>0&&this.password.trim().length>0}onSubmit(){var r=this;return m(function*(){if(r.isFormValid){r.loading=!0,r.error="";try{const{user:o,error:i}=yield r.supabaseService.signIn(r.username.trim(),r.password.trim());i?(r.error=i,i.includes("Please wait a moment")&&(r.error+=" This usually resolves itself quickly.")):o&&r.router.navigate([r.returnUrl])}catch(o){if(console.error("Sign in error:",o),o&&"object"==typeof o&&"message"in o){const i=o.message;r.error=i.includes("NavigatorLockAcquireTimeoutError")||i.includes("lock")?"Please wait a moment and try signing in again.":"An unexpected error occurred"}else r.error="An unexpected error occurred"}finally{r.loading=!1}}else r.error="Please enter both username and password"})()}onUsernameChange(){this.error=""}onPasswordChange(){this.error=""}};let t=e;return e.\u0275fac=function(o){return new(o||e)(T(Qi),T(Ct),T(Ao))},e.\u0275cmp=$r({type:e,selectors:[["app-signin"]],decls:26,vars:8,consts:[[1,"signin-container"],[1,"signin-card"],[1,"signin-header"],[1,"signin-title"],[1,"signin-subtitle"],[1,"signin-form",3,"ngSubmit"],["signinForm","ngForm"],[1,"form-group"],["for","username"],["id","username","name","username","type","text","placeholder","Enter your username","required","",1,"form-input",3,"ngModel","disabled","ngModelChange","input"],["usernameInput","ngModel"],["for","password"],["id","password","name","password","type","password","placeholder","Enter your password","required","",1,"form-input",3,"ngModel","disabled","ngModelChange","input"],["passwordInput","ngModel"],["class","error-message",4,"ngIf"],["type","submit",1,"signin-btn",3,"disabled"],["class","loading-spinner",4,"ngIf"],[1,"signin-footer"],[1,"invite-note"],[1,"error-message"],[1,"loading-spinner"]],template:function(o,i){if(1&o&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),x(4,"\u{1f0cf} Pokemon TCG Pocket"),b(),E(5,"p",4),x(6,"Collection Manager"),b()(),E(7,"form",5,6),ie("ngSubmit",function(){return i.onSubmit()}),E(9,"div",7)(10,"label",8),x(11,"Username"),b(),E(12,"input",9,10),ie("ngModelChange",function(a){return i.username=a})("input",function(){return i.onUsernameChange()}),b()(),E(14,"div",7)(15,"label",11),x(16,"Password"),b(),E(17,"input",12,13),ie("ngModelChange",function(a){return i.password=a})("input",function(){return i.onPasswordChange()}),b()(),Ee(19,JV,2,1,"div",14),E(20,"button",15),Ee(21,KV,1,0,"span",16),x(22),b()(),E(23,"div",17)(24,"p",18),x(25," \u{1f4e7} This is an invite-only system. Contact your administrator if you need access. "),b()()()()),2&o){const s=Nd(8);V(12),Y("ngModel",i.username)("disabled",i.loading),V(5),Y("ngModel",i.password)("disabled",i.loading),V(2),Y("ngIf",i.error),V(1),Y("disabled",i.loading||!s.valid),V(1),Y("ngIf",i.loading),V(1),Qe(" ",i.loading?"Signing In...":"Sign In"," ")}},dependencies:[Ei,Dw,Mi,Qs,cw,gc,Ai,fc],styles:[".signin-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:20px}.signin-card[_ngcontent-%COMP%]{background:#333;border-radius:12px;padding:40px;width:100%;max-width:400px;box-shadow:0 10px 30px #0000004d;border:1px solid #444}.signin-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.signin-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#fff;margin:0 0 10px;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.signin-subtitle[_ngcontent-%COMP%]{color:#ccc;font-size:1rem;margin:0;opacity:.8}.signin-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-weight:500;font-size:14px}.form-input[_ngcontent-%COMP%]{padding:12px 16px;border:1px solid #555;border-radius:6px;background-color:#444;color:#fff;font-size:16px;transition:all .2s ease}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;background-color:#555}.form-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.form-input[_ngcontent-%COMP%]::placeholder{color:#888}.error-message[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;padding:10px 12px;border-radius:6px;font-size:14px;text-align:center;margin-top:-10px}.signin-btn[_ngcontent-%COMP%]{padding:14px 20px;background-color:#007bff;color:#fff;border:none;border-radius:6px;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px;margin-top:10px}.signin-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3;transform:translateY(-1px)}.signin-btn[_ngcontent-%COMP%]:disabled{background-color:#666;cursor:not-allowed;transform:none}.loading-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.signin-footer[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.invite-note[_ngcontent-%COMP%]{color:#888;font-size:12px;line-height:1.4;margin:0;padding:15px;background-color:#2a2a2a;border-radius:6px;border-left:3px solid #007bff}@media (max-width: 480px){.signin-container[_ngcontent-%COMP%]{padding:10px}.signin-card[_ngcontent-%COMP%]{padding:30px 20px}.signin-title[_ngcontent-%COMP%]{font-size:1.5rem}}"]}),t})()},{path:"",component:(()=>{const e=class{constructor(r,o){this.supabaseService=r,this.router=o,this.currentUser=null}ngOnInit(){this.supabaseService.currentUser$.subscribe(r=>{this.currentUser=r})}signOut(){this.supabaseService.signOut(),this.router.navigate(["/signin"])}};let t=e;return e.\u0275fac=function(o){return new(o||e)(T(Qi),T(Ct))},e.\u0275cmp=$r({type:e,selectors:[["app-main-layout"]],decls:16,vars:2,consts:[[1,"app-layout"],[1,"navbar"],[1,"nav-container"],[1,"nav-brand"],[1,"nav-center"],[1,"nav-links"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link"],["routerLink","/collection","routerLinkActive","active",1,"nav-link"],["routerLink","/admin","routerLinkActive","active","class","nav-link admin-link",4,"ngIf"],["class","nav-user",4,"ngIf"],[1,"main-content"],["routerLink","/admin","routerLinkActive","active",1,"nav-link","admin-link"],[1,"nav-user"],[1,"username"],[1,"btn-signout",3,"click"]],template:function(o,i){1&o&&(E(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"h2"),x(5,"Pokemon TCG Pocket Collector"),b()(),E(6,"div",4)(7,"div",5)(8,"a",6),x(9," \u{1f4ca} Dashboard "),b(),E(10,"a",7),x(11," \u{1f5c2}\ufe0f Collection "),b(),Ee(12,QV,2,0,"a",8),b()(),Ee(13,ZV,5,1,"div",9),b()(),E(14,"main",10),jn(15,"router-outlet"),b()()),2&o&&(V(12),Y("ngIf","admin"===(null==i.currentUser?null:i.currentUser.role)),V(1),Y("ngIf",i.currentUser))},dependencies:[Ei,Ac,Vc,W0],styles:[".app-layout[_ngcontent-%COMP%]{min-height:100vh;background-color:#000}.navbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:0 20px;box-shadow:0 2px 10px #0000001a}.nav-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;padding:15px 0}.nav-brand[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:#fff}.nav-center[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center}.nav-links[_ngcontent-%COMP%]{display:flex;gap:30px}.nav-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:10px 20px;border-radius:5px;transition:all .3s ease;font-weight:500}.nav-link[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transform:translateY(-2px)}.nav-link.active[_ngcontent-%COMP%]{background-color:#fff3;box-shadow:0 2px 5px #0003}.nav-user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.username[_ngcontent-%COMP%]{color:#f0f0f0;font-size:14px;font-weight:500}.btn-signout[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid rgba(255,255,255,.3);border-radius:4px;background-color:transparent;color:#fff;cursor:pointer;font-size:12px;transition:all .2s ease}.btn-signout[_ngcontent-%COMP%]:hover{background-color:#dc3545;border-color:#dc3545;transform:translateY(-1px)}.main-content[_ngcontent-%COMP%]{min-height:calc(100vh - 80px);background-color:#000}@media (max-width: 768px){.nav-container[_ngcontent-%COMP%]{flex-direction:column;gap:15px}.nav-center[_ngcontent-%COMP%]{order:3}.nav-user[_ngcontent-%COMP%]{order:2}.nav-links[_ngcontent-%COMP%]{gap:15px}.nav-link[_ngcontent-%COMP%]{padding:8px 15px;font-size:14px}}"]}),t})(),canActivate:[(()=>{const e=class{constructor(r,o){this.supabaseService=r,this.router=o}canActivate(r,o){const i=this.supabaseService.isSignedIn(),s=this.supabaseService.getCurrentUser();return!(!i||!s)||(this.router.navigate(["/signin"],{queryParams:{returnUrl:o.url}}),!1)}};let t=e;return e.\u0275fac=function(o){return new(o||e)(B(Qi),B(Ct))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"}),t})()],children:[{path:"dashboard",component:OV},{path:"collection",component:WV},{path:"admin",component:(()=>{const e=class{constructor(r,o,i,s){this.supabaseService=r,this.router=o,this.http=i,this.cdr=s,this.currentUser=null,this.cardsJson="",this.rarityJson="",this.setsJson="",this.loadingCards=!1,this.loadingRarity=!1,this.loadingSets=!1,this.message="",this.messageType=""}ngOnInit(){this.currentUser=this.supabaseService.getCurrentUser(),this.currentUser?"admin"===this.currentUser.role?this.loadAllJsonFiles():this.router.navigate(["/collection"]):this.router.navigate(["/signin"])}loadAllJsonFiles(){var r=this;return m(function*(){yield Promise.all([r.loadCardsJson(),r.loadRarityJson(),r.loadSetsJson()])})()}loadCardsJson(){var r=this;return m(function*(){r.loadingCards=!0,r.cdr.detectChanges();try{const o=yield r.http.get("/assets/cards/cards.json",{responseType:"text"}).toPromise();r.cardsJson=o||"",r.showMessage("Cards JSON loaded successfully","success")}catch(o){console.error("Error loading cards.json:",o),r.showMessage("Error loading cards.json","error"),r.cardsJson="[]"}finally{r.loadingCards=!1,r.cdr.detectChanges()}})()}loadRarityJson(){var r=this;return m(function*(){r.loadingRarity=!0,r.cdr.detectChanges();try{const o=yield r.http.get("/assets/cards/rarity.json",{responseType:"text"}).toPromise();r.rarityJson=o||"",r.showMessage("Rarity JSON loaded successfully","success")}catch(o){console.error("Error loading rarity.json:",o),r.showMessage("Error loading rarity.json","error"),r.rarityJson="{}"}finally{r.loadingRarity=!1,r.cdr.detectChanges()}})()}loadSetsJson(){var r=this;return m(function*(){r.loadingSets=!0,r.cdr.detectChanges();try{const o=yield r.http.get("/assets/cards/sets.json",{responseType:"text"}).toPromise();r.setsJson=o||"",r.showMessage("Sets JSON loaded successfully","success")}catch(o){console.error("Error loading sets.json:",o),r.showMessage("Error loading sets.json","error"),r.setsJson="[]"}finally{r.loadingSets=!1,r.cdr.detectChanges()}})()}downloadCardsJson(){this.downloadFile(this.cardsJson,"cards.json","application/json")}downloadRarityJson(){this.downloadFile(this.rarityJson,"rarity.json","application/json")}downloadSetsJson(){this.downloadFile(this.setsJson,"sets.json","application/json")}copyCardsToClipboard(){this.validateJson(this.cardsJson)?this.copyToClipboard(this.cardsJson,"Cards JSON copied to clipboard"):this.showMessage("Invalid JSON format for cards","error")}copyRarityToClipboard(){this.validateJson(this.rarityJson)?this.copyToClipboard(this.rarityJson,"Rarity JSON copied to clipboard"):this.showMessage("Invalid JSON format for rarity","error")}copySetsToClipboard(){this.validateJson(this.setsJson)?this.copyToClipboard(this.setsJson,"Sets JSON copied to clipboard"):this.showMessage("Invalid JSON format for sets","error")}validateJson(r){try{return JSON.parse(r),!0}catch{return!1}}copyToClipboard(r,o){navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(r).then(()=>{this.showMessage(o,"success")}).catch(()=>{this.fallbackCopyToClipboard(r,o)}):this.fallbackCopyToClipboard(r,o)}fallbackCopyToClipboard(r,o){const i=document.createElement("textarea");i.value=r,i.style.position="fixed",i.style.left="-999999px",i.style.top="-999999px",document.body.appendChild(i),i.focus(),i.select();try{document.execCommand("copy"),this.showMessage(o,"success")}catch{this.showMessage("Failed to copy to clipboard","error")}finally{document.body.removeChild(i)}}downloadFile(r,o,i){const s=new Blob([r],{type:i}),a=document.createElement("a");a.href=URL.createObjectURL(s),a.download=o,a.click(),URL.revokeObjectURL(a.href),this.showMessage(`${o} downloaded successfully`,"success")}showMessage(r,o){this.message=r,this.messageType=o,this.cdr.detectChanges(),setTimeout(()=>{this.message="",this.messageType="",this.cdr.detectChanges()},3e3)}formatJson(r){try{const o=JSON.parse(r),i=JSON.stringify(o,null,2);r===this.cardsJson?this.cardsJson=i:r===this.rarityJson?this.rarityJson=i:r===this.setsJson&&(this.setsJson=i),this.cdr.detectChanges(),this.showMessage("JSON formatted successfully","success")}catch{this.showMessage("Invalid JSON format","error")}}};let t=e;return e.\u0275fac=function(o){return new(o||e)(T(Qi),T(Ct),T(wo),T(wi))},e.\u0275cmp=$r({type:e,selectors:[["app-admin"]],decls:119,vars:15,consts:[[1,"admin-container"],[1,"user-info"],[1,"role-badge"],["class","message",3,"success","error",4,"ngIf"],[1,"json-management"],[1,"json-section"],[1,"json-header"],[1,"json-actions"],[1,"btn","btn-secondary",3,"disabled","click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-info",3,"click"],[1,"json-editor"],["placeholder","Cards JSON content will appear here...",1,"json-textarea",3,"ngModel","readonly","ngModelChange"],["placeholder","Rarity JSON content will appear here...",1,"json-textarea",3,"ngModel","readonly","ngModelChange"],["placeholder","Sets JSON content will appear here...",1,"json-textarea",3,"ngModel","readonly","ngModelChange"],[1,"instructions"],[1,"workflow-steps"],[1,"workflow-note"],[1,"warning"],[1,"message"]],template:function(o,i){1&o&&(E(0,"div",0)(1,"h1"),x(2,"\u{1f527} Admin Panel"),b(),E(3,"div",1)(4,"span"),x(5),b(),E(6,"span",2),x(7),b()(),Ee(8,eU,2,5,"div",3),E(9,"div",4)(10,"h2"),x(11,"\u{1f4c1} JSON File Management"),b(),E(12,"div",5)(13,"div",6)(14,"h3"),x(15,"\u{1f0cf} Cards JSON"),b(),E(16,"div",7)(17,"button",8),ie("click",function(){return i.loadCardsJson()}),x(18),b(),E(19,"button",9),ie("click",function(){return i.downloadCardsJson()}),x(20," \u{1f4e5} Download "),b(),E(21,"button",10),ie("click",function(){return i.formatJson(i.cardsJson)}),x(22," \u2728 Format "),b(),E(23,"button",11),ie("click",function(){return i.copyCardsToClipboard()}),x(24," \ufffd Copy "),b()()(),E(25,"div",12)(26,"textarea",13),ie("ngModelChange",function(a){return i.cardsJson=a}),x(27,"        "),b()()(),E(28,"div",5)(29,"div",6)(30,"h3"),x(31,"\u2b50 Rarity JSON"),b(),E(32,"div",7)(33,"button",8),ie("click",function(){return i.loadRarityJson()}),x(34),b(),E(35,"button",9),ie("click",function(){return i.downloadRarityJson()}),x(36," \u{1f4e5} Download "),b(),E(37,"button",10),ie("click",function(){return i.formatJson(i.rarityJson)}),x(38," \u2728 Format "),b(),E(39,"button",11),ie("click",function(){return i.copyRarityToClipboard()}),x(40," \ufffd Copy "),b()()(),E(41,"div",12)(42,"textarea",14),ie("ngModelChange",function(a){return i.rarityJson=a}),x(43,"        "),b()()(),E(44,"div",5)(45,"div",6)(46,"h3"),x(47,"\u{1f4e6} Sets JSON"),b(),E(48,"div",7)(49,"button",8),ie("click",function(){return i.loadSetsJson()}),x(50),b(),E(51,"button",9),ie("click",function(){return i.downloadSetsJson()}),x(52," \u{1f4e5} Download "),b(),E(53,"button",10),ie("click",function(){return i.formatJson(i.setsJson)}),x(54," \u2728 Format "),b(),E(55,"button",11),ie("click",function(){return i.copySetsToClipboard()}),x(56," \ufffd Copy "),b()()(),E(57,"div",12)(58,"textarea",15),ie("ngModelChange",function(a){return i.setsJson=a}),x(59,"        "),b()()()(),E(60,"div",16)(61,"h3"),x(62,"\u{1f4cb} GitHub Pages Deployment Workflow"),b(),E(63,"div",17)(64,"h4"),x(65,"\u{1f527} Editing JSON Files:"),b(),E(66,"ol")(67,"li")(68,"strong"),x(69,"\u{1f4e5} Download:"),b(),x(70," Download current JSON files to your computer"),b(),E(71,"li")(72,"strong"),x(73,"\u270f\ufe0f Edit:"),b(),x(74," Modify the JSON content in the text areas above"),b(),E(75,"li")(76,"strong"),x(77,"\u2728 Format:"),b(),x(78," Use Format button for proper JSON indentation"),b(),E(79,"li")(80,"strong"),x(81,"\u{1f4cb} Copy:"),b(),x(82," Copy formatted JSON to clipboard for easy pasting"),b()(),E(83,"h4"),x(84,"\u{1f680} Deploying Changes:"),b(),E(85,"ol")(86,"li")(87,"strong"),x(88,"\u{1f4be} Save Files:"),b(),x(89," Replace JSON files in your local "),E(90,"code"),x(91,"src/assets/cards/"),b(),x(92," folder"),b(),E(93,"li")(94,"strong"),x(95,"\u{1f4dd} Commit:"),b(),x(96," Add and commit changes to your Git repository"),b(),E(97,"li")(98,"strong"),x(99,"\u2b06\ufe0f Push:"),b(),x(100," Push changes to GitHub main/master branch"),b(),E(101,"li")(102,"strong"),x(103,"\u{1f504} Wait:"),b(),x(104," GitHub Pages will automatically rebuild and deploy"),b(),E(105,"li")(106,"strong"),x(107,"\u2705 Live:"),b(),x(108," Changes will be live in 1-5 minutes"),b()()(),E(109,"div",18),x(110," \u{1f4a1} "),E(111,"strong"),x(112,"Pro Tip:"),b(),x(113," Always validate your JSON before deploying to avoid breaking the application! "),b(),E(114,"div",19),x(115," \u26a0\ufe0f "),E(116,"strong"),x(117,"GitHub Pages Limitation:"),b(),x(118," JSON files cannot be updated directly from the web interface. Manual file replacement and deployment is required for changes to take effect. "),b()()()),2&o&&(V(5),Qe("Welcome, ",null==i.currentUser?null:i.currentUser.username,""),V(2),ur(null==i.currentUser?null:i.currentUser.role),V(1),Y("ngIf",i.message),V(9),Y("disabled",i.loadingCards),V(1),Qe(" ",i.loadingCards?"\u23f3 Loading...":"\u{1f504} Reload"," "),V(8),Y("ngModel",i.cardsJson)("readonly",i.loadingCards),V(7),Y("disabled",i.loadingRarity),V(1),Qe(" ",i.loadingRarity?"\u23f3 Loading...":"\u{1f504} Reload"," "),V(8),Y("ngModel",i.rarityJson)("readonly",i.loadingRarity),V(7),Y("disabled",i.loadingSets),V(1),Qe(" ",i.loadingSets?"\u23f3 Loading...":"\u{1f504} Reload"," "),V(8),Y("ngModel",i.setsJson)("readonly",i.loadingSets))},dependencies:[Ei,Mi,Qs,Ai],styles:[".admin-container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto;background-color:#000;min-height:100vh;color:#fff}.admin-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;background:linear-gradient(45deg,#ff6b6b,#4ecdc4);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-size:2.5rem;font-weight:700}.user-info[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px;margin-bottom:30px;padding:15px;background:linear-gradient(135deg,#2a2a2a 0%,#1e1e1e 100%);border-radius:10px;border:1px solid #404040}.role-badge[_ngcontent-%COMP%]{background:linear-gradient(45deg,#ff6b6b,#ff8787);color:#fff;padding:5px 12px;border-radius:20px;font-size:12px;font-weight:700;text-transform:uppercase}.message[_ngcontent-%COMP%]{padding:12px 20px;margin-bottom:20px;border-radius:8px;text-align:center;font-weight:500}.message.success[_ngcontent-%COMP%]{background-color:#1a4d3a;border:1px solid #28a745;color:#28a745}.message.error[_ngcontent-%COMP%]{background-color:#4d1a1a;border:1px solid #dc3545;color:#dc3545}.json-management[_ngcontent-%COMP%]{margin-bottom:40px}.json-management[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center;color:#4ecdc4}.json-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2a2a2a 0%,#1e1e1e 100%);border-radius:12px;border:1px solid #404040;margin-bottom:30px;overflow:hidden}.json-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;background:linear-gradient(135deg,#333 0%,#2a2a2a 100%);border-bottom:1px solid #404040}.json-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:1.2rem}.json-actions[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s ease;display:inline-flex;align-items:center;gap:5px}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(45deg,#007bff,#0056b3);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(45deg,#0056b3,#004085);transform:translateY(-1px)}.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(45deg,#6c757d,#5a6268);color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(45deg,#5a6268,#495057);transform:translateY(-1px)}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(45deg,#28a745,#1e7e34);color:#fff}.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(45deg,#1e7e34,#155724);transform:translateY(-1px)}.btn-info[_ngcontent-%COMP%]{background:linear-gradient(45deg,#17a2b8,#138496);color:#fff}.btn-info[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(45deg,#138496,#117a8b);transform:translateY(-1px)}.json-editor[_ngcontent-%COMP%]{padding:0}.json-textarea[_ngcontent-%COMP%]{width:100%;min-height:300px;max-height:500px;padding:20px;background-color:#1a1a1a;color:#e0e0e0;border:none;font-family:Courier New,monospace;font-size:14px;line-height:1.5;resize:vertical;outline:none;box-sizing:border-box}.json-textarea[_ngcontent-%COMP%]:focus{background-color:#222}.json-textarea[_ngcontent-%COMP%]:readonly{background-color:#0f0f0f;color:#999}.instructions[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2a2a2a 0%,#1e1e1e 100%);border-radius:12px;border:1px solid #404040;padding:25px}.instructions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;color:#4ecdc4}.instructions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:20px}.instructions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;line-height:1.5}.instructions[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff}.workflow-steps[_ngcontent-%COMP%]{margin-bottom:25px}.workflow-steps[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#4ecdc4;margin-bottom:15px;margin-top:20px}.workflow-steps[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-bottom:20px;padding-left:20px}.workflow-steps[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;line-height:1.6}.workflow-steps[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background-color:#333;padding:2px 6px;border-radius:4px;color:#e0e0e0;font-family:Courier New,monospace;font-size:12px}.workflow-note[_ngcontent-%COMP%]{background-color:#1a4d3a;border:1px solid #28a745;color:#28a745;padding:15px;border-radius:8px;font-size:14px;margin-bottom:15px}.warning[_ngcontent-%COMP%]{background-color:#4d3319;border:1px solid #ffc107;color:#ffc107;padding:15px;border-radius:8px;font-size:14px}@media (max-width: 768px){.admin-container[_ngcontent-%COMP%]{padding:15px}.json-header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:stretch}.json-actions[_ngcontent-%COMP%]{justify-content:center}.btn[_ngcontent-%COMP%]{flex:1;justify-content:center}.admin-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}"],changeDetection:0}),t})()}]},{path:"**",redirectTo:"/signin"}];let nU=(()=>{const e=class{};let t=e;return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Rn({type:e}),e.\u0275inj=Cn({imports:[np.forRoot(tU),np]}),t})(),rU=(()=>{const e=class{};let t=e;return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=Rn({type:e,bootstrap:[XL]}),e.\u0275inj=Cn({imports:[GR,bk,MN,np,nU]}),t})();zR().bootstrapModule(rU).catch(t=>console.error(t))},397:(Dt,ae,K)=>{"use strict";K.r(ae),K.d(ae,{Headers:()=>M,Request:()=>I,Response:()=>U,default:()=>Ue,fetch:()=>Pe});var ge=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const Pe=ge.fetch,Ue=ge.fetch.bind(ge),M=ge.Headers,I=ge.Request,U=ge.Response},369:(Dt,ae,K)=>{"use strict";var X=K(156).default;Object.defineProperty(ae,"__esModule",{value:!0});const ge=K(582),Pe=ge.__importDefault(K(397)),Ue=ge.__importDefault(K(839));ae.default=class M{constructor(U){var G,Q;this.shouldThrowOnError=!1,this.method=U.method,this.url=U.url,this.headers=new Headers(U.headers),this.schema=U.schema,this.body=U.body,this.shouldThrowOnError=null!==(G=U.shouldThrowOnError)&&void 0!==G&&G,this.signal=U.signal,this.isMaybeSingle=null!==(Q=U.isMaybeSingle)&&void 0!==Q&&Q,this.fetch=U.fetch?U.fetch:typeof fetch>"u"?Pe.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(U,G){return this.headers=new Headers(this.headers),this.headers.set(U,G),this}then(U,G){var Q=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let Oe=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var _e=X(function*(Re){var et,Lt,Et,qe;let tt=null,bt=null,Kn=null,qt=Re.status,mn=Re.statusText;if(Re.ok){if("HEAD"!==Q.method){const jr=yield Re.text();""===jr||(bt="text/csv"===Q.headers.get("Accept")||Q.headers.get("Accept")&&null!==(et=Q.headers.get("Accept"))&&void 0!==et&&et.includes("application/vnd.pgrst.plan+text")?jr:JSON.parse(jr))}const Wt=null===(Lt=Q.headers.get("Prefer"))||void 0===Lt?void 0:Lt.match(/count=(exact|planned|estimated)/),yn=null===(Et=Re.headers.get("content-range"))||void 0===Et?void 0:Et.split("/");Wt&&yn&&yn.length>1&&(Kn=parseInt(yn[1])),Q.isMaybeSingle&&"GET"===Q.method&&Array.isArray(bt)&&(bt.length>1?(tt={code:"PGRST116",details:`Results contain ${bt.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},bt=null,Kn=null,qt=406,mn="Not Acceptable"):bt=1===bt.length?bt[0]:null)}else{const Wt=yield Re.text();try{tt=JSON.parse(Wt),Array.isArray(tt)&&404===Re.status&&(bt=[],tt=null,qt=200,mn="OK")}catch{404===Re.status&&""===Wt?(qt=204,mn="No Content"):tt={message:Wt}}if(tt&&Q.isMaybeSingle&&!(null===(qe=tt?.details)||void 0===qe)&&qe.includes("0 rows")&&(tt=null,qt=200,mn="OK"),tt&&Q.shouldThrowOnError)throw new Ue.default(tt)}return{error:tt,data:bt,count:Kn,status:qt,statusText:mn}});return function(Re){return _e.apply(this,arguments)}}());return this.shouldThrowOnError||(Oe=Oe.catch(_e=>{var Re,et,Lt;return{error:{message:`${null!==(Re=_e?.name)&&void 0!==Re?Re:"FetchError"}: ${_e?.message}`,details:`${null!==(et=_e?.stack)&&void 0!==et?et:""}`,hint:"",code:`${null!==(Lt=_e?.code)&&void 0!==Lt?Lt:""}`},data:null,count:null,status:0,statusText:""}})),Oe.then(U,G)}returns(){return this}overrideTypes(){return this}}},851:(Dt,ae,K)=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});const X=K(582),ge=X.__importDefault(K(241)),Pe=X.__importDefault(K(105));class Ue{constructor(I,{headers:U={},schema:G,fetch:Q}={}){this.url=I,this.headers=new Headers(U),this.schemaName=G,this.fetch=Q}from(I){const U=new URL(`${this.url}/${I}`);return new ge.default(U,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(I){return new Ue(this.url,{headers:this.headers,schema:I,fetch:this.fetch})}rpc(I,U={},{head:G=!1,get:Q=!1,count:we}={}){var Oe;let _e;const Re=new URL(`${this.url}/rpc/${I}`);let et;G||Q?(_e=G?"HEAD":"GET",Object.entries(U).filter(([Et,qe])=>void 0!==qe).map(([Et,qe])=>[Et,Array.isArray(qe)?`{${qe.join(",")}}`:`${qe}`]).forEach(([Et,qe])=>{Re.searchParams.append(Et,qe)})):(_e="POST",et=U);const Lt=new Headers(this.headers);return we&&Lt.set("Prefer",`count=${we}`),new Pe.default({method:_e,url:Re,headers:Lt,schema:this.schemaName,body:et,fetch:null!==(Oe=this.fetch)&&void 0!==Oe?Oe:fetch})}}ae.default=Ue},839:(Dt,ae)=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});class K extends Error{constructor(ge){super(ge.message),this.name="PostgrestError",this.details=ge.details,this.hint=ge.hint,this.code=ge.code}}ae.default=K},105:(Dt,ae,K)=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});const ge=K(582).__importDefault(K(594));ae.default=class Pe extends ge.default{eq(M,I){return this.url.searchParams.append(M,`eq.${I}`),this}neq(M,I){return this.url.searchParams.append(M,`neq.${I}`),this}gt(M,I){return this.url.searchParams.append(M,`gt.${I}`),this}gte(M,I){return this.url.searchParams.append(M,`gte.${I}`),this}lt(M,I){return this.url.searchParams.append(M,`lt.${I}`),this}lte(M,I){return this.url.searchParams.append(M,`lte.${I}`),this}like(M,I){return this.url.searchParams.append(M,`like.${I}`),this}likeAllOf(M,I){return this.url.searchParams.append(M,`like(all).{${I.join(",")}}`),this}likeAnyOf(M,I){return this.url.searchParams.append(M,`like(any).{${I.join(",")}}`),this}ilike(M,I){return this.url.searchParams.append(M,`ilike.${I}`),this}ilikeAllOf(M,I){return this.url.searchParams.append(M,`ilike(all).{${I.join(",")}}`),this}ilikeAnyOf(M,I){return this.url.searchParams.append(M,`ilike(any).{${I.join(",")}}`),this}is(M,I){return this.url.searchParams.append(M,`is.${I}`),this}in(M,I){const U=Array.from(new Set(I)).map(G=>"string"==typeof G&&new RegExp("[,()]").test(G)?`"${G}"`:`${G}`).join(",");return this.url.searchParams.append(M,`in.(${U})`),this}contains(M,I){return"string"==typeof I?this.url.searchParams.append(M,`cs.${I}`):Array.isArray(I)?this.url.searchParams.append(M,`cs.{${I.join(",")}}`):this.url.searchParams.append(M,`cs.${JSON.stringify(I)}`),this}containedBy(M,I){return"string"==typeof I?this.url.searchParams.append(M,`cd.${I}`):Array.isArray(I)?this.url.searchParams.append(M,`cd.{${I.join(",")}}`):this.url.searchParams.append(M,`cd.${JSON.stringify(I)}`),this}rangeGt(M,I){return this.url.searchParams.append(M,`sr.${I}`),this}rangeGte(M,I){return this.url.searchParams.append(M,`nxl.${I}`),this}rangeLt(M,I){return this.url.searchParams.append(M,`sl.${I}`),this}rangeLte(M,I){return this.url.searchParams.append(M,`nxr.${I}`),this}rangeAdjacent(M,I){return this.url.searchParams.append(M,`adj.${I}`),this}overlaps(M,I){return this.url.searchParams.append(M,"string"==typeof I?`ov.${I}`:`ov.{${I.join(",")}}`),this}textSearch(M,I,{config:U,type:G}={}){let Q="";return"plain"===G?Q="pl":"phrase"===G?Q="ph":"websearch"===G&&(Q="w"),this.url.searchParams.append(M,`${Q}fts${void 0===U?"":`(${U})`}.${I}`),this}match(M){return Object.entries(M).forEach(([I,U])=>{this.url.searchParams.append(I,`eq.${U}`)}),this}not(M,I,U){return this.url.searchParams.append(M,`not.${I}.${U}`),this}or(M,{foreignTable:I,referencedTable:U=I}={}){return this.url.searchParams.append(U?`${U}.or`:"or",`(${M})`),this}filter(M,I,U){return this.url.searchParams.append(M,`${I}.${U}`),this}}},241:(Dt,ae,K)=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});const ge=K(582).__importDefault(K(105));ae.default=class Pe{constructor(M,{headers:I={},schema:U,fetch:G}){this.url=M,this.headers=new Headers(I),this.schema=U,this.fetch=G}select(M,I){const{head:U=!1,count:G}=I??{},Q=U?"HEAD":"GET";let we=!1;const Oe=(M??"*").split("").map(_e=>/\s/.test(_e)&&!we?"":('"'===_e&&(we=!we),_e)).join("");return this.url.searchParams.set("select",Oe),G&&this.headers.append("Prefer",`count=${G}`),new ge.default({method:Q,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(M,{count:I,defaultToNull:U=!0}={}){var G;if(I&&this.headers.append("Prefer",`count=${I}`),U||this.headers.append("Prefer","missing=default"),Array.isArray(M)){const we=M.reduce((Oe,_e)=>Oe.concat(Object.keys(_e)),[]);if(we.length>0){const Oe=[...new Set(we)].map(_e=>`"${_e}"`);this.url.searchParams.set("columns",Oe.join(","))}}return new ge.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:M,fetch:null!==(G=this.fetch)&&void 0!==G?G:fetch})}upsert(M,{onConflict:I,ignoreDuplicates:U=!1,count:G,defaultToNull:Q=!0}={}){var we;if(this.headers.append("Prefer",`resolution=${U?"ignore":"merge"}-duplicates`),void 0!==I&&this.url.searchParams.set("on_conflict",I),G&&this.headers.append("Prefer",`count=${G}`),Q||this.headers.append("Prefer","missing=default"),Array.isArray(M)){const _e=M.reduce((Re,et)=>Re.concat(Object.keys(et)),[]);if(_e.length>0){const Re=[...new Set(_e)].map(et=>`"${et}"`);this.url.searchParams.set("columns",Re.join(","))}}return new ge.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:M,fetch:null!==(we=this.fetch)&&void 0!==we?we:fetch})}update(M,{count:I}={}){var U;return I&&this.headers.append("Prefer",`count=${I}`),new ge.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:M,fetch:null!==(U=this.fetch)&&void 0!==U?U:fetch})}delete({count:M}={}){var I;return M&&this.headers.append("Prefer",`count=${M}`),new ge.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(I=this.fetch)&&void 0!==I?I:fetch})}}},594:(Dt,ae,K)=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});const ge=K(582).__importDefault(K(369));ae.default=class Pe extends ge.default{select(M){let I=!1;const U=(M??"*").split("").map(G=>/\s/.test(G)&&!I?"":('"'===G&&(I=!I),G)).join("");return this.url.searchParams.set("select",U),this.headers.append("Prefer","return=representation"),this}order(M,{ascending:I=!0,nullsFirst:U,foreignTable:G,referencedTable:Q=G}={}){const we=Q?`${Q}.order`:"order",Oe=this.url.searchParams.get(we);return this.url.searchParams.set(we,`${Oe?`${Oe},`:""}${M}.${I?"asc":"desc"}${void 0===U?"":U?".nullsfirst":".nullslast"}`),this}limit(M,{foreignTable:I,referencedTable:U=I}={}){return this.url.searchParams.set(typeof U>"u"?"limit":`${U}.limit`,`${M}`),this}range(M,I,{foreignTable:U,referencedTable:G=U}={}){const we=typeof G>"u"?"limit":`${G}.limit`;return this.url.searchParams.set(typeof G>"u"?"offset":`${G}.offset`,`${M}`),this.url.searchParams.set(we,""+(I-M+1)),this}abortSignal(M){return this.signal=M,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:M=!1,verbose:I=!1,settings:U=!1,buffers:G=!1,wal:Q=!1,format:we="text"}={}){var Oe;const _e=[M?"analyze":null,I?"verbose":null,U?"settings":null,G?"buffers":null,Q?"wal":null].filter(Boolean).join("|"),Re=null!==(Oe=this.headers.get("Accept"))&&void 0!==Oe?Oe:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${we}; for="${Re}"; options=${_e};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(M){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${M}`),this}}},358:(Dt,ae,K)=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0}),ae.PostgrestError=ae.PostgrestBuilder=ae.PostgrestTransformBuilder=ae.PostgrestFilterBuilder=ae.PostgrestQueryBuilder=ae.PostgrestClient=void 0;const X=K(582),ge=X.__importDefault(K(851));ae.PostgrestClient=ge.default;const Pe=X.__importDefault(K(241));ae.PostgrestQueryBuilder=Pe.default;const Ue=X.__importDefault(K(105));ae.PostgrestFilterBuilder=Ue.default;const M=X.__importDefault(K(594));ae.PostgrestTransformBuilder=M.default;const I=X.__importDefault(K(369));ae.PostgrestBuilder=I.default;const U=X.__importDefault(K(839));ae.PostgrestError=U.default,ae.default={PostgrestClient:ge.default,PostgrestQueryBuilder:Pe.default,PostgrestFilterBuilder:Ue.default,PostgrestTransformBuilder:M.default,PostgrestBuilder:I.default,PostgrestError:U.default}},156:Dt=>{function ae(X,ge,Pe,Ue,M,I,U){try{var G=X[I](U),Q=G.value}catch(we){return void Pe(we)}G.done?ge(Q):Promise.resolve(Q).then(Ue,M)}Dt.exports=function K(X){return function(){var ge=this,Pe=arguments;return new Promise(function(Ue,M){var I=X.apply(ge,Pe);function U(Q){ae(I,Ue,M,U,G,"next",Q)}function G(Q){ae(I,Ue,M,U,G,"throw",Q)}U(void 0)})}},Dt.exports.__esModule=!0,Dt.exports.default=Dt.exports},582:(Dt,ae,K)=>{"use strict";K.r(ae),K.d(ae,{__addDisposableResource:()=>$e,__assign:()=>Pe,__asyncDelegator:()=>Zi,__asyncGenerator:()=>mn,__asyncValues:()=>Wt,__await:()=>qt,__awaiter:()=>_e,__classPrivateFieldGet:()=>Yn,__classPrivateFieldIn:()=>Xi,__classPrivateFieldSet:()=>Da,__createBinding:()=>et,__decorate:()=>M,__disposeResources:()=>Sa,__esDecorate:()=>U,__exportStar:()=>Lt,__extends:()=>ge,__generator:()=>Re,__importDefault:()=>No,__importStar:()=>wa,__makeTemplateObject:()=>yn,__metadata:()=>Oe,__param:()=>I,__propKey:()=>Q,__read:()=>qe,__rest:()=>Ue,__rewriteRelativeImportExtension:()=>Ma,__runInitializers:()=>G,__setFunctionName:()=>we,__spread:()=>tt,__spreadArray:()=>Kn,__spreadArrays:()=>bt,__values:()=>Et,default:()=>Qc});var X=function(v,D){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,w){S.__proto__=w}||function(S,w){for(var R in w)Object.prototype.hasOwnProperty.call(w,R)&&(S[R]=w[R])})(v,D)};function ge(v,D){if("function"!=typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function S(){this.constructor=v}X(v,D),v.prototype=null===D?Object.create(D):(S.prototype=D.prototype,new S)}var Pe=function(){return Pe=Object.assign||function(D){for(var S,w=1,R=arguments.length;w<R;w++)for(var j in S=arguments[w])Object.prototype.hasOwnProperty.call(S,j)&&(D[j]=S[j]);return D},Pe.apply(this,arguments)};function Ue(v,D){var S={};for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&D.indexOf(w)<0&&(S[w]=v[w]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var R=0;for(w=Object.getOwnPropertySymbols(v);R<w.length;R++)D.indexOf(w[R])<0&&Object.prototype.propertyIsEnumerable.call(v,w[R])&&(S[w[R]]=v[w[R]])}return S}function M(v,D,S,w){var O,R=arguments.length,j=R<3?D:null===w?w=Object.getOwnPropertyDescriptor(D,S):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(v,D,S,w);else for(var F=v.length-1;F>=0;F--)(O=v[F])&&(j=(R<3?O(j):R>3?O(D,S,j):O(D,S))||j);return R>3&&j&&Object.defineProperty(D,S,j),j}function I(v,D){return function(S,w){D(S,w,v)}}function U(v,D,S,w,R,j){function O(Qn){if(void 0!==Qn&&"function"!=typeof Qn)throw new TypeError("Function expected");return Qn}for(var mt,F=w.kind,wt="getter"===F?"get":"setter"===F?"set":"value",se=!D&&v?w.static?v:v.prototype:null,ze=D||(se?Object.getOwnPropertyDescriptor(se,w.name):{}),Vr=!1,Fe=S.length-1;Fe>=0;Fe--){var Tt={};for(var Jt in w)Tt[Jt]="access"===Jt?{}:w[Jt];for(var Jt in w.access)Tt.access[Jt]=w.access[Jt];Tt.addInitializer=function(Qn){if(Vr)throw new TypeError("Cannot add initializers after decoration has completed");j.push(O(Qn||null))};var vn=(0,S[Fe])("accessor"===F?{get:ze.get,set:ze.set}:ze[wt],Tt);if("accessor"===F){if(void 0===vn)continue;if(null===vn||"object"!=typeof vn)throw new TypeError("Object expected");(mt=O(vn.get))&&(ze.get=mt),(mt=O(vn.set))&&(ze.set=mt),(mt=O(vn.init))&&R.unshift(mt)}else(mt=O(vn))&&("field"===F?R.unshift(mt):ze[wt]=mt)}se&&Object.defineProperty(se,w.name,ze),Vr=!0}function G(v,D,S){for(var w=arguments.length>2,R=0;R<D.length;R++)S=w?D[R].call(v,S):D[R].call(v);return w?S:void 0}function Q(v){return"symbol"==typeof v?v:"".concat(v)}function we(v,D,S){return"symbol"==typeof D&&(D=D.description?"[".concat(D.description,"]"):""),Object.defineProperty(v,"name",{configurable:!0,value:S?"".concat(S," ",D):D})}function Oe(v,D){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(v,D)}function _e(v,D,S,w){return new(S||(S=Promise))(function(j,O){function F(ze){try{se(w.next(ze))}catch(mt){O(mt)}}function wt(ze){try{se(w.throw(ze))}catch(mt){O(mt)}}function se(ze){ze.done?j(ze.value):function R(j){return j instanceof S?j:new S(function(O){O(j)})}(ze.value).then(F,wt)}se((w=w.apply(v,D||[])).next())})}function Re(v,D){var w,R,j,S={label:0,sent:function(){if(1&j[0])throw j[1];return j[1]},trys:[],ops:[]},O=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return O.next=F(0),O.throw=F(1),O.return=F(2),"function"==typeof Symbol&&(O[Symbol.iterator]=function(){return this}),O;function F(se){return function(ze){return function wt(se){if(w)throw new TypeError("Generator is already executing.");for(;O&&(O=0,se[0]&&(S=0)),S;)try{if(w=1,R&&(j=2&se[0]?R.return:se[0]?R.throw||((j=R.return)&&j.call(R),0):R.next)&&!(j=j.call(R,se[1])).done)return j;switch(R=0,j&&(se=[2&se[0],j.value]),se[0]){case 0:case 1:j=se;break;case 4:return S.label++,{value:se[1],done:!1};case 5:S.label++,R=se[1],se=[0];continue;case 7:se=S.ops.pop(),S.trys.pop();continue;default:if(!(j=(j=S.trys).length>0&&j[j.length-1])&&(6===se[0]||2===se[0])){S=0;continue}if(3===se[0]&&(!j||se[1]>j[0]&&se[1]<j[3])){S.label=se[1];break}if(6===se[0]&&S.label<j[1]){S.label=j[1],j=se;break}if(j&&S.label<j[2]){S.label=j[2],S.ops.push(se);break}j[2]&&S.ops.pop(),S.trys.pop();continue}se=D.call(v,S)}catch(ze){se=[6,ze],R=0}finally{w=j=0}if(5&se[0])throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}([se,ze])}}}var et=Object.create?function(v,D,S,w){void 0===w&&(w=S);var R=Object.getOwnPropertyDescriptor(D,S);(!R||("get"in R?!D.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return D[S]}}),Object.defineProperty(v,w,R)}:function(v,D,S,w){void 0===w&&(w=S),v[w]=D[S]};function Lt(v,D){for(var S in v)"default"!==S&&!Object.prototype.hasOwnProperty.call(D,S)&&et(D,v,S)}function Et(v){var D="function"==typeof Symbol&&Symbol.iterator,S=D&&v[D],w=0;if(S)return S.call(v);if(v&&"number"==typeof v.length)return{next:function(){return v&&w>=v.length&&(v=void 0),{value:v&&v[w++],done:!v}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(v,D){var S="function"==typeof Symbol&&v[Symbol.iterator];if(!S)return v;var R,O,w=S.call(v),j=[];try{for(;(void 0===D||D-- >0)&&!(R=w.next()).done;)j.push(R.value)}catch(F){O={error:F}}finally{try{R&&!R.done&&(S=w.return)&&S.call(w)}finally{if(O)throw O.error}}return j}function tt(){for(var v=[],D=0;D<arguments.length;D++)v=v.concat(qe(arguments[D]));return v}function bt(){for(var v=0,D=0,S=arguments.length;D<S;D++)v+=arguments[D].length;var w=Array(v),R=0;for(D=0;D<S;D++)for(var j=arguments[D],O=0,F=j.length;O<F;O++,R++)w[R]=j[O];return w}function Kn(v,D,S){if(S||2===arguments.length)for(var j,w=0,R=D.length;w<R;w++)(j||!(w in D))&&(j||(j=Array.prototype.slice.call(D,0,w)),j[w]=D[w]);return v.concat(j||Array.prototype.slice.call(D))}function qt(v){return this instanceof qt?(this.v=v,this):new qt(v)}function mn(v,D,S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R,w=S.apply(v,D||[]),j=[];return R=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),F("next"),F("throw"),F("return",function O(Fe){return function(Tt){return Promise.resolve(Tt).then(Fe,mt)}}),R[Symbol.asyncIterator]=function(){return this},R;function F(Fe,Tt){w[Fe]&&(R[Fe]=function(Jt){return new Promise(function(vn,Qn){j.push([Fe,Jt,vn,Qn])>1||wt(Fe,Jt)})},Tt&&(R[Fe]=Tt(R[Fe])))}function wt(Fe,Tt){try{!function se(Fe){Fe.value instanceof qt?Promise.resolve(Fe.value.v).then(ze,mt):Vr(j[0][2],Fe)}(w[Fe](Tt))}catch(Jt){Vr(j[0][3],Jt)}}function ze(Fe){wt("next",Fe)}function mt(Fe){wt("throw",Fe)}function Vr(Fe,Tt){Fe(Tt),j.shift(),j.length&&wt(j[0][0],j[0][1])}}function Zi(v){var D,S;return D={},w("next"),w("throw",function(R){throw R}),w("return"),D[Symbol.iterator]=function(){return this},D;function w(R,j){D[R]=v[R]?function(O){return(S=!S)?{value:qt(v[R](O)),done:!1}:j?j(O):O}:j}}function Wt(v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var S,D=v[Symbol.asyncIterator];return D?D.call(v):(v=Et(v),S={},w("next"),w("throw"),w("return"),S[Symbol.asyncIterator]=function(){return this},S);function w(j){S[j]=v[j]&&function(O){return new Promise(function(F,wt){!function R(j,O,F,wt){Promise.resolve(wt).then(function(se){j({value:se,done:F})},O)}(F,wt,(O=v[j](O)).done,O.value)})}}}function yn(v,D){return Object.defineProperty?Object.defineProperty(v,"raw",{value:D}):v.raw=D,v}var jr=Object.create?function(v,D){Object.defineProperty(v,"default",{enumerable:!0,value:D})}:function(v,D){v.default=D},lo=function(v){return(lo=Object.getOwnPropertyNames||function(D){var S=[];for(var w in D)Object.prototype.hasOwnProperty.call(D,w)&&(S[S.length]=w);return S})(v)};function wa(v){if(v&&v.__esModule)return v;var D={};if(null!=v)for(var S=lo(v),w=0;w<S.length;w++)"default"!==S[w]&&et(D,v,S[w]);return jr(D,v),D}function No(v){return v&&v.__esModule?v:{default:v}}function Yn(v,D,S,w){if("a"===S&&!w)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof D?v!==D||!w:!D.has(v))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===S?w:"a"===S?w.call(v):w?w.value:D.get(v)}function Da(v,D,S,w,R){if("m"===w)throw new TypeError("Private method is not writable");if("a"===w&&!R)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof D?v!==D||!R:!D.has(v))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===w?R.call(v,S):R?R.value=S:D.set(v,S),S}function Xi(v,D){if(null===D||"object"!=typeof D&&"function"!=typeof D)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof v?D===v:v.has(D)}function $e(v,D,S){if(null!=D){if("object"!=typeof D&&"function"!=typeof D)throw new TypeError("Object expected.");var w,R;if(S){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");w=D[Symbol.asyncDispose]}if(void 0===w){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");w=D[Symbol.dispose],S&&(R=w)}if("function"!=typeof w)throw new TypeError("Object not disposable.");R&&(w=function(){try{R.call(this)}catch(j){return Promise.reject(j)}}),v.stack.push({value:D,dispose:w,async:S})}else S&&v.stack.push({async:!0});return D}var Ea="function"==typeof SuppressedError?SuppressedError:function(v,D,S){var w=new Error(S);return w.name="SuppressedError",w.error=v,w.suppressed=D,w};function Sa(v){function D(j){v.error=v.hasError?new Ea(j,v.error,"An error was suppressed during disposal."):j,v.hasError=!0}var S,w=0;return function R(){for(;S=v.stack.pop();)try{if(!S.async&&1===w)return w=0,v.stack.push(S),Promise.resolve().then(R);if(S.dispose){var j=S.dispose.call(S.value);if(S.async)return w|=2,Promise.resolve(j).then(R,function(O){return D(O),R()})}else w|=1}catch(O){D(O)}if(1===w)return v.hasError?Promise.reject(v.error):Promise.resolve();if(v.hasError)throw v.error}()}function Ma(v,D){return"string"==typeof v&&/^\.\.?\//.test(v)?v.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(S,w,R,j,O){return w?D?".jsx":".js":!R||j&&O?R+j+"."+O.toLowerCase()+"js":S}):v}const Qc={__extends:ge,__assign:Pe,__rest:Ue,__decorate:M,__param:I,__esDecorate:U,__runInitializers:G,__propKey:Q,__setFunctionName:we,__metadata:Oe,__awaiter:_e,__generator:Re,__createBinding:et,__exportStar:Lt,__values:Et,__read:qe,__spread:tt,__spreadArrays:bt,__spreadArray:Kn,__await:qt,__asyncGenerator:mn,__asyncDelegator:Zi,__asyncValues:Wt,__makeTemplateObject:yn,__importStar:wa,__importDefault:No,__classPrivateFieldGet:Yn,__classPrivateFieldSet:Da,__classPrivateFieldIn:Xi,__addDisposableResource:$e,__disposeResources:Sa,__rewriteRelativeImportExtension:Ma}}},Dt=>{Dt(Dt.s=538)}]);